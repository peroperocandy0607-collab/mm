(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function op(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lp={exports:{}},pa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy=Symbol.for("react.transitional.element"),ry=Symbol.for("react.fragment");function ap(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var o in t)o!=="key"&&(n[o]=t[o])}else n=t;return t=n.ref,{$$typeof:sy,type:e,key:i,ref:t!==void 0?t:null,props:n}}pa.Fragment=ry;pa.jsx=ap;pa.jsxs=ap;lp.exports=pa;var C=lp.exports,sp={exports:{}},H={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qr=Symbol.for("react.transitional.element"),uy=Symbol.for("react.portal"),cy=Symbol.for("react.fragment"),fy=Symbol.for("react.strict_mode"),dy=Symbol.for("react.profiler"),py=Symbol.for("react.consumer"),my=Symbol.for("react.context"),hy=Symbol.for("react.forward_ref"),gy=Symbol.for("react.suspense"),yy=Symbol.for("react.memo"),rp=Symbol.for("react.lazy"),vy=Symbol.for("react.activity"),Qu=Symbol.iterator;function Ty(e){return e===null||typeof e!="object"?null:(e=Qu&&e[Qu]||e["@@iterator"],typeof e=="function"?e:null)}var up={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cp=Object.assign,fp={};function Ui(e,t,n){this.props=e,this.context=t,this.refs=fp,this.updater=n||up}Ui.prototype.isReactComponent={};Ui.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ui.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function dp(){}dp.prototype=Ui.prototype;function zr(e,t,n){this.props=e,this.context=t,this.refs=fp,this.updater=n||up}var Pr=zr.prototype=new dp;Pr.constructor=zr;cp(Pr,Ui.prototype);Pr.isPureReactComponent=!0;var Zu=Array.isArray;function Ns(){}var le={H:null,A:null,T:null,S:null},pp=Object.prototype.hasOwnProperty;function Br(e,t,n){var i=n.ref;return{$$typeof:qr,type:e,key:t,ref:i!==void 0?i:null,props:n}}function Sy(e,t){return Br(e.type,t,e.props)}function kr(e){return typeof e=="object"&&e!==null&&e.$$typeof===qr}function Ey(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $u=/\/+/g;function Ba(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ey(""+e.key):t.toString(36)}function _y(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Ns,Ns):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Kn(e,t,n,i,o){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case qr:case uy:a=!0;break;case rp:return a=e._init,Kn(a(e._payload),t,n,i,o)}}if(a)return o=o(e),a=i===""?"."+Ba(e,0):i,Zu(o)?(n="",a!=null&&(n=a.replace($u,"$&/")+"/"),Kn(o,t,n,"",function(f){return f})):o!=null&&(kr(o)&&(o=Sy(o,n+(o.key==null||e&&e.key===o.key?"":(""+o.key).replace($u,"$&/")+"/")+a)),t.push(o)),1;a=0;var u=i===""?".":i+":";if(Zu(e))for(var c=0;c<e.length;c++)i=e[c],l=u+Ba(i,c),a+=Kn(i,t,n,l,o);else if(c=Ty(e),typeof c=="function")for(e=c.call(e),c=0;!(i=e.next()).done;)i=i.value,l=u+Ba(i,c++),a+=Kn(i,t,n,l,o);else if(l==="object"){if(typeof e.then=="function")return Kn(_y(e),t,n,i,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function Qo(e,t,n){if(e==null)return e;var i=[],o=0;return Kn(e,i,"","",function(l){return t.call(n,l,o++)}),i}function Cy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ay={map:Qo,forEach:function(e,t,n){Qo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Qo(e,function(){t++}),t},toArray:function(e){return Qo(e,function(t){return t})||[]},only:function(e){if(!kr(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Activity=vy;H.Children=Ay;H.Component=Ui;H.Fragment=cy;H.Profiler=dy;H.PureComponent=zr;H.StrictMode=fy;H.Suspense=gy;H.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le;H.__COMPILER_RUNTIME={__proto__:null,c:function(e){return le.H.useMemoCache(e)}};H.cache=function(e){return function(){return e.apply(null,arguments)}};H.cacheSignal=function(){return null};H.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=cp({},e.props),o=e.key;if(t!=null)for(l in t.key!==void 0&&(o=""+t.key),t)!pp.call(t,l)||l==="key"||l==="__self"||l==="__source"||l==="ref"&&t.ref===void 0||(i[l]=t[l]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return Br(e.type,o,i)};H.createContext=function(e){return e={$$typeof:my,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:py,_context:e},e};H.createElement=function(e,t,n){var i,o={},l=null;if(t!=null)for(i in t.key!==void 0&&(l=""+t.key),t)pp.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(o[i]=t[i]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in a=e.defaultProps,a)o[i]===void 0&&(o[i]=a[i]);return Br(e,l,o)};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:hy,render:e}};H.isValidElement=kr;H.lazy=function(e){return{$$typeof:rp,_payload:{_status:-1,_result:e},_init:Cy}};H.memo=function(e,t){return{$$typeof:yy,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=le.T,n={};le.T=n;try{var i=e(),o=le.S;o!==null&&o(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Ns,Wu)}catch(l){Wu(l)}finally{t!==null&&n.types!==null&&(t.types=n.types),le.T=t}};H.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()};H.use=function(e){return le.H.use(e)};H.useActionState=function(e,t,n){return le.H.useActionState(e,t,n)};H.useCallback=function(e,t){return le.H.useCallback(e,t)};H.useContext=function(e){return le.H.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e,t){return le.H.useDeferredValue(e,t)};H.useEffect=function(e,t){return le.H.useEffect(e,t)};H.useEffectEvent=function(e){return le.H.useEffectEvent(e)};H.useId=function(){return le.H.useId()};H.useImperativeHandle=function(e,t,n){return le.H.useImperativeHandle(e,t,n)};H.useInsertionEffect=function(e,t){return le.H.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return le.H.useLayoutEffect(e,t)};H.useMemo=function(e,t){return le.H.useMemo(e,t)};H.useOptimistic=function(e,t){return le.H.useOptimistic(e,t)};H.useReducer=function(e,t,n){return le.H.useReducer(e,t,n)};H.useRef=function(e){return le.H.useRef(e)};H.useState=function(e){return le.H.useState(e)};H.useSyncExternalStore=function(e,t,n){return le.H.useSyncExternalStore(e,t,n)};H.useTransition=function(){return le.H.useTransition()};H.version="19.2.3";sp.exports=H;var F=sp.exports;const Ry=op(F);var mp={exports:{}},ma={},hp={exports:{}},gp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(w,z){var P=w.length;w.push(z);e:for(;0<P;){var ce=P-1>>>1,Te=w[ce];if(0<o(Te,z))w[ce]=z,w[P]=Te,P=ce;else break e}}function n(w){return w.length===0?null:w[0]}function i(w){if(w.length===0)return null;var z=w[0],P=w.pop();if(P!==z){w[0]=P;e:for(var ce=0,Te=w.length,Jo=Te>>>1;ce<Jo;){var Xo=2*(ce+1)-1,Pa=w[Xo],_n=Xo+1,Ko=w[_n];if(0>o(Pa,P))_n<Te&&0>o(Ko,Pa)?(w[ce]=Ko,w[_n]=P,ce=_n):(w[ce]=Pa,w[Xo]=P,ce=Xo);else if(_n<Te&&0>o(Ko,P))w[ce]=Ko,w[_n]=P,ce=_n;else break e}}return z}function o(w,z){var P=w.sortIndex-z.sortIndex;return P!==0?P:w.id-z.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}var c=[],f=[],d=1,m=null,p=3,h=!1,T=!1,E=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function S(w){for(var z=n(f);z!==null;){if(z.callback===null)i(f);else if(z.startTime<=w)i(f),z.sortIndex=z.expirationTime,t(c,z);else break;z=n(f)}}function A(w){if(E=!1,S(w),!T)if(n(c)!==null)T=!0,I||(I=!0,J());else{var z=n(f);z!==null&&Yn(A,z.startTime-w)}}var I=!1,M=-1,D=5,x=-1;function N(){return _?!0:!(e.unstable_now()-x<D)}function b(){if(_=!1,I){var w=e.unstable_now();x=w;var z=!0;try{e:{T=!1,E&&(E=!1,g(M),M=-1),h=!0;var P=p;try{t:{for(S(w),m=n(c);m!==null&&!(m.expirationTime>w&&N());){var ce=m.callback;if(typeof ce=="function"){m.callback=null,p=m.priorityLevel;var Te=ce(m.expirationTime<=w);if(w=e.unstable_now(),typeof Te=="function"){m.callback=Te,S(w),z=!0;break t}m===n(c)&&i(c),S(w)}else i(c);m=n(c)}if(m!==null)z=!0;else{var Jo=n(f);Jo!==null&&Yn(A,Jo.startTime-w),z=!1}}break e}finally{m=null,p=P,h=!1}z=void 0}}finally{z?J():I=!1}}}var J;if(typeof v=="function")J=function(){v(b)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,W=q.port2;q.port1.onmessage=b,J=function(){W.postMessage(null)}}else J=function(){y(b,0)};function Yn(w,z){M=y(function(){w(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(w){w.callback=null},e.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<w?Math.floor(1e3/w):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(w){switch(p){case 1:case 2:case 3:var z=3;break;default:z=p}var P=p;p=z;try{return w()}finally{p=P}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(w,z){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var P=p;p=w;try{return z()}finally{p=P}},e.unstable_scheduleCallback=function(w,z,P){var ce=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?ce+P:ce):P=ce,w){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=P+Te,w={id:d++,callback:z,priorityLevel:w,startTime:P,expirationTime:Te,sortIndex:-1},P>ce?(w.sortIndex=P,t(f,w),n(c)===null&&w===n(f)&&(E?(g(M),M=-1):E=!0,Yn(A,P-ce))):(w.sortIndex=Te,t(c,w),T||h||(T=!0,I||(I=!0,J()))),w},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(w){var z=p;return function(){var P=p;p=z;try{return w.apply(this,arguments)}finally{p=P}}}})(gp);hp.exports=gp;var My=hp.exports,yp={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny=F;function vp(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Jt(){}var be={d:{f:Jt,r:function(){throw Error(vp(522))},D:Jt,C:Jt,L:Jt,m:Jt,X:Jt,S:Jt,M:Jt},p:0,findDOMNode:null},xy=Symbol.for("react.portal");function Iy(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xy,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var io=Ny.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ha(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=be;Ge.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(vp(299));return Iy(e,t,null,n)};Ge.flushSync=function(e){var t=io.T,n=be.p;try{if(io.T=null,be.p=2,e)return e()}finally{io.T=t,be.p=n,be.d.f()}};Ge.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,be.d.C(e,t))};Ge.prefetchDNS=function(e){typeof e=="string"&&be.d.D(e)};Ge.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=ha(n,t.crossOrigin),o=typeof t.integrity=="string"?t.integrity:void 0,l=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?be.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:o,fetchPriority:l}):n==="script"&&be.d.X(e,{crossOrigin:i,integrity:o,fetchPriority:l,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ge.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=ha(t.as,t.crossOrigin);be.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&be.d.M(e)};Ge.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=ha(n,t.crossOrigin);be.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ge.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=ha(t.as,t.crossOrigin);be.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else be.d.m(e)};Ge.requestFormReset=function(e){be.d.r(e)};Ge.unstable_batchedUpdates=function(e,t){return e(t)};Ge.useFormState=function(e,t,n){return io.H.useFormState(e,t,n)};Ge.useFormStatus=function(){return io.H.useHostTransitionStatus()};Ge.version="19.2.3";function Tp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Tp)}catch(e){console.error(e)}}Tp(),yp.exports=Ge;var Dy=yp.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ve=My,Sp=F,wy=Dy;function R(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ep(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Lo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function _p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cp(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ju(e){if(Lo(e)!==e)throw Error(R(188))}function Uy(e){var t=e.alternate;if(!t){if(t=Lo(e),t===null)throw Error(R(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var l=o.alternate;if(l===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===l.child){for(l=o.child;l;){if(l===n)return ju(o),e;if(l===i)return ju(o),t;l=l.sibling}throw Error(R(188))}if(n.return!==i.return)n=o,i=l;else{for(var a=!1,u=o.child;u;){if(u===n){a=!0,n=o,i=l;break}if(u===i){a=!0,i=o,n=l;break}u=u.sibling}if(!a){for(u=l.child;u;){if(u===n){a=!0,n=l,i=o;break}if(u===i){a=!0,i=l,n=o;break}u=u.sibling}if(!a)throw Error(R(189))}}if(n.alternate!==i)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?e:t}function Ap(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Ap(e),t!==null)return t;e=e.sibling}return null}var ae=Object.assign,by=Symbol.for("react.element"),Zo=Symbol.for("react.transitional.element"),$i=Symbol.for("react.portal"),Wn=Symbol.for("react.fragment"),Rp=Symbol.for("react.strict_mode"),xs=Symbol.for("react.profiler"),Mp=Symbol.for("react.consumer"),wt=Symbol.for("react.context"),Or=Symbol.for("react.forward_ref"),Is=Symbol.for("react.suspense"),Ds=Symbol.for("react.suspense_list"),Fr=Symbol.for("react.memo"),Kt=Symbol.for("react.lazy"),ws=Symbol.for("react.activity"),Ly=Symbol.for("react.memo_cache_sentinel"),ec=Symbol.iterator;function Oi(e){return e===null||typeof e!="object"?null:(e=ec&&e[ec]||e["@@iterator"],typeof e=="function"?e:null)}var Gy=Symbol.for("react.client.reference");function Us(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Gy?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wn:return"Fragment";case xs:return"Profiler";case Rp:return"StrictMode";case Is:return"Suspense";case Ds:return"SuspenseList";case ws:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $i:return"Portal";case wt:return e.displayName||"Context";case Mp:return(e._context.displayName||"Context")+".Consumer";case Or:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fr:return t=e.displayName||null,t!==null?t:Us(e.type)||"Memo";case Kt:t=e._payload,e=e._init;try{return Us(e(t))}catch{}}return null}var Wi=Array.isArray,L=Sp.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=wy.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,In={pending:!1,data:null,method:null,action:null},bs=[],jn=-1;function _t(e){return{current:e}}function _e(e){0>jn||(e.current=bs[jn],bs[jn]=null,jn--)}function ne(e,t){jn++,bs[jn]=e.current,e.current=t}var Et=_t(null),To=_t(null),an=_t(null),bl=_t(null);function Ll(e,t){switch(ne(an,t),ne(To,e),ne(Et,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?sf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=sf(t),e=Jh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}_e(Et),ne(Et,e)}function Ei(){_e(Et),_e(To),_e(an)}function Ls(e){e.memoizedState!==null&&ne(bl,e);var t=Et.current,n=Jh(t,e.type);t!==n&&(ne(To,e),ne(Et,n))}function Gl(e){To.current===e&&(_e(Et),_e(To)),bl.current===e&&(_e(bl),Do._currentValue=In)}var ka,tc;function An(e){if(ka===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ka=t&&t[1]||"",tc=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ka+e+tc}var Oa=!1;function Fa(e,t){if(!e||Oa)return"";Oa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(h){var p=h}Reflect.construct(e,[],m)}else{try{m.call()}catch(h){p=h}e.call(m.prototype)}}else{try{throw Error()}catch(h){p=h}(m=e())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(h){if(h&&p&&typeof h.stack=="string")return[h.stack,p.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=i.DetermineComponentFrameRoot(),a=l[0],u=l[1];if(a&&u){var c=a.split(`
`),f=u.split(`
`);for(o=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;o<f.length&&!f[o].includes("DetermineComponentFrameRoot");)o++;if(i===c.length||o===f.length)for(i=c.length-1,o=f.length-1;1<=i&&0<=o&&c[i]!==f[o];)o--;for(;1<=i&&0<=o;i--,o--)if(c[i]!==f[o]){if(i!==1||o!==1)do if(i--,o--,0>o||c[i]!==f[o]){var d=`
`+c[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=o);break}}}finally{Oa=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?An(n):""}function Hy(e,t){switch(e.tag){case 26:case 27:case 5:return An(e.type);case 16:return An("Lazy");case 13:return e.child!==t&&t!==null?An("Suspense Fallback"):An("Suspense");case 19:return An("SuspenseList");case 0:case 15:return Fa(e.type,!1);case 11:return Fa(e.type.render,!1);case 1:return Fa(e.type,!0);case 31:return An("Activity");default:return""}}function nc(e){try{var t="",n=null;do t+=Hy(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var Gs=Object.prototype.hasOwnProperty,Yr=ve.unstable_scheduleCallback,Ya=ve.unstable_cancelCallback,Vy=ve.unstable_shouldYield,qy=ve.unstable_requestPaint,Ke=ve.unstable_now,zy=ve.unstable_getCurrentPriorityLevel,Np=ve.unstable_ImmediatePriority,xp=ve.unstable_UserBlockingPriority,Hl=ve.unstable_NormalPriority,Py=ve.unstable_LowPriority,Ip=ve.unstable_IdlePriority,By=ve.log,ky=ve.unstable_setDisableYieldValue,Go=null,Qe=null;function en(e){if(typeof By=="function"&&ky(e),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(Go,e)}catch{}}var Ze=Math.clz32?Math.clz32:Yy,Oy=Math.log,Fy=Math.LN2;function Yy(e){return e>>>=0,e===0?32:31-(Oy(e)/Fy|0)|0}var $o=256,Wo=262144,jo=4194304;function Rn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ga(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var o=0,l=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var u=i&134217727;return u!==0?(i=u&~l,i!==0?o=Rn(i):(a&=u,a!==0?o=Rn(a):n||(n=u&~e,n!==0&&(o=Rn(n))))):(u=i&~l,u!==0?o=Rn(u):a!==0?o=Rn(a):n||(n=i&~e,n!==0&&(o=Rn(n)))),o===0?0:t!==0&&t!==o&&!(t&l)&&(l=o&-o,n=t&-t,l>=n||l===32&&(n&4194048)!==0)?t:o}function Ho(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Jy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dp(){var e=jo;return jo<<=1,!(jo&62914560)&&(jo=4194304),e}function Ja(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Vo(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Xy(e,t,n,i,o,l){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var u=e.entanglements,c=e.expirationTimes,f=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-Ze(n),m=1<<d;u[d]=0,c[d]=-1;var p=f[d];if(p!==null)for(f[d]=null,d=0;d<p.length;d++){var h=p[d];h!==null&&(h.lane&=-536870913)}n&=~m}i!==0&&wp(e,i,0),l!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=l&~(a&~t))}function wp(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Ze(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function Up(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ze(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}function bp(e,t){var n=t&-t;return n=n&42?1:Jr(n),n&(e.suspendedLanes|t)?0:n}function Jr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Xr(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Lp(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:ig(e.type))}function ic(e,t){var n=Q.p;try{return Q.p=e,t()}finally{Q.p=n}}var Tn=Math.random().toString(36).slice(2),Re="__reactFiber$"+Tn,Be="__reactProps$"+Tn,bi="__reactContainer$"+Tn,Hs="__reactEvents$"+Tn,Ky="__reactListeners$"+Tn,Qy="__reactHandles$"+Tn,oc="__reactResources$"+Tn,qo="__reactMarker$"+Tn;function Kr(e){delete e[Re],delete e[Be],delete e[Hs],delete e[Ky],delete e[Qy]}function ei(e){var t=e[Re];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bi]||n[Re]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=df(e);e!==null;){if(n=e[Re])return n;e=df(e)}return t}e=n,n=e.parentNode}return null}function Li(e){if(e=e[Re]||e[bi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ji(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(R(33))}function di(e){var t=e[oc];return t||(t=e[oc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ee(e){e[qo]=!0}var Gp=new Set,Hp={};function zn(e,t){_i(e,t),_i(e+"Capture",t)}function _i(e,t){for(Hp[e]=t,e=0;e<t.length;e++)Gp.add(t[e])}var Zy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lc={},ac={};function $y(e){return Gs.call(ac,e)?!0:Gs.call(lc,e)?!1:Zy.test(e)?ac[e]=!0:(lc[e]=!0,!1)}function gl(e,t,n){if($y(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function el(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function At(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function tt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wy(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,l=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(a){n=""+a,l.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vs(e){if(!e._valueTracker){var t=Vp(e)?"checked":"value";e._valueTracker=Wy(e,t,""+e[t])}}function qp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Vp(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Vl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var jy=/[\n"\\]/g;function ot(e){return e.replace(jy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function qs(e,t,n,i,o,l,a,u){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+tt(t)):e.value!==""+tt(t)&&(e.value=""+tt(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?zs(e,a,tt(t)):n!=null?zs(e,a,tt(n)):i!=null&&e.removeAttribute("value"),o==null&&l!=null&&(e.defaultChecked=!!l),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?e.name=""+tt(u):e.removeAttribute("name")}function zp(e,t,n,i,o,l,a,u){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.type=l),t!=null||n!=null){if(!(l!=="submit"&&l!=="reset"||t!=null)){Vs(e);return}n=n!=null?""+tt(n):"",t=t!=null?""+tt(t):n,u||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=u?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),Vs(e)}function zs(e,t,n){t==="number"&&Vl(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function pi(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+tt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Pp(e,t,n){if(t!=null&&(t=""+tt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+tt(n):""}function Bp(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(R(92));if(Wi(i)){if(1<i.length)throw Error(R(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=tt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Vs(e)}function Ci(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ev=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sc(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||ev.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function kp(e,t,n){if(t!=null&&typeof t!="object")throw Error(R(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&n[o]!==i&&sc(e,o,i)}else for(var l in t)t.hasOwnProperty(l)&&sc(e,l,t[l])}function Qr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),nv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yl(e){return nv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ut(){}var Ps=null;function Zr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ti=null,mi=null;function rc(e){var t=Li(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(qs(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ot(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=i[Be]||null;if(!o)throw Error(R(90));qs(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&qp(i)}break e;case"textarea":Pp(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&pi(e,!!n.multiple,t,!1)}}}var Xa=!1;function Op(e,t,n){if(Xa)return e(t,n);Xa=!0;try{var i=e(t);return i}finally{if(Xa=!1,(ti!==null||mi!==null)&&(xa(),ti&&(t=ti,e=mi,mi=ti=null,rc(t),e)))for(t=0;t<e.length;t++)rc(e[t])}}function So(e,t){var n=e.stateNode;if(n===null)return null;var i=n[Be]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(R(231,t,typeof n));return n}var Vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bs=!1;if(Vt)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){Bs=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{Bs=!1}var tn=null,$r=null,vl=null;function Fp(){if(vl)return vl;var e,t=$r,n=t.length,i,o="value"in tn?tn.value:tn.textContent,l=o.length;for(e=0;e<n&&t[e]===o[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===o[l-i];i++);return vl=o.slice(e,1<i?1-i:void 0)}function Tl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function tl(){return!0}function uc(){return!1}function ke(e){function t(n,i,o,l,a){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(l):l[u]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?tl:uc,this.isPropagationStopped=uc,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=tl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=tl)},persist:function(){},isPersistent:tl}),t}var Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ya=ke(Pn),zo=ae({},Pn,{view:0,detail:0}),iv=ke(zo),Ka,Qa,Yi,va=ae({},zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yi&&(Yi&&e.type==="mousemove"?(Ka=e.screenX-Yi.screenX,Qa=e.screenY-Yi.screenY):Qa=Ka=0,Yi=e),Ka)},movementY:function(e){return"movementY"in e?e.movementY:Qa}}),cc=ke(va),ov=ae({},va,{dataTransfer:0}),lv=ke(ov),av=ae({},zo,{relatedTarget:0}),Za=ke(av),sv=ae({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0}),rv=ke(sv),uv=ae({},Pn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cv=ke(uv),fv=ae({},Pn,{data:0}),fc=ke(fv),dv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mv[e])?!!t[e]:!1}function Wr(){return hv}var gv=ae({},zo,{key:function(e){if(e.key){var t=dv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Tl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wr,charCode:function(e){return e.type==="keypress"?Tl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yv=ke(gv),vv=ae({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dc=ke(vv),Tv=ae({},zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wr}),Sv=ke(Tv),Ev=ae({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),_v=ke(Ev),Cv=ae({},va,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Av=ke(Cv),Rv=ae({},Pn,{newState:0,oldState:0}),Mv=ke(Rv),Nv=[9,13,27,32],jr=Vt&&"CompositionEvent"in window,oo=null;Vt&&"documentMode"in document&&(oo=document.documentMode);var xv=Vt&&"TextEvent"in window&&!oo,Yp=Vt&&(!jr||oo&&8<oo&&11>=oo),pc=" ",mc=!1;function Jp(e,t){switch(e){case"keyup":return Nv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ni=!1;function Iv(e,t){switch(e){case"compositionend":return Xp(t);case"keypress":return t.which!==32?null:(mc=!0,pc);case"textInput":return e=t.data,e===pc&&mc?null:e;default:return null}}function Dv(e,t){if(ni)return e==="compositionend"||!jr&&Jp(e,t)?(e=Fp(),vl=$r=tn=null,ni=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yp&&t.locale!=="ko"?null:t.data;default:return null}}var wv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wv[e.type]:t==="textarea"}function Kp(e,t,n,i){ti?mi?mi.push(i):mi=[i]:ti=i,t=ta(t,"onChange"),0<t.length&&(n=new ya("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var lo=null,Eo=null;function Uv(e){Oh(e,0)}function Ta(e){var t=ji(e);if(qp(t))return e}function gc(e,t){if(e==="change")return t}var Qp=!1;if(Vt){var $a;if(Vt){var Wa="oninput"in document;if(!Wa){var yc=document.createElement("div");yc.setAttribute("oninput","return;"),Wa=typeof yc.oninput=="function"}$a=Wa}else $a=!1;Qp=$a&&(!document.documentMode||9<document.documentMode)}function vc(){lo&&(lo.detachEvent("onpropertychange",Zp),Eo=lo=null)}function Zp(e){if(e.propertyName==="value"&&Ta(Eo)){var t=[];Kp(t,Eo,e,Zr(e)),Op(Uv,t)}}function bv(e,t,n){e==="focusin"?(vc(),lo=t,Eo=n,lo.attachEvent("onpropertychange",Zp)):e==="focusout"&&vc()}function Lv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ta(Eo)}function Gv(e,t){if(e==="click")return Ta(t)}function Hv(e,t){if(e==="input"||e==="change")return Ta(t)}function Vv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var We=typeof Object.is=="function"?Object.is:Vv;function _o(e,t){if(We(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!Gs.call(t,o)||!We(e[o],t[o]))return!1}return!0}function Tc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sc(e,t){var n=Tc(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tc(n)}}function $p(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$p(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Vl(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Vl(e.document)}return t}function eu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var qv=Vt&&"documentMode"in document&&11>=document.documentMode,ii=null,ks=null,ao=null,Os=!1;function Ec(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Os||ii==null||ii!==Vl(i)||(i=ii,"selectionStart"in i&&eu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ao&&_o(ao,i)||(ao=i,i=ta(ks,"onSelect"),0<i.length&&(t=new ya("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ii)))}function Cn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var oi={animationend:Cn("Animation","AnimationEnd"),animationiteration:Cn("Animation","AnimationIteration"),animationstart:Cn("Animation","AnimationStart"),transitionrun:Cn("Transition","TransitionRun"),transitionstart:Cn("Transition","TransitionStart"),transitioncancel:Cn("Transition","TransitionCancel"),transitionend:Cn("Transition","TransitionEnd")},ja={},jp={};Vt&&(jp=document.createElement("div").style,"AnimationEvent"in window||(delete oi.animationend.animation,delete oi.animationiteration.animation,delete oi.animationstart.animation),"TransitionEvent"in window||delete oi.transitionend.transition);function Bn(e){if(ja[e])return ja[e];if(!oi[e])return e;var t=oi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jp)return ja[e]=t[n];return e}var em=Bn("animationend"),tm=Bn("animationiteration"),nm=Bn("animationstart"),zv=Bn("transitionrun"),Pv=Bn("transitionstart"),Bv=Bn("transitioncancel"),im=Bn("transitionend"),om=new Map,Fs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fs.push("scrollEnd");function gt(e,t){om.set(e,t),zn(t,[e])}var ql=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},et=[],li=0,tu=0;function Sa(){for(var e=li,t=tu=li=0;t<e;){var n=et[t];et[t++]=null;var i=et[t];et[t++]=null;var o=et[t];et[t++]=null;var l=et[t];if(et[t++]=null,i!==null&&o!==null){var a=i.pending;a===null?o.next=o:(o.next=a.next,a.next=o),i.pending=o}l!==0&&lm(n,o,l)}}function Ea(e,t,n,i){et[li++]=e,et[li++]=t,et[li++]=n,et[li++]=i,tu|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function nu(e,t,n,i){return Ea(e,t,n,i),zl(e)}function kn(e,t){return Ea(e,null,null,t),zl(e)}function lm(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var o=!1,l=e.return;l!==null;)l.childLanes|=n,i=l.alternate,i!==null&&(i.childLanes|=n),l.tag===22&&(e=l.stateNode,e===null||e._visibility&1||(o=!0)),e=l,l=l.return;return e.tag===3?(l=e.stateNode,o&&t!==null&&(o=31-Ze(n),e=l.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=n|536870912),l):null}function zl(e){if(50<go)throw go=0,fr=null,Error(R(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ai={};function kv(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Je(e,t,n,i){return new kv(e,t,n,i)}function iu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Lt(e,t){var n=e.alternate;return n===null?(n=Je(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function am(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Sl(e,t,n,i,o,l){var a=0;if(i=e,typeof e=="function")iu(e)&&(a=1);else if(typeof e=="string")a=X0(e,n,Et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ws:return e=Je(31,n,t,o),e.elementType=ws,e.lanes=l,e;case Wn:return Dn(n.children,o,l,t);case Rp:a=8,o|=24;break;case xs:return e=Je(12,n,t,o|2),e.elementType=xs,e.lanes=l,e;case Is:return e=Je(13,n,t,o),e.elementType=Is,e.lanes=l,e;case Ds:return e=Je(19,n,t,o),e.elementType=Ds,e.lanes=l,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wt:a=10;break e;case Mp:a=9;break e;case Or:a=11;break e;case Fr:a=14;break e;case Kt:a=16,i=null;break e}a=29,n=Error(R(130,e===null?"null":typeof e,"")),i=null}return t=Je(a,n,t,o),t.elementType=e,t.type=i,t.lanes=l,t}function Dn(e,t,n,i){return e=Je(7,e,i,t),e.lanes=n,e}function es(e,t,n){return e=Je(6,e,null,t),e.lanes=n,e}function sm(e){var t=Je(18,null,null,0);return t.stateNode=e,t}function ts(e,t,n){return t=Je(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var _c=new WeakMap;function lt(e,t){if(typeof e=="object"&&e!==null){var n=_c.get(e);return n!==void 0?n:(t={value:e,source:t,stack:nc(t)},_c.set(e,t),t)}return{value:e,source:t,stack:nc(t)}}var si=[],ri=0,Pl=null,Co=0,nt=[],it=0,hn=null,vt=1,Tt="";function It(e,t){si[ri++]=Co,si[ri++]=Pl,Pl=e,Co=t}function rm(e,t,n){nt[it++]=vt,nt[it++]=Tt,nt[it++]=hn,hn=e;var i=vt;e=Tt;var o=32-Ze(i)-1;i&=~(1<<o),n+=1;var l=32-Ze(t)+o;if(30<l){var a=o-o%5;l=(i&(1<<a)-1).toString(32),i>>=a,o-=a,vt=1<<32-Ze(t)+o|n<<o|i,Tt=l+e}else vt=1<<l|n<<o|i,Tt=e}function ou(e){e.return!==null&&(It(e,1),rm(e,1,0))}function lu(e){for(;e===Pl;)Pl=si[--ri],si[ri]=null,Co=si[--ri],si[ri]=null;for(;e===hn;)hn=nt[--it],nt[it]=null,Tt=nt[--it],nt[it]=null,vt=nt[--it],nt[it]=null}function um(e,t){nt[it++]=vt,nt[it++]=Tt,nt[it++]=hn,vt=t.id,Tt=t.overflow,hn=e}var Me=null,oe=null,Y=!1,sn=null,at=!1,Ys=Error(R(519));function gn(e){var t=Error(R(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ao(lt(t,e)),Ys}function Cc(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Re]=e,t[Be]=i,n){case"dialog":B("cancel",t),B("close",t);break;case"iframe":case"object":case"embed":B("load",t);break;case"video":case"audio":for(n=0;n<xo.length;n++)B(xo[n],t);break;case"source":B("error",t);break;case"img":case"image":case"link":B("error",t),B("load",t);break;case"details":B("toggle",t);break;case"input":B("invalid",t),zp(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":B("invalid",t);break;case"textarea":B("invalid",t),Bp(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Yh(t.textContent,n)?(i.popover!=null&&(B("beforetoggle",t),B("toggle",t)),i.onScroll!=null&&B("scroll",t),i.onScrollEnd!=null&&B("scrollend",t),i.onClick!=null&&(t.onclick=Ut),t=!0):t=!1,t||gn(e,!0)}function Ac(e){for(Me=e.return;Me;)switch(Me.tag){case 5:case 31:case 13:at=!1;return;case 27:case 3:at=!0;return;default:Me=Me.return}}function Jn(e){if(e!==Me)return!1;if(!Y)return Ac(e),Y=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||gr(e.type,e.memoizedProps)),n=!n),n&&oe&&gn(e),Ac(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));oe=ff(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));oe=ff(e)}else t===27?(t=oe,Sn(e.type)?(e=Sr,Sr=null,oe=e):oe=t):oe=Me?rt(e.stateNode.nextSibling):null;return!0}function Ln(){oe=Me=null,Y=!1}function ns(){var e=sn;return e!==null&&(ze===null?ze=e:ze.push.apply(ze,e),sn=null),e}function Ao(e){sn===null?sn=[e]:sn.push(e)}var Js=_t(null),On=null,bt=null;function Zt(e,t,n){ne(Js,t._currentValue),t._currentValue=n}function Gt(e){e._currentValue=Js.current,_e(Js)}function Xs(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ks(e,t,n,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){var a=o.child;l=l.firstContext;e:for(;l!==null;){var u=l;l=o;for(var c=0;c<t.length;c++)if(u.context===t[c]){l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Xs(l.return,n,e),i||(a=null);break e}l=u.next}}else if(o.tag===18){if(a=o.return,a===null)throw Error(R(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Xs(a,n,e),a=null}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}}function Gi(e,t,n,i){e=null;for(var o=t,l=!1;o!==null;){if(!l){if(o.flags&524288)l=!0;else if(o.flags&262144)break}if(o.tag===10){var a=o.alternate;if(a===null)throw Error(R(387));if(a=a.memoizedProps,a!==null){var u=o.type;We(o.pendingProps.value,a.value)||(e!==null?e.push(u):e=[u])}}else if(o===bl.current){if(a=o.alternate,a===null)throw Error(R(387));a.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Do):e=[Do])}o=o.return}e!==null&&Ks(t,e,n,i),t.flags|=262144}function Bl(e){for(e=e.firstContext;e!==null;){if(!We(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Gn(e){On=e,bt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ne(e){return cm(On,e)}function nl(e,t){return On===null&&Gn(e),cm(e,t)}function cm(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},bt===null){if(e===null)throw Error(R(308));bt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bt=bt.next=t;return n}var Ov=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Fv=ve.unstable_scheduleCallback,Yv=ve.unstable_NormalPriority,he={$$typeof:wt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function au(){return{controller:new Ov,data:new Map,refCount:0}}function Po(e){e.refCount--,e.refCount===0&&Fv(Yv,function(){e.controller.abort()})}var so=null,Qs=0,Ai=0,hi=null;function Jv(e,t){if(so===null){var n=so=[];Qs=0,Ai=wu(),hi={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Qs++,t.then(Rc,Rc),t}function Rc(){if(--Qs===0&&so!==null){hi!==null&&(hi.status="fulfilled");var e=so;so=null,Ai=0,hi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Xv(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),i}var Mc=L.S;L.S=function(e,t){Ah=Ke(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Jv(e,t),Mc!==null&&Mc(e,t)};var wn=_t(null);function su(){var e=wn.current;return e!==null?e:te.pooledCache}function El(e,t){t===null?ne(wn,wn.current):ne(wn,t.pool)}function fm(){var e=su();return e===null?null:{parent:he._currentValue,pool:e}}var Hi=Error(R(460)),ru=Error(R(474)),_a=Error(R(542)),kl={then:function(){}};function Nc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function dm(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ut,Ut),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ic(e),e;default:if(typeof t.status=="string")t.then(Ut,Ut);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(R(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ic(e),e}throw Un=t,Hi}}function Mn(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Un=n,Hi):n}}var Un=null;function xc(){if(Un===null)throw Error(R(459));var e=Un;return Un=null,e}function Ic(e){if(e===Hi||e===_a)throw Error(R(483))}var gi=null,Ro=0;function il(e){var t=Ro;return Ro+=1,gi===null&&(gi=[]),dm(gi,e,t)}function Ji(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ol(e,t){throw t.$$typeof===by?Error(R(525)):(e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function pm(e){function t(y,g){if(e){var v=y.deletions;v===null?(y.deletions=[g],y.flags|=16):v.push(g)}}function n(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function i(y){for(var g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function o(y,g){return y=Lt(y,g),y.index=0,y.sibling=null,y}function l(y,g,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<g?(y.flags|=67108866,g):v):(y.flags|=67108866,g)):(y.flags|=1048576,g)}function a(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function u(y,g,v,S){return g===null||g.tag!==6?(g=es(v,y.mode,S),g.return=y,g):(g=o(g,v),g.return=y,g)}function c(y,g,v,S){var A=v.type;return A===Wn?d(y,g,v.props.children,S,v.key):g!==null&&(g.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Kt&&Mn(A)===g.type)?(g=o(g,v.props),Ji(g,v),g.return=y,g):(g=Sl(v.type,v.key,v.props,null,y.mode,S),Ji(g,v),g.return=y,g)}function f(y,g,v,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=ts(v,y.mode,S),g.return=y,g):(g=o(g,v.children||[]),g.return=y,g)}function d(y,g,v,S,A){return g===null||g.tag!==7?(g=Dn(v,y.mode,S,A),g.return=y,g):(g=o(g,v),g.return=y,g)}function m(y,g,v){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=es(""+g,y.mode,v),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Zo:return v=Sl(g.type,g.key,g.props,null,y.mode,v),Ji(v,g),v.return=y,v;case $i:return g=ts(g,y.mode,v),g.return=y,g;case Kt:return g=Mn(g),m(y,g,v)}if(Wi(g)||Oi(g))return g=Dn(g,y.mode,v,null),g.return=y,g;if(typeof g.then=="function")return m(y,il(g),v);if(g.$$typeof===wt)return m(y,nl(y,g),v);ol(y,g)}return null}function p(y,g,v,S){var A=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return A!==null?null:u(y,g,""+v,S);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Zo:return v.key===A?c(y,g,v,S):null;case $i:return v.key===A?f(y,g,v,S):null;case Kt:return v=Mn(v),p(y,g,v,S)}if(Wi(v)||Oi(v))return A!==null?null:d(y,g,v,S,null);if(typeof v.then=="function")return p(y,g,il(v),S);if(v.$$typeof===wt)return p(y,g,nl(y,v),S);ol(y,v)}return null}function h(y,g,v,S,A){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return y=y.get(v)||null,u(g,y,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Zo:return y=y.get(S.key===null?v:S.key)||null,c(g,y,S,A);case $i:return y=y.get(S.key===null?v:S.key)||null,f(g,y,S,A);case Kt:return S=Mn(S),h(y,g,v,S,A)}if(Wi(S)||Oi(S))return y=y.get(v)||null,d(g,y,S,A,null);if(typeof S.then=="function")return h(y,g,v,il(S),A);if(S.$$typeof===wt)return h(y,g,v,nl(g,S),A);ol(g,S)}return null}function T(y,g,v,S){for(var A=null,I=null,M=g,D=g=0,x=null;M!==null&&D<v.length;D++){M.index>D?(x=M,M=null):x=M.sibling;var N=p(y,M,v[D],S);if(N===null){M===null&&(M=x);break}e&&M&&N.alternate===null&&t(y,M),g=l(N,g,D),I===null?A=N:I.sibling=N,I=N,M=x}if(D===v.length)return n(y,M),Y&&It(y,D),A;if(M===null){for(;D<v.length;D++)M=m(y,v[D],S),M!==null&&(g=l(M,g,D),I===null?A=M:I.sibling=M,I=M);return Y&&It(y,D),A}for(M=i(M);D<v.length;D++)x=h(M,y,D,v[D],S),x!==null&&(e&&x.alternate!==null&&M.delete(x.key===null?D:x.key),g=l(x,g,D),I===null?A=x:I.sibling=x,I=x);return e&&M.forEach(function(b){return t(y,b)}),Y&&It(y,D),A}function E(y,g,v,S){if(v==null)throw Error(R(151));for(var A=null,I=null,M=g,D=g=0,x=null,N=v.next();M!==null&&!N.done;D++,N=v.next()){M.index>D?(x=M,M=null):x=M.sibling;var b=p(y,M,N.value,S);if(b===null){M===null&&(M=x);break}e&&M&&b.alternate===null&&t(y,M),g=l(b,g,D),I===null?A=b:I.sibling=b,I=b,M=x}if(N.done)return n(y,M),Y&&It(y,D),A;if(M===null){for(;!N.done;D++,N=v.next())N=m(y,N.value,S),N!==null&&(g=l(N,g,D),I===null?A=N:I.sibling=N,I=N);return Y&&It(y,D),A}for(M=i(M);!N.done;D++,N=v.next())N=h(M,y,D,N.value,S),N!==null&&(e&&N.alternate!==null&&M.delete(N.key===null?D:N.key),g=l(N,g,D),I===null?A=N:I.sibling=N,I=N);return e&&M.forEach(function(J){return t(y,J)}),Y&&It(y,D),A}function _(y,g,v,S){if(typeof v=="object"&&v!==null&&v.type===Wn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Zo:e:{for(var A=v.key;g!==null;){if(g.key===A){if(A=v.type,A===Wn){if(g.tag===7){n(y,g.sibling),S=o(g,v.props.children),S.return=y,y=S;break e}}else if(g.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Kt&&Mn(A)===g.type){n(y,g.sibling),S=o(g,v.props),Ji(S,v),S.return=y,y=S;break e}n(y,g);break}else t(y,g);g=g.sibling}v.type===Wn?(S=Dn(v.props.children,y.mode,S,v.key),S.return=y,y=S):(S=Sl(v.type,v.key,v.props,null,y.mode,S),Ji(S,v),S.return=y,y=S)}return a(y);case $i:e:{for(A=v.key;g!==null;){if(g.key===A)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){n(y,g.sibling),S=o(g,v.children||[]),S.return=y,y=S;break e}else{n(y,g);break}else t(y,g);g=g.sibling}S=ts(v,y.mode,S),S.return=y,y=S}return a(y);case Kt:return v=Mn(v),_(y,g,v,S)}if(Wi(v))return T(y,g,v,S);if(Oi(v)){if(A=Oi(v),typeof A!="function")throw Error(R(150));return v=A.call(v),E(y,g,v,S)}if(typeof v.then=="function")return _(y,g,il(v),S);if(v.$$typeof===wt)return _(y,g,nl(y,v),S);ol(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,g!==null&&g.tag===6?(n(y,g.sibling),S=o(g,v),S.return=y,y=S):(n(y,g),S=es(v,y.mode,S),S.return=y,y=S),a(y)):n(y,g)}return function(y,g,v,S){try{Ro=0;var A=_(y,g,v,S);return gi=null,A}catch(M){if(M===Hi||M===_a)throw M;var I=Je(29,M,null,y.mode);return I.lanes=S,I.return=y,I}finally{}}}var Hn=pm(!0),mm=pm(!1),Qt=!1;function uu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function rn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function un(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,K&2){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=zl(e),lm(e,null,n),t}return Ea(e,i,t,n),zl(e)}function ro(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Up(e,n)}}function is(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};l===null?o=l=a:l=l.next=a,n=n.next}while(n!==null);l===null?o=l=t:l=l.next=t}else o=l=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:l,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var $s=!1;function uo(){if($s){var e=hi;if(e!==null)throw e}}function co(e,t,n,i){$s=!1;var o=e.updateQueue;Qt=!1;var l=o.firstBaseUpdate,a=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var c=u,f=c.next;c.next=null,a===null?l=f:a.next=f,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==a&&(u===null?d.firstBaseUpdate=f:u.next=f,d.lastBaseUpdate=c))}if(l!==null){var m=o.baseState;a=0,d=f=c=null,u=l;do{var p=u.lane&-536870913,h=p!==u.lane;if(h?(O&p)===p:(i&p)===p){p!==0&&p===Ai&&($s=!0),d!==null&&(d=d.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var T=e,E=u;p=t;var _=n;switch(E.tag){case 1:if(T=E.payload,typeof T=="function"){m=T.call(_,m,p);break e}m=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=E.payload,p=typeof T=="function"?T.call(_,m,p):T,p==null)break e;m=ae({},m,p);break e;case 2:Qt=!0}}p=u.callback,p!==null&&(e.flags|=64,h&&(e.flags|=8192),h=o.callbacks,h===null?o.callbacks=[p]:h.push(p))}else h={lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(f=d=h,c=m):d=d.next=h,a|=p;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;h=u,u=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);d===null&&(c=m),o.baseState=c,o.firstBaseUpdate=f,o.lastBaseUpdate=d,l===null&&(o.shared.lanes=0),vn|=a,e.lanes=a,e.memoizedState=m}}function hm(e,t){if(typeof e!="function")throw Error(R(191,e));e.call(t)}function gm(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)hm(n[e],t)}var Ri=_t(null),Ol=_t(0);function Dc(e,t){e=Bt,ne(Ol,e),ne(Ri,t),Bt=e|t.baseLanes}function Ws(){ne(Ol,Bt),ne(Ri,Ri.current)}function cu(){Bt=Ol.current,_e(Ri),_e(Ol)}var je=_t(null),st=null;function $t(e){var t=e.alternate;ne(fe,fe.current&1),ne(je,e),st===null&&(t===null||Ri.current!==null||t.memoizedState!==null)&&(st=e)}function js(e){ne(fe,fe.current),ne(je,e),st===null&&(st=e)}function ym(e){e.tag===22?(ne(fe,fe.current),ne(je,e),st===null&&(st=e)):Wt()}function Wt(){ne(fe,fe.current),ne(je,je.current)}function Ye(e){_e(je),st===e&&(st=null),_e(fe)}var fe=_t(0);function Fl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||vr(n)||Tr(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qt=0,V=null,ee=null,pe=null,Yl=!1,yi=!1,Vn=!1,Jl=0,Mo=0,vi=null,Kv=0;function re(){throw Error(R(321))}function fu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!We(e[n],t[n]))return!1;return!0}function du(e,t,n,i,o,l){return qt=l,V=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?Km:Cu,Vn=!1,l=n(i,o),Vn=!1,yi&&(l=Tm(t,n,i,o)),vm(e),l}function vm(e){L.H=No;var t=ee!==null&&ee.next!==null;if(qt=0,pe=ee=V=null,Yl=!1,Mo=0,vi=null,t)throw Error(R(300));e===null||ge||(e=e.dependencies,e!==null&&Bl(e)&&(ge=!0))}function Tm(e,t,n,i){V=e;var o=0;do{if(yi&&(vi=null),Mo=0,yi=!1,25<=o)throw Error(R(301));if(o+=1,pe=ee=null,e.updateQueue!=null){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}L.H=Qm,l=t(n,i)}while(yi);return l}function Qv(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?Bo(t):t,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(V.flags|=1024),t}function pu(){var e=Jl!==0;return Jl=0,e}function mu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function hu(e){if(Yl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Yl=!1}qt=0,pe=ee=V=null,yi=!1,Mo=Jl=0,vi=null}function De(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?V.memoizedState=pe=e:pe=pe.next=e,pe}function de(){if(ee===null){var e=V.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var t=pe===null?V.memoizedState:pe.next;if(t!==null)pe=t,ee=e;else{if(e===null)throw V.alternate===null?Error(R(467)):Error(R(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},pe===null?V.memoizedState=pe=e:pe=pe.next=e}return pe}function Ca(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bo(e){var t=Mo;return Mo+=1,vi===null&&(vi=[]),e=dm(vi,e,t),t=V,(pe===null?t.memoizedState:pe.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?Km:Cu),e}function Aa(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bo(e);if(e.$$typeof===wt)return Ne(e)}throw Error(R(438,String(e)))}function gu(e){var t=null,n=V.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=V.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Ca(),V.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=Ly;return t.index++,n}function zt(e,t){return typeof t=="function"?t(e):t}function _l(e){var t=de();return yu(t,ee,e)}function yu(e,t,n){var i=e.queue;if(i===null)throw Error(R(311));i.lastRenderedReducer=n;var o=e.baseQueue,l=i.pending;if(l!==null){if(o!==null){var a=o.next;o.next=l.next,l.next=a}t.baseQueue=o=l,i.pending=null}if(l=e.baseState,o===null)e.memoizedState=l;else{t=o.next;var u=a=null,c=null,f=t,d=!1;do{var m=f.lane&-536870913;if(m!==f.lane?(O&m)===m:(qt&m)===m){var p=f.revertLane;if(p===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),m===Ai&&(d=!0);else if((qt&p)===p){f=f.next,p===Ai&&(d=!0);continue}else m={lane:0,revertLane:f.revertLane,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=m,a=l):c=c.next=m,V.lanes|=p,vn|=p;m=f.action,Vn&&n(l,m),l=f.hasEagerState?f.eagerState:n(l,m)}else p={lane:m,revertLane:f.revertLane,gesture:f.gesture,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=p,a=l):c=c.next=p,V.lanes|=m,vn|=m;f=f.next}while(f!==null&&f!==t);if(c===null?a=l:c.next=u,!We(l,e.memoizedState)&&(ge=!0,d&&(n=hi,n!==null)))throw n;e.memoizedState=l,e.baseState=a,e.baseQueue=c,i.lastRenderedState=l}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function os(e){var t=de(),n=t.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,l=t.memoizedState;if(o!==null){n.pending=null;var a=o=o.next;do l=e(l,a.action),a=a.next;while(a!==o);We(l,t.memoizedState)||(ge=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,i]}function Sm(e,t,n){var i=V,o=de(),l=Y;if(l){if(n===void 0)throw Error(R(407));n=n()}else n=t();var a=!We((ee||o).memoizedState,n);if(a&&(o.memoizedState=n,ge=!0),o=o.queue,vu(Cm.bind(null,i,o,e),[e]),o.getSnapshot!==t||a||pe!==null&&pe.memoizedState.tag&1){if(i.flags|=2048,Mi(9,{destroy:void 0},_m.bind(null,i,o,n,t),null),te===null)throw Error(R(349));l||qt&127||Em(i,t,n)}return n}function Em(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=V.updateQueue,t===null?(t=Ca(),V.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _m(e,t,n,i){t.value=n,t.getSnapshot=i,Am(t)&&Rm(e)}function Cm(e,t,n){return n(function(){Am(t)&&Rm(e)})}function Am(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!We(e,n)}catch{return!0}}function Rm(e){var t=kn(e,2);t!==null&&Pe(t,e,2)}function er(e){var t=De();if(typeof e=="function"){var n=e;if(e=n(),Vn){en(!0);try{n()}finally{en(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zt,lastRenderedState:e},t}function Mm(e,t,n,i){return e.baseState=n,yu(e,ee,typeof i=="function"?i:zt)}function Zv(e,t,n,i,o){if(Ma(e))throw Error(R(485));if(e=t.action,e!==null){var l={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){l.listeners.push(a)}};L.T!==null?n(!0):l.isTransition=!1,i(l),n=t.pending,n===null?(l.next=t.pending=l,Nm(t,l)):(l.next=n.next,t.pending=n.next=l)}}function Nm(e,t){var n=t.action,i=t.payload,o=e.state;if(t.isTransition){var l=L.T,a={};L.T=a;try{var u=n(o,i),c=L.S;c!==null&&c(a,u),wc(e,t,u)}catch(f){tr(e,t,f)}finally{l!==null&&a.types!==null&&(l.types=a.types),L.T=l}}else try{l=n(o,i),wc(e,t,l)}catch(f){tr(e,t,f)}}function wc(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Uc(e,t,i)},function(i){return tr(e,t,i)}):Uc(e,t,n)}function Uc(e,t,n){t.status="fulfilled",t.value=n,xm(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Nm(e,n)))}function tr(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,xm(t),t=t.next;while(t!==i)}e.action=null}function xm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Im(e,t){return t}function bc(e,t){if(Y){var n=te.formState;if(n!==null){e:{var i=V;if(Y){if(oe){t:{for(var o=oe,l=at;o.nodeType!==8;){if(!l){o=null;break t}if(o=rt(o.nextSibling),o===null){o=null;break t}}l=o.data,o=l==="F!"||l==="F"?o:null}if(o){oe=rt(o.nextSibling),i=o.data==="F!";break e}}gn(i)}i=!1}i&&(t=n[0])}}return n=De(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Im,lastRenderedState:t},n.queue=i,n=Ym.bind(null,V,i),i.dispatch=n,i=er(!1),l=_u.bind(null,V,!1,i.queue),i=De(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,n=Zv.bind(null,V,o,l,n),o.dispatch=n,i.memoizedState=e,[t,n,!1]}function Lc(e){var t=de();return Dm(t,ee,e)}function Dm(e,t,n){if(t=yu(e,t,Im)[0],e=_l(zt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=Bo(t)}catch(a){throw a===Hi?_a:a}else i=t;t=de();var o=t.queue,l=o.dispatch;return n!==t.memoizedState&&(V.flags|=2048,Mi(9,{destroy:void 0},$v.bind(null,o,n),null)),[i,l,e]}function $v(e,t){e.action=t}function Gc(e){var t=de(),n=ee;if(n!==null)return Dm(t,n,e);de(),t=t.memoizedState,n=de();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Mi(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=V.updateQueue,t===null&&(t=Ca(),V.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function wm(){return de().memoizedState}function Cl(e,t,n,i){var o=De();V.flags|=e,o.memoizedState=Mi(1|t,{destroy:void 0},n,i===void 0?null:i)}function Ra(e,t,n,i){var o=de();i=i===void 0?null:i;var l=o.memoizedState.inst;ee!==null&&i!==null&&fu(i,ee.memoizedState.deps)?o.memoizedState=Mi(t,l,n,i):(V.flags|=e,o.memoizedState=Mi(1|t,l,n,i))}function Hc(e,t){Cl(8390656,8,e,t)}function vu(e,t){Ra(2048,8,e,t)}function Wv(e){V.flags|=4;var t=V.updateQueue;if(t===null)t=Ca(),V.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Um(e){var t=de().memoizedState;return Wv({ref:t,nextImpl:e}),function(){if(K&2)throw Error(R(440));return t.impl.apply(void 0,arguments)}}function bm(e,t){return Ra(4,2,e,t)}function Lm(e,t){return Ra(4,4,e,t)}function Gm(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hm(e,t,n){n=n!=null?n.concat([e]):null,Ra(4,4,Gm.bind(null,t,e),n)}function Tu(){}function Vm(e,t){var n=de();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&fu(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function qm(e,t){var n=de();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&fu(t,i[1]))return i[0];if(i=e(),Vn){en(!0);try{e()}finally{en(!1)}}return n.memoizedState=[i,t],i}function Su(e,t,n){return n===void 0||qt&1073741824&&!(O&261930)?e.memoizedState=t:(e.memoizedState=n,e=Mh(),V.lanes|=e,vn|=e,n)}function zm(e,t,n,i){return We(n,t)?n:Ri.current!==null?(e=Su(e,n,i),We(e,t)||(ge=!0),e):!(qt&42)||qt&1073741824&&!(O&261930)?(ge=!0,e.memoizedState=n):(e=Mh(),V.lanes|=e,vn|=e,t)}function Pm(e,t,n,i,o){var l=Q.p;Q.p=l!==0&&8>l?l:8;var a=L.T,u={};L.T=u,_u(e,!1,t,n);try{var c=o(),f=L.S;if(f!==null&&f(u,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=Xv(c,i);fo(e,t,d,$e(e))}else fo(e,t,i,$e(e))}catch(m){fo(e,t,{then:function(){},status:"rejected",reason:m},$e())}finally{Q.p=l,a!==null&&u.types!==null&&(a.types=u.types),L.T=a}}function jv(){}function nr(e,t,n,i){if(e.tag!==5)throw Error(R(476));var o=Bm(e).queue;Pm(e,o,t,In,n===null?jv:function(){return km(e),n(i)})}function Bm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:In,baseState:In,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zt,lastRenderedState:In},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zt,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function km(e){var t=Bm(e);t.next===null&&(t=e.alternate.memoizedState),fo(e,t.next.queue,{},$e())}function Eu(){return Ne(Do)}function Om(){return de().memoizedState}function Fm(){return de().memoizedState}function e0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=$e();e=rn(n);var i=un(t,e,n);i!==null&&(Pe(i,t,n),ro(i,t,n)),t={cache:au()},e.payload=t;return}t=t.return}}function t0(e,t,n){var i=$e();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ma(e)?Jm(t,n):(n=nu(e,t,n,i),n!==null&&(Pe(n,e,i),Xm(n,t,i)))}function Ym(e,t,n){var i=$e();fo(e,t,n,i)}function fo(e,t,n,i){var o={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ma(e))Jm(t,o);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var a=t.lastRenderedState,u=l(a,n);if(o.hasEagerState=!0,o.eagerState=u,We(u,a))return Ea(e,t,o,0),te===null&&Sa(),!1}catch{}finally{}if(n=nu(e,t,o,i),n!==null)return Pe(n,e,i),Xm(n,t,i),!0}return!1}function _u(e,t,n,i){if(i={lane:2,revertLane:wu(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Ma(e)){if(t)throw Error(R(479))}else t=nu(e,n,i,2),t!==null&&Pe(t,e,2)}function Ma(e){var t=e.alternate;return e===V||t!==null&&t===V}function Jm(e,t){yi=Yl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xm(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Up(e,n)}}var No={readContext:Ne,use:Aa,useCallback:re,useContext:re,useEffect:re,useImperativeHandle:re,useLayoutEffect:re,useInsertionEffect:re,useMemo:re,useReducer:re,useRef:re,useState:re,useDebugValue:re,useDeferredValue:re,useTransition:re,useSyncExternalStore:re,useId:re,useHostTransitionStatus:re,useFormState:re,useActionState:re,useOptimistic:re,useMemoCache:re,useCacheRefresh:re};No.useEffectEvent=re;var Km={readContext:Ne,use:Aa,useCallback:function(e,t){return De().memoizedState=[e,t===void 0?null:t],e},useContext:Ne,useEffect:Hc,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Cl(4194308,4,Gm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cl(4194308,4,e,t)},useInsertionEffect:function(e,t){Cl(4,2,e,t)},useMemo:function(e,t){var n=De();t=t===void 0?null:t;var i=e();if(Vn){en(!0);try{e()}finally{en(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=De();if(n!==void 0){var o=n(t);if(Vn){en(!0);try{n(t)}finally{en(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=t0.bind(null,V,e),[i.memoizedState,e]},useRef:function(e){var t=De();return e={current:e},t.memoizedState=e},useState:function(e){e=er(e);var t=e.queue,n=Ym.bind(null,V,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Tu,useDeferredValue:function(e,t){var n=De();return Su(n,e,t)},useTransition:function(){var e=er(!1);return e=Pm.bind(null,V,e.queue,!0,!1),De().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=V,o=De();if(Y){if(n===void 0)throw Error(R(407));n=n()}else{if(n=t(),te===null)throw Error(R(349));O&127||Em(i,t,n)}o.memoizedState=n;var l={value:n,getSnapshot:t};return o.queue=l,Hc(Cm.bind(null,i,l,e),[e]),i.flags|=2048,Mi(9,{destroy:void 0},_m.bind(null,i,l,n,t),null),n},useId:function(){var e=De(),t=te.identifierPrefix;if(Y){var n=Tt,i=vt;n=(i&~(1<<32-Ze(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Jl++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Kv++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Eu,useFormState:bc,useActionState:bc,useOptimistic:function(e){var t=De();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=_u.bind(null,V,!0,n),n.dispatch=t,[e,t]},useMemoCache:gu,useCacheRefresh:function(){return De().memoizedState=e0.bind(null,V)},useEffectEvent:function(e){var t=De(),n={impl:e};return t.memoizedState=n,function(){if(K&2)throw Error(R(440));return n.impl.apply(void 0,arguments)}}},Cu={readContext:Ne,use:Aa,useCallback:Vm,useContext:Ne,useEffect:vu,useImperativeHandle:Hm,useInsertionEffect:bm,useLayoutEffect:Lm,useMemo:qm,useReducer:_l,useRef:wm,useState:function(){return _l(zt)},useDebugValue:Tu,useDeferredValue:function(e,t){var n=de();return zm(n,ee.memoizedState,e,t)},useTransition:function(){var e=_l(zt)[0],t=de().memoizedState;return[typeof e=="boolean"?e:Bo(e),t]},useSyncExternalStore:Sm,useId:Om,useHostTransitionStatus:Eu,useFormState:Lc,useActionState:Lc,useOptimistic:function(e,t){var n=de();return Mm(n,ee,e,t)},useMemoCache:gu,useCacheRefresh:Fm};Cu.useEffectEvent=Um;var Qm={readContext:Ne,use:Aa,useCallback:Vm,useContext:Ne,useEffect:vu,useImperativeHandle:Hm,useInsertionEffect:bm,useLayoutEffect:Lm,useMemo:qm,useReducer:os,useRef:wm,useState:function(){return os(zt)},useDebugValue:Tu,useDeferredValue:function(e,t){var n=de();return ee===null?Su(n,e,t):zm(n,ee.memoizedState,e,t)},useTransition:function(){var e=os(zt)[0],t=de().memoizedState;return[typeof e=="boolean"?e:Bo(e),t]},useSyncExternalStore:Sm,useId:Om,useHostTransitionStatus:Eu,useFormState:Gc,useActionState:Gc,useOptimistic:function(e,t){var n=de();return ee!==null?Mm(n,ee,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:gu,useCacheRefresh:Fm};Qm.useEffectEvent=Um;function ls(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:ae({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ir={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=$e(),o=rn(i);o.payload=t,n!=null&&(o.callback=n),t=un(e,o,i),t!==null&&(Pe(t,e,i),ro(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=$e(),o=rn(i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=un(e,o,i),t!==null&&(Pe(t,e,i),ro(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$e(),i=rn(n);i.tag=2,t!=null&&(i.callback=t),t=un(e,i,n),t!==null&&(Pe(t,e,n),ro(t,e,n))}};function Vc(e,t,n,i,o,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,l,a):t.prototype&&t.prototype.isPureReactComponent?!_o(n,i)||!_o(o,l):!0}function qc(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ir.enqueueReplaceState(t,t.state,null)}function qn(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=ae({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function Zm(e){ql(e)}function $m(e){console.error(e)}function Wm(e){ql(e)}function Xl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function zc(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function or(e,t,n){return n=rn(n),n.tag=3,n.payload={element:null},n.callback=function(){Xl(e,t)},n}function jm(e){return e=rn(e),e.tag=3,e}function eh(e,t,n,i){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var l=i.value;e.payload=function(){return o(l)},e.callback=function(){zc(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){zc(t,n,i),typeof o!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var u=i.stack;this.componentDidCatch(i.value,{componentStack:u!==null?u:""})})}function n0(e,t,n,i,o){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Gi(t,n,o,!0),n=je.current,n!==null){switch(n.tag){case 31:case 13:return st===null?Wl():n.alternate===null&&ue===0&&(ue=3),n.flags&=-257,n.flags|=65536,n.lanes=o,i===kl?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),gs(e,i,o)),!1;case 22:return n.flags|=65536,i===kl?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),gs(e,i,o)),!1}throw Error(R(435,n.tag))}return gs(e,i,o),Wl(),!1}if(Y)return t=je.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==Ys&&(e=Error(R(422),{cause:i}),Ao(lt(e,n)))):(i!==Ys&&(t=Error(R(423),{cause:i}),Ao(lt(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=lt(i,n),o=or(e.stateNode,i,o),is(e,o),ue!==4&&(ue=2)),!1;var l=Error(R(520),{cause:i});if(l=lt(l,n),ho===null?ho=[l]:ho.push(l),ue!==4&&(ue=2),t===null)return!0;i=lt(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=or(n.stateNode,i,e),is(n,e),!1;case 1:if(t=n.type,l=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(cn===null||!cn.has(l))))return n.flags|=65536,o&=-o,n.lanes|=o,o=jm(o),eh(o,e,n,i),is(n,o),!1}n=n.return}while(n!==null);return!1}var Au=Error(R(461)),ge=!1;function Ae(e,t,n,i){t.child=e===null?mm(t,null,n,i):Hn(t,e.child,n,i)}function Pc(e,t,n,i,o){n=n.render;var l=t.ref;if("ref"in i){var a={};for(var u in i)u!=="ref"&&(a[u]=i[u])}else a=i;return Gn(t),i=du(e,t,n,a,l,o),u=pu(),e!==null&&!ge?(mu(e,t,o),Pt(e,t,o)):(Y&&u&&ou(t),t.flags|=1,Ae(e,t,i,o),t.child)}function Bc(e,t,n,i,o){if(e===null){var l=n.type;return typeof l=="function"&&!iu(l)&&l.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=l,th(e,t,l,i,o)):(e=Sl(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!Ru(e,o)){var a=l.memoizedProps;if(n=n.compare,n=n!==null?n:_o,n(a,i)&&e.ref===t.ref)return Pt(e,t,o)}return t.flags|=1,e=Lt(l,i),e.ref=t.ref,e.return=t,t.child=e}function th(e,t,n,i,o){if(e!==null){var l=e.memoizedProps;if(_o(l,i)&&e.ref===t.ref)if(ge=!1,t.pendingProps=i=l,Ru(e,o))e.flags&131072&&(ge=!0);else return t.lanes=e.lanes,Pt(e,t,o)}return lr(e,t,n,i,o)}function nh(e,t,n,i){var o=i.children,l=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(l=l!==null?l.baseLanes|n:n,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~l}else i=0,t.child=null;return kc(e,t,l,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&El(t,l!==null?l.cachePool:null),l!==null?Dc(t,l):Ws(),ym(t);else return i=t.lanes=536870912,kc(e,t,l!==null?l.baseLanes|n:n,n,i)}else l!==null?(El(t,l.cachePool),Dc(t,l),Wt(),t.memoizedState=null):(e!==null&&El(t,null),Ws(),Wt());return Ae(e,t,o,n),t.child}function eo(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function kc(e,t,n,i,o){var l=su();return l=l===null?null:{parent:he._currentValue,pool:l},t.memoizedState={baseLanes:n,cachePool:l},e!==null&&El(t,null),Ws(),ym(t),e!==null&&Gi(e,t,i,!0),t.childLanes=o,null}function Al(e,t){return t=Kl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Oc(e,t,n){return Hn(t,e.child,null,n),e=Al(t,t.pendingProps),e.flags|=2,Ye(t),t.memoizedState=null,e}function i0(e,t,n){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Y){if(i.mode==="hidden")return e=Al(t,i),t.lanes=536870912,eo(null,e);if(js(t),(e=oe)?(e=Kh(e,at),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:hn!==null?{id:vt,overflow:Tt}:null,retryLane:536870912,hydrationErrors:null},n=sm(e),n.return=t,t.child=n,Me=t,oe=null)):e=null,e===null)throw gn(t);return t.lanes=536870912,null}return Al(t,i)}var l=e.memoizedState;if(l!==null){var a=l.dehydrated;if(js(t),o)if(t.flags&256)t.flags&=-257,t=Oc(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(R(558));else if(ge||Gi(e,t,n,!1),o=(n&e.childLanes)!==0,ge||o){if(i=te,i!==null&&(a=bp(i,n),a!==0&&a!==l.retryLane))throw l.retryLane=a,kn(e,a),Pe(i,e,a),Au;Wl(),t=Oc(e,t,n)}else e=l.treeContext,oe=rt(a.nextSibling),Me=t,Y=!0,sn=null,at=!1,e!==null&&um(t,e),t=Al(t,i),t.flags|=4096;return t}return e=Lt(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Rl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(R(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function lr(e,t,n,i,o){return Gn(t),n=du(e,t,n,i,void 0,o),i=pu(),e!==null&&!ge?(mu(e,t,o),Pt(e,t,o)):(Y&&i&&ou(t),t.flags|=1,Ae(e,t,n,o),t.child)}function Fc(e,t,n,i,o,l){return Gn(t),t.updateQueue=null,n=Tm(t,i,n,o),vm(e),i=pu(),e!==null&&!ge?(mu(e,t,l),Pt(e,t,l)):(Y&&i&&ou(t),t.flags|=1,Ae(e,t,n,l),t.child)}function Yc(e,t,n,i,o){if(Gn(t),t.stateNode===null){var l=ai,a=n.contextType;typeof a=="object"&&a!==null&&(l=Ne(a)),l=new n(i,l),t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=ir,t.stateNode=l,l._reactInternals=t,l=t.stateNode,l.props=i,l.state=t.memoizedState,l.refs={},uu(t),a=n.contextType,l.context=typeof a=="object"&&a!==null?Ne(a):ai,l.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(ls(t,n,a,i),l.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(a=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),a!==l.state&&ir.enqueueReplaceState(l,l.state,null),co(t,i,l,o),uo(),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){l=t.stateNode;var u=t.memoizedProps,c=qn(n,u);l.props=c;var f=l.context,d=n.contextType;a=ai,typeof d=="object"&&d!==null&&(a=Ne(d));var m=n.getDerivedStateFromProps;d=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function",u=t.pendingProps!==u,d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u||f!==a)&&qc(t,l,i,a),Qt=!1;var p=t.memoizedState;l.state=p,co(t,i,l,o),uo(),f=t.memoizedState,u||p!==f||Qt?(typeof m=="function"&&(ls(t,n,m,i),f=t.memoizedState),(c=Qt||Vc(t,n,c,i,p,f,a))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=f),l.props=i,l.state=f,l.context=a,i=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{l=t.stateNode,Zs(e,t),a=t.memoizedProps,d=qn(n,a),l.props=d,m=t.pendingProps,p=l.context,f=n.contextType,c=ai,typeof f=="object"&&f!==null&&(c=Ne(f)),u=n.getDerivedStateFromProps,(f=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==m||p!==c)&&qc(t,l,i,c),Qt=!1,p=t.memoizedState,l.state=p,co(t,i,l,o),uo();var h=t.memoizedState;a!==m||p!==h||Qt||e!==null&&e.dependencies!==null&&Bl(e.dependencies)?(typeof u=="function"&&(ls(t,n,u,i),h=t.memoizedState),(d=Qt||Vc(t,n,d,i,p,h,c)||e!==null&&e.dependencies!==null&&Bl(e.dependencies))?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,h,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,h,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=h),l.props=i,l.state=h,l.context=c,i=d):(typeof l.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),i=!1)}return l=i,Rl(e,t),i=(t.flags&128)!==0,l||i?(l=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:l.render(),t.flags|=1,e!==null&&i?(t.child=Hn(t,e.child,null,o),t.child=Hn(t,null,n,o)):Ae(e,t,n,o),t.memoizedState=l.state,e=t.child):e=Pt(e,t,o),e}function Jc(e,t,n,i){return Ln(),t.flags|=256,Ae(e,t,n,i),t.child}var as={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ss(e){return{baseLanes:e,cachePool:fm()}}function rs(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Xe),e}function ih(e,t,n){var i=t.pendingProps,o=!1,l=(t.flags&128)!==0,a;if((a=l)||(a=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),a&&(o=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(Y){if(o?$t(t):Wt(),(e=oe)?(e=Kh(e,at),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:hn!==null?{id:vt,overflow:Tt}:null,retryLane:536870912,hydrationErrors:null},n=sm(e),n.return=t,t.child=n,Me=t,oe=null)):e=null,e===null)throw gn(t);return Tr(e)?t.lanes=32:t.lanes=536870912,null}var u=i.children;return i=i.fallback,o?(Wt(),o=t.mode,u=Kl({mode:"hidden",children:u},o),i=Dn(i,o,n,null),u.return=t,i.return=t,u.sibling=i,t.child=u,i=t.child,i.memoizedState=ss(n),i.childLanes=rs(e,a,n),t.memoizedState=as,eo(null,i)):($t(t),ar(t,u))}var c=e.memoizedState;if(c!==null&&(u=c.dehydrated,u!==null)){if(l)t.flags&256?($t(t),t.flags&=-257,t=us(e,t,n)):t.memoizedState!==null?(Wt(),t.child=e.child,t.flags|=128,t=null):(Wt(),u=i.fallback,o=t.mode,i=Kl({mode:"visible",children:i.children},o),u=Dn(u,o,n,null),u.flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,Hn(t,e.child,null,n),i=t.child,i.memoizedState=ss(n),i.childLanes=rs(e,a,n),t.memoizedState=as,t=eo(null,i));else if($t(t),Tr(u)){if(a=u.nextSibling&&u.nextSibling.dataset,a)var f=a.dgst;a=f,i=Error(R(419)),i.stack="",i.digest=a,Ao({value:i,source:null,stack:null}),t=us(e,t,n)}else if(ge||Gi(e,t,n,!1),a=(n&e.childLanes)!==0,ge||a){if(a=te,a!==null&&(i=bp(a,n),i!==0&&i!==c.retryLane))throw c.retryLane=i,kn(e,i),Pe(a,e,i),Au;vr(u)||Wl(),t=us(e,t,n)}else vr(u)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,oe=rt(u.nextSibling),Me=t,Y=!0,sn=null,at=!1,e!==null&&um(t,e),t=ar(t,i.children),t.flags|=4096);return t}return o?(Wt(),u=i.fallback,o=t.mode,c=e.child,f=c.sibling,i=Lt(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,f!==null?u=Lt(f,u):(u=Dn(u,o,n,null),u.flags|=2),u.return=t,i.return=t,i.sibling=u,t.child=i,eo(null,i),i=t.child,u=e.child.memoizedState,u===null?u=ss(n):(o=u.cachePool,o!==null?(c=he._currentValue,o=o.parent!==c?{parent:c,pool:c}:o):o=fm(),u={baseLanes:u.baseLanes|n,cachePool:o}),i.memoizedState=u,i.childLanes=rs(e,a,n),t.memoizedState=as,eo(e.child,i)):($t(t),n=e.child,e=n.sibling,n=Lt(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function ar(e,t){return t=Kl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Kl(e,t){return e=Je(22,e,null,t),e.lanes=0,e}function us(e,t,n){return Hn(t,e.child,null,n),e=ar(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xc(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Xs(e.return,t,n)}function cs(e,t,n,i,o,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o,treeForkCount:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=o,a.treeForkCount=l)}function oh(e,t,n){var i=t.pendingProps,o=i.revealOrder,l=i.tail;i=i.children;var a=fe.current,u=(a&2)!==0;if(u?(a=a&1|2,t.flags|=128):a&=1,ne(fe,a),Ae(e,t,i,n),i=Y?Co:0,!u&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xc(e,n,t);else if(e.tag===19)Xc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Fl(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),cs(t,!1,o,n,l,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Fl(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}cs(t,!0,n,null,l,i);break;case"together":cs(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Pt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vn|=t.lanes,!(n&t.childLanes))if(e!==null){if(Gi(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,n=Lt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Lt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ru(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Bl(e)))}function o0(e,t,n){switch(t.tag){case 3:Ll(t,t.stateNode.containerInfo),Zt(t,he,e.memoizedState.cache),Ln();break;case 27:case 5:Ls(t);break;case 4:Ll(t,t.stateNode.containerInfo);break;case 10:Zt(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,js(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?($t(t),t.flags|=128,null):n&t.child.childLanes?ih(e,t,n):($t(t),e=Pt(e,t,n),e!==null?e.sibling:null);$t(t);break;case 19:var o=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Gi(e,t,n,!1),i=(n&t.childLanes)!==0),o){if(i)return oh(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ne(fe,fe.current),i)break;return null;case 22:return t.lanes=0,nh(e,t,n,t.pendingProps);case 24:Zt(t,he,e.memoizedState.cache)}return Pt(e,t,n)}function lh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ge=!0;else{if(!Ru(e,n)&&!(t.flags&128))return ge=!1,o0(e,t,n);ge=!!(e.flags&131072)}else ge=!1,Y&&t.flags&1048576&&rm(t,Co,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Mn(t.elementType),t.type=e,typeof e=="function")iu(e)?(i=qn(e,i),t.tag=1,t=Yc(null,t,e,i,n)):(t.tag=0,t=lr(null,t,e,i,n));else{if(e!=null){var o=e.$$typeof;if(o===Or){t.tag=11,t=Pc(null,t,e,i,n);break e}else if(o===Fr){t.tag=14,t=Bc(null,t,e,i,n);break e}}throw t=Us(e)||e,Error(R(306,t,""))}}return t;case 0:return lr(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,o=qn(i,t.pendingProps),Yc(e,t,i,o,n);case 3:e:{if(Ll(t,t.stateNode.containerInfo),e===null)throw Error(R(387));i=t.pendingProps;var l=t.memoizedState;o=l.element,Zs(e,t),co(t,i,null,n);var a=t.memoizedState;if(i=a.cache,Zt(t,he,i),i!==l.cache&&Ks(t,[he],n,!0),uo(),i=a.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){t=Jc(e,t,i,n);break e}else if(i!==o){o=lt(Error(R(424)),t),Ao(o),t=Jc(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=rt(e.firstChild),Me=t,Y=!0,sn=null,at=!0,n=mm(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ln(),i===o){t=Pt(e,t,n);break e}Ae(e,t,i,n)}t=t.child}return t;case 26:return Rl(e,t),e===null?(n=mf(t.type,null,t.pendingProps,null))?t.memoizedState=n:Y||(n=t.type,e=t.pendingProps,i=na(an.current).createElement(n),i[Re]=t,i[Be]=e,xe(i,n,e),Ee(i),t.stateNode=i):t.memoizedState=mf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ls(t),e===null&&Y&&(i=t.stateNode=Qh(t.type,t.pendingProps,an.current),Me=t,at=!0,o=oe,Sn(t.type)?(Sr=o,oe=rt(i.firstChild)):oe=o),Ae(e,t,t.pendingProps.children,n),Rl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Y&&((o=i=oe)&&(i=L0(i,t.type,t.pendingProps,at),i!==null?(t.stateNode=i,Me=t,oe=rt(i.firstChild),at=!1,o=!0):o=!1),o||gn(t)),Ls(t),o=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,i=l.children,gr(o,l)?i=null:a!==null&&gr(o,a)&&(t.flags|=32),t.memoizedState!==null&&(o=du(e,t,Qv,null,null,n),Do._currentValue=o),Rl(e,t),Ae(e,t,i,n),t.child;case 6:return e===null&&Y&&((e=n=oe)&&(n=G0(n,t.pendingProps,at),n!==null?(t.stateNode=n,Me=t,oe=null,e=!0):e=!1),e||gn(t)),null;case 13:return ih(e,t,n);case 4:return Ll(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Hn(t,null,i,n):Ae(e,t,i,n),t.child;case 11:return Pc(e,t,t.type,t.pendingProps,n);case 7:return Ae(e,t,t.pendingProps,n),t.child;case 8:return Ae(e,t,t.pendingProps.children,n),t.child;case 12:return Ae(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Zt(t,t.type,i.value),Ae(e,t,i.children,n),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,Gn(t),o=Ne(o),i=i(o),t.flags|=1,Ae(e,t,i,n),t.child;case 14:return Bc(e,t,t.type,t.pendingProps,n);case 15:return th(e,t,t.type,t.pendingProps,n);case 19:return oh(e,t,n);case 31:return i0(e,t,n);case 22:return nh(e,t,n,t.pendingProps);case 24:return Gn(t),i=Ne(he),e===null?(o=su(),o===null&&(o=te,l=au(),o.pooledCache=l,l.refCount++,l!==null&&(o.pooledCacheLanes|=n),o=l),t.memoizedState={parent:i,cache:o},uu(t),Zt(t,he,o)):(e.lanes&n&&(Zs(e,t),co(t,null,null,n),uo()),o=e.memoizedState,l=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Zt(t,he,i)):(i=l.cache,Zt(t,he,i),i!==o.cache&&Ks(t,[he],n,!0))),Ae(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(R(156,t.tag))}function Rt(e){e.flags|=4}function fs(e,t,n,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Ih())e.flags|=8192;else throw Un=kl,ru}else e.flags&=-16777217}function Kc(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Wh(t))if(Ih())e.flags|=8192;else throw Un=kl,ru}function ll(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Dp():536870912,e.lanes|=t,Ni|=t)}function Xi(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function l0(e,t,n){var i=t.pendingProps;switch(lu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(t),null;case 1:return ie(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Gt(he),Ei(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Jn(t)?Rt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ns())),ie(t),null;case 26:var o=t.type,l=t.memoizedState;return e===null?(Rt(t),l!==null?(ie(t),Kc(t,l)):(ie(t),fs(t,o,null,i,n))):l?l!==e.memoizedState?(Rt(t),ie(t),Kc(t,l)):(ie(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Rt(t),ie(t),fs(t,o,e,i,n)),null;case 27:if(Gl(t),n=an.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Rt(t);else{if(!i){if(t.stateNode===null)throw Error(R(166));return ie(t),null}e=Et.current,Jn(t)?Cc(t):(e=Qh(o,i,n),t.stateNode=e,Rt(t))}return ie(t),null;case 5:if(Gl(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Rt(t);else{if(!i){if(t.stateNode===null)throw Error(R(166));return ie(t),null}if(l=Et.current,Jn(t))Cc(t);else{var a=na(an.current);switch(l){case 1:l=a.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:l=a.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":l=a.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":l=a.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":l=a.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?l.multiple=!0:i.size&&(l.size=i.size);break;default:l=typeof i.is=="string"?a.createElement(o,{is:i.is}):a.createElement(o)}}l[Re]=t,l[Be]=i;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)l.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=l;e:switch(xe(l,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Rt(t)}}return ie(t),fs(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Rt(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(R(166));if(e=an.current,Jn(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,o=Me,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[Re]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Yh(e.nodeValue,n)),e||gn(t,!0)}else e=na(e).createTextNode(i),e[Re]=t,t.stateNode=e}return ie(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Jn(t),n!==null){if(e===null){if(!i)throw Error(R(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(557));e[Re]=t}else Ln(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ie(t),e=!1}else n=ns(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Ye(t),t):(Ye(t),null);if(t.flags&128)throw Error(R(558))}return ie(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Jn(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(R(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(R(317));o[Re]=t}else Ln(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ie(t),o=!1}else o=ns(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Ye(t),t):(Ye(t),null)}return Ye(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==o&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ll(t,t.updateQueue),ie(t),null);case 4:return Ei(),e===null&&Uu(t.stateNode.containerInfo),ie(t),null;case 10:return Gt(t.type),ie(t),null;case 19:if(_e(fe),i=t.memoizedState,i===null)return ie(t),null;if(o=(t.flags&128)!==0,l=i.rendering,l===null)if(o)Xi(i,!1);else{if(ue!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Fl(e),l!==null){for(t.flags|=128,Xi(i,!1),e=l.updateQueue,t.updateQueue=e,ll(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)am(n,e),n=n.sibling;return ne(fe,fe.current&1|2),Y&&It(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Ke()>Zl&&(t.flags|=128,o=!0,Xi(i,!1),t.lanes=4194304)}else{if(!o)if(e=Fl(l),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,ll(t,e),Xi(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Y)return ie(t),null}else 2*Ke()-i.renderingStartTime>Zl&&n!==536870912&&(t.flags|=128,o=!0,Xi(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(e=i.last,e!==null?e.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ke(),e.sibling=null,n=fe.current,ne(fe,o?n&1|2:n&1),Y&&It(t,i.treeForkCount),e):(ie(t),null);case 22:case 23:return Ye(t),cu(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(ie(t),t.subtreeFlags&6&&(t.flags|=8192)):ie(t),n=t.updateQueue,n!==null&&ll(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&_e(wn),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Gt(he),ie(t),null;case 25:return null;case 30:return null}throw Error(R(156,t.tag))}function a0(e,t){switch(lu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gt(he),Ei(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Gl(t),null;case 31:if(t.memoizedState!==null){if(Ye(t),t.alternate===null)throw Error(R(340));Ln()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ye(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));Ln()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(fe),null;case 4:return Ei(),null;case 10:return Gt(t.type),null;case 22:case 23:return Ye(t),cu(),e!==null&&_e(wn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Gt(he),null;case 25:return null;default:return null}}function ah(e,t){switch(lu(t),t.tag){case 3:Gt(he),Ei();break;case 26:case 27:case 5:Gl(t);break;case 4:Ei();break;case 31:t.memoizedState!==null&&Ye(t);break;case 13:Ye(t);break;case 19:_e(fe);break;case 10:Gt(t.type);break;case 22:case 23:Ye(t),cu(),e!==null&&_e(wn);break;case 24:Gt(he)}}function ko(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var o=i.next;n=o;do{if((n.tag&e)===e){i=void 0;var l=n.create,a=n.inst;i=l(),a.destroy=i}n=n.next}while(n!==o)}}catch(u){$(t,t.return,u)}}function yn(e,t,n){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var l=o.next;i=l;do{if((i.tag&e)===e){var a=i.inst,u=a.destroy;if(u!==void 0){a.destroy=void 0,o=t;var c=n,f=u;try{f()}catch(d){$(o,c,d)}}}i=i.next}while(i!==l)}}catch(d){$(t,t.return,d)}}function sh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{gm(t,n)}catch(i){$(e,e.return,i)}}}function rh(e,t,n){n.props=qn(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){$(e,t,i)}}function po(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(o){$(e,t,o)}}function St(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(o){$(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){$(e,t,o)}else n.current=null}function uh(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(o){$(e,e.return,o)}}function ds(e,t,n){try{var i=e.stateNode;x0(i,e.type,n,t),i[Be]=t}catch(o){$(e,e.return,o)}}function ch(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Sn(e.type)||e.tag===4}function ps(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ch(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Sn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sr(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ut));else if(i!==4&&(i===27&&Sn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(sr(e,t,n),e=e.sibling;e!==null;)sr(e,t,n),e=e.sibling}function Ql(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Sn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Ql(e,t,n),e=e.sibling;e!==null;)Ql(e,t,n),e=e.sibling}function fh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);xe(t,i,n),t[Re]=e,t[Be]=n}catch(l){$(e,e.return,l)}}var Dt=!1,me=!1,ms=!1,Qc=typeof WeakSet=="function"?WeakSet:Set,Se=null;function s0(e,t){if(e=e.containerInfo,mr=aa,e=Wp(e),eu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var a=0,u=-1,c=-1,f=0,d=0,m=e,p=null;t:for(;;){for(var h;m!==n||o!==0&&m.nodeType!==3||(u=a+o),m!==l||i!==0&&m.nodeType!==3||(c=a+i),m.nodeType===3&&(a+=m.nodeValue.length),(h=m.firstChild)!==null;)p=m,m=h;for(;;){if(m===e)break t;if(p===n&&++f===o&&(u=a),p===l&&++d===i&&(c=a),(h=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=h}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(hr={focusedElem:e,selectionRange:n},aa=!1,Se=t;Se!==null;)if(t=Se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Se=e;else for(;Se!==null;){switch(t=Se,l=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&l!==null){e=void 0,n=t,o=l.memoizedProps,l=l.memoizedState,i=n.stateNode;try{var T=qn(n.type,o);e=i.getSnapshotBeforeUpdate(T,l),i.__reactInternalSnapshotBeforeUpdate=e}catch(E){$(n,n.return,E)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)yr(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(R(163))}if(e=t.sibling,e!==null){e.return=t.return,Se=e;break}Se=t.return}}function dh(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Nt(e,n),i&4&&ko(5,n);break;case 1:if(Nt(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){$(n,n.return,a)}else{var o=qn(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){$(n,n.return,a)}}i&64&&sh(n),i&512&&po(n,n.return);break;case 3:if(Nt(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{gm(e,t)}catch(a){$(n,n.return,a)}}break;case 27:t===null&&i&4&&fh(n);case 26:case 5:Nt(e,n),t===null&&i&4&&uh(n),i&512&&po(n,n.return);break;case 12:Nt(e,n);break;case 31:Nt(e,n),i&4&&hh(e,n);break;case 13:Nt(e,n),i&4&&gh(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=g0.bind(null,n),H0(e,n))));break;case 22:if(i=n.memoizedState!==null||Dt,!i){t=t!==null&&t.memoizedState!==null||me,o=Dt;var l=me;Dt=i,(me=t)&&!l?xt(e,n,(n.subtreeFlags&8772)!==0):Nt(e,n),Dt=o,me=l}break;case 30:break;default:Nt(e,n)}}function ph(e){var t=e.alternate;t!==null&&(e.alternate=null,ph(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Kr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var se=null,qe=!1;function Mt(e,t,n){for(n=n.child;n!==null;)mh(e,t,n),n=n.sibling}function mh(e,t,n){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(Go,n)}catch{}switch(n.tag){case 26:me||St(n,t),Mt(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:me||St(n,t);var i=se,o=qe;Sn(n.type)&&(se=n.stateNode,qe=!1),Mt(e,t,n),yo(n.stateNode),se=i,qe=o;break;case 5:me||St(n,t);case 6:if(i=se,o=qe,se=null,Mt(e,t,n),se=i,qe=o,se!==null)if(qe)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(n.stateNode)}catch(l){$(n,t,l)}else try{se.removeChild(n.stateNode)}catch(l){$(n,t,l)}break;case 18:se!==null&&(qe?(e=se,uf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),wi(e)):uf(se,n.stateNode));break;case 4:i=se,o=qe,se=n.stateNode.containerInfo,qe=!0,Mt(e,t,n),se=i,qe=o;break;case 0:case 11:case 14:case 15:yn(2,n,t),me||yn(4,n,t),Mt(e,t,n);break;case 1:me||(St(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&rh(n,t,i)),Mt(e,t,n);break;case 21:Mt(e,t,n);break;case 22:me=(i=me)||n.memoizedState!==null,Mt(e,t,n),me=i;break;default:Mt(e,t,n)}}function hh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{wi(e)}catch(n){$(t,t.return,n)}}}function gh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{wi(e)}catch(n){$(t,t.return,n)}}function r0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Qc),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Qc),t;default:throw Error(R(435,e.tag))}}function al(e,t){var n=r0(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var o=y0.bind(null,e,i);i.then(o,o)}})}function He(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i],l=e,a=t,u=a;e:for(;u!==null;){switch(u.tag){case 27:if(Sn(u.type)){se=u.stateNode,qe=!1;break e}break;case 5:se=u.stateNode,qe=!1;break e;case 3:case 4:se=u.stateNode.containerInfo,qe=!0;break e}u=u.return}if(se===null)throw Error(R(160));mh(l,a,o),se=null,qe=!1,l=o.alternate,l!==null&&(l.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)yh(t,e),t=t.sibling}var pt=null;function yh(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:He(t,e),Ve(e),i&4&&(yn(3,e,e.return),ko(3,e),yn(5,e,e.return));break;case 1:He(t,e),Ve(e),i&512&&(me||n===null||St(n,n.return)),i&64&&Dt&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var o=pt;if(He(t,e),Ve(e),i&512&&(me||n===null||St(n,n.return)),i&4){var l=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":l=o.getElementsByTagName("title")[0],(!l||l[qo]||l[Re]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=o.createElement(i),o.head.insertBefore(l,o.querySelector("head > title"))),xe(l,i,n),l[Re]=e,Ee(l),i=l;break e;case"link":var a=gf("link","href",o).get(i+(n.href||""));if(a){for(var u=0;u<a.length;u++)if(l=a[u],l.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&l.getAttribute("rel")===(n.rel==null?null:n.rel)&&l.getAttribute("title")===(n.title==null?null:n.title)&&l.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(u,1);break t}}l=o.createElement(i),xe(l,i,n),o.head.appendChild(l);break;case"meta":if(a=gf("meta","content",o).get(i+(n.content||""))){for(u=0;u<a.length;u++)if(l=a[u],l.getAttribute("content")===(n.content==null?null:""+n.content)&&l.getAttribute("name")===(n.name==null?null:n.name)&&l.getAttribute("property")===(n.property==null?null:n.property)&&l.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&l.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(u,1);break t}}l=o.createElement(i),xe(l,i,n),o.head.appendChild(l);break;default:throw Error(R(468,i))}l[Re]=e,Ee(l),i=l}e.stateNode=i}else yf(o,e.type,e.stateNode);else e.stateNode=hf(o,i,e.memoizedProps);else l!==i?(l===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):l.count--,i===null?yf(o,e.type,e.stateNode):hf(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&ds(e,e.memoizedProps,n.memoizedProps)}break;case 27:He(t,e),Ve(e),i&512&&(me||n===null||St(n,n.return)),n!==null&&i&4&&ds(e,e.memoizedProps,n.memoizedProps);break;case 5:if(He(t,e),Ve(e),i&512&&(me||n===null||St(n,n.return)),e.flags&32){o=e.stateNode;try{Ci(o,"")}catch(T){$(e,e.return,T)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,ds(e,o,n!==null?n.memoizedProps:o)),i&1024&&(ms=!0);break;case 6:if(He(t,e),Ve(e),i&4){if(e.stateNode===null)throw Error(R(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(T){$(e,e.return,T)}}break;case 3:if(xl=null,o=pt,pt=ia(t.containerInfo),He(t,e),pt=o,Ve(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{wi(t.containerInfo)}catch(T){$(e,e.return,T)}ms&&(ms=!1,vh(e));break;case 4:i=pt,pt=ia(e.stateNode.containerInfo),He(t,e),Ve(e),pt=i;break;case 12:He(t,e),Ve(e);break;case 31:He(t,e),Ve(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,al(e,i)));break;case 13:He(t,e),Ve(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Na=Ke()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,al(e,i)));break;case 22:o=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,f=Dt,d=me;if(Dt=f||o,me=d||c,He(t,e),me=d,Dt=f,Ve(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||c||Dt||me||Nn(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(l=c.stateNode,o)a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{u=c.stateNode;var m=c.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;u.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(T){$(c,c.return,T)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(T){$(c,c.return,T)}}}else if(t.tag===18){if(n===null){c=t;try{var h=c.stateNode;o?cf(h,!0):cf(c.stateNode,!1)}catch(T){$(c,c.return,T)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,al(e,n))));break;case 19:He(t,e),Ve(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,al(e,i)));break;case 30:break;case 21:break;default:He(t,e),Ve(e)}}function Ve(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(ch(i)){n=i;break}i=i.return}if(n==null)throw Error(R(160));switch(n.tag){case 27:var o=n.stateNode,l=ps(e);Ql(e,l,o);break;case 5:var a=n.stateNode;n.flags&32&&(Ci(a,""),n.flags&=-33);var u=ps(e);Ql(e,u,a);break;case 3:case 4:var c=n.stateNode.containerInfo,f=ps(e);sr(e,f,c);break;default:throw Error(R(161))}}catch(d){$(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;vh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Nt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)dh(e,t.alternate,t),t=t.sibling}function Nn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yn(4,t,t.return),Nn(t);break;case 1:St(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&rh(t,t.return,n),Nn(t);break;case 27:yo(t.stateNode);case 26:case 5:St(t,t.return),Nn(t);break;case 22:t.memoizedState===null&&Nn(t);break;case 30:Nn(t);break;default:Nn(t)}e=e.sibling}}function xt(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,l=t,a=l.flags;switch(l.tag){case 0:case 11:case 15:xt(o,l,n),ko(4,l);break;case 1:if(xt(o,l,n),i=l,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(f){$(i,i.return,f)}if(i=l,o=i.updateQueue,o!==null){var u=i.stateNode;try{var c=o.shared.hiddenCallbacks;if(c!==null)for(o.shared.hiddenCallbacks=null,o=0;o<c.length;o++)hm(c[o],u)}catch(f){$(i,i.return,f)}}n&&a&64&&sh(l),po(l,l.return);break;case 27:fh(l);case 26:case 5:xt(o,l,n),n&&i===null&&a&4&&uh(l),po(l,l.return);break;case 12:xt(o,l,n);break;case 31:xt(o,l,n),n&&a&4&&hh(o,l);break;case 13:xt(o,l,n),n&&a&4&&gh(o,l);break;case 22:l.memoizedState===null&&xt(o,l,n),po(l,l.return);break;case 30:break;default:xt(o,l,n)}t=t.sibling}}function Mu(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Po(n))}function Nu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Po(e))}function dt(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Th(e,t,n,i),t=t.sibling}function Th(e,t,n,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:dt(e,t,n,i),o&2048&&ko(9,t);break;case 1:dt(e,t,n,i);break;case 3:dt(e,t,n,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Po(e)));break;case 12:if(o&2048){dt(e,t,n,i),e=t.stateNode;try{var l=t.memoizedProps,a=l.id,u=l.onPostCommit;typeof u=="function"&&u(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){$(t,t.return,c)}}else dt(e,t,n,i);break;case 31:dt(e,t,n,i);break;case 13:dt(e,t,n,i);break;case 23:break;case 22:l=t.stateNode,a=t.alternate,t.memoizedState!==null?l._visibility&2?dt(e,t,n,i):mo(e,t):l._visibility&2?dt(e,t,n,i):(l._visibility|=2,Qn(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&Mu(a,t);break;case 24:dt(e,t,n,i),o&2048&&Nu(t.alternate,t);break;default:dt(e,t,n,i)}}function Qn(e,t,n,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var l=e,a=t,u=n,c=i,f=a.flags;switch(a.tag){case 0:case 11:case 15:Qn(l,a,u,c,o),ko(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?Qn(l,a,u,c,o):mo(l,a):(d._visibility|=2,Qn(l,a,u,c,o)),o&&f&2048&&Mu(a.alternate,a);break;case 24:Qn(l,a,u,c,o),o&&f&2048&&Nu(a.alternate,a);break;default:Qn(l,a,u,c,o)}t=t.sibling}}function mo(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,o=i.flags;switch(i.tag){case 22:mo(n,i),o&2048&&Mu(i.alternate,i);break;case 24:mo(n,i),o&2048&&Nu(i.alternate,i);break;default:mo(n,i)}t=t.sibling}}var to=8192;function Xn(e,t,n){if(e.subtreeFlags&to)for(e=e.child;e!==null;)Sh(e,t,n),e=e.sibling}function Sh(e,t,n){switch(e.tag){case 26:Xn(e,t,n),e.flags&to&&e.memoizedState!==null&&K0(n,pt,e.memoizedState,e.memoizedProps);break;case 5:Xn(e,t,n);break;case 3:case 4:var i=pt;pt=ia(e.stateNode.containerInfo),Xn(e,t,n),pt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=to,to=16777216,Xn(e,t,n),to=i):Xn(e,t,n));break;default:Xn(e,t,n)}}function Eh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ki(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Se=i,Ch(i,e)}Eh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_h(e),e=e.sibling}function _h(e){switch(e.tag){case 0:case 11:case 15:Ki(e),e.flags&2048&&yn(9,e,e.return);break;case 3:Ki(e);break;case 12:Ki(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ml(e)):Ki(e);break;default:Ki(e)}}function Ml(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Se=i,Ch(i,e)}Eh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:yn(8,t,t.return),Ml(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ml(t));break;default:Ml(t)}e=e.sibling}}function Ch(e,t){for(;Se!==null;){var n=Se;switch(n.tag){case 0:case 11:case 15:yn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Po(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Se=i;else e:for(n=e;Se!==null;){i=Se;var o=i.sibling,l=i.return;if(ph(i),i===n){Se=null;break e}if(o!==null){o.return=l,Se=o;break e}Se=l}}}var u0={getCacheForType:function(e){var t=Ne(he),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ne(he).controller.signal}},c0=typeof WeakMap=="function"?WeakMap:Map,K=0,te=null,k=null,O=0,Z=0,Fe=null,nn=!1,Vi=!1,xu=!1,Bt=0,ue=0,vn=0,bn=0,Iu=0,Xe=0,Ni=0,ho=null,ze=null,rr=!1,Na=0,Ah=0,Zl=1/0,$l=null,cn=null,ye=0,fn=null,xi=null,Ht=0,ur=0,cr=null,Rh=null,go=0,fr=null;function $e(){return K&2&&O!==0?O&-O:L.T!==null?wu():Lp()}function Mh(){if(Xe===0)if(!(O&536870912)||Y){var e=Wo;Wo<<=1,!(Wo&3932160)&&(Wo=262144),Xe=e}else Xe=536870912;return e=je.current,e!==null&&(e.flags|=32),Xe}function Pe(e,t,n){(e===te&&(Z===2||Z===9)||e.cancelPendingCommit!==null)&&(Ii(e,0),on(e,O,Xe,!1)),Vo(e,n),(!(K&2)||e!==te)&&(e===te&&(!(K&2)&&(bn|=n),ue===4&&on(e,O,Xe,!1)),Ct(e))}function Nh(e,t,n){if(K&6)throw Error(R(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Ho(e,t),o=i?p0(e,t):hs(e,t,!0),l=i;do{if(o===0){Vi&&!i&&on(e,t,0,!1);break}else{if(n=e.current.alternate,l&&!f0(n)){o=hs(e,t,!1),l=!1;continue}if(o===2){if(l=t,e.errorRecoveryDisabledLanes&l)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;e:{var u=e;o=ho;var c=u.current.memoizedState.isDehydrated;if(c&&(Ii(u,a).flags|=256),a=hs(u,a,!1),a!==2){if(xu&&!c){u.errorRecoveryDisabledLanes|=l,bn|=l,o=4;break e}l=ze,ze=o,l!==null&&(ze===null?ze=l:ze.push.apply(ze,l))}o=a}if(l=!1,o!==2)continue}}if(o===1){Ii(e,0),on(e,t,0,!0);break}e:{switch(i=e,l=o,l){case 0:case 1:throw Error(R(345));case 4:if((t&4194048)!==t)break;case 6:on(i,t,Xe,!nn);break e;case 2:ze=null;break;case 3:case 5:break;default:throw Error(R(329))}if((t&62914560)===t&&(o=Na+300-Ke(),10<o)){if(on(i,t,Xe,!nn),ga(i,0,!0)!==0)break e;Ht=t,i.timeoutHandle=Xh(Zc.bind(null,i,n,ze,$l,rr,t,Xe,bn,Ni,nn,l,"Throttled",-0,0),o);break e}Zc(i,n,ze,$l,rr,t,Xe,bn,Ni,nn,l,null,-0,0)}}break}while(!0);Ct(e)}function Zc(e,t,n,i,o,l,a,u,c,f,d,m,p,h){if(e.timeoutHandle=-1,m=t.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ut},Sh(t,l,m);var T=(l&62914560)===l?Na-Ke():(l&4194048)===l?Ah-Ke():0;if(T=Q0(m,T),T!==null){Ht=l,e.cancelPendingCommit=T(Wc.bind(null,e,t,l,n,i,o,a,u,c,d,m,null,p,h)),on(e,l,a,!f);return}}Wc(e,t,l,n,i,o,a,u,c)}function f0(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var o=n[i],l=o.getSnapshot;o=o.value;try{if(!We(l(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function on(e,t,n,i){t&=~Iu,t&=~bn,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var l=31-Ze(o),a=1<<l;i[l]=-1,o&=~a}n!==0&&wp(e,n,t)}function xa(){return K&6?!0:(Oo(0),!1)}function Du(){if(k!==null){if(Z===0)var e=k.return;else e=k,bt=On=null,hu(e),gi=null,Ro=0,e=k;for(;e!==null;)ah(e.alternate,e),e=e.return;k=null}}function Ii(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,w0(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Ht=0,Du(),te=e,k=n=Lt(e.current,null),O=t,Z=0,Fe=null,nn=!1,Vi=Ho(e,t),xu=!1,Ni=Xe=Iu=bn=vn=ue=0,ze=ho=null,rr=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-Ze(i),l=1<<o;t|=e[o],i&=~l}return Bt=t,Sa(),n}function xh(e,t){V=null,L.H=No,t===Hi||t===_a?(t=xc(),Z=3):t===ru?(t=xc(),Z=4):Z=t===Au?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Fe=t,k===null&&(ue=1,Xl(e,lt(t,e.current)))}function Ih(){var e=je.current;return e===null?!0:(O&4194048)===O?st===null:(O&62914560)===O||O&536870912?e===st:!1}function Dh(){var e=L.H;return L.H=No,e===null?No:e}function wh(){var e=L.A;return L.A=u0,e}function Wl(){ue=4,nn||(O&4194048)!==O&&je.current!==null||(Vi=!0),!(vn&134217727)&&!(bn&134217727)||te===null||on(te,O,Xe,!1)}function hs(e,t,n){var i=K;K|=2;var o=Dh(),l=wh();(te!==e||O!==t)&&($l=null,Ii(e,t)),t=!1;var a=ue;e:do try{if(Z!==0&&k!==null){var u=k,c=Fe;switch(Z){case 8:Du(),a=6;break e;case 3:case 2:case 9:case 6:je.current===null&&(t=!0);var f=Z;if(Z=0,Fe=null,ui(e,u,c,f),n&&Vi){a=0;break e}break;default:f=Z,Z=0,Fe=null,ui(e,u,c,f)}}d0(),a=ue;break}catch(d){xh(e,d)}while(!0);return t&&e.shellSuspendCounter++,bt=On=null,K=i,L.H=o,L.A=l,k===null&&(te=null,O=0,Sa()),a}function d0(){for(;k!==null;)Uh(k)}function p0(e,t){var n=K;K|=2;var i=Dh(),o=wh();te!==e||O!==t?($l=null,Zl=Ke()+500,Ii(e,t)):Vi=Ho(e,t);e:do try{if(Z!==0&&k!==null){t=k;var l=Fe;t:switch(Z){case 1:Z=0,Fe=null,ui(e,t,l,1);break;case 2:case 9:if(Nc(l)){Z=0,Fe=null,$c(t);break}t=function(){Z!==2&&Z!==9||te!==e||(Z=7),Ct(e)},l.then(t,t);break e;case 3:Z=7;break e;case 4:Z=5;break e;case 7:Nc(l)?(Z=0,Fe=null,$c(t)):(Z=0,Fe=null,ui(e,t,l,7));break;case 5:var a=null;switch(k.tag){case 26:a=k.memoizedState;case 5:case 27:var u=k;if(a?Wh(a):u.stateNode.complete){Z=0,Fe=null;var c=u.sibling;if(c!==null)k=c;else{var f=u.return;f!==null?(k=f,Ia(f)):k=null}break t}}Z=0,Fe=null,ui(e,t,l,5);break;case 6:Z=0,Fe=null,ui(e,t,l,6);break;case 8:Du(),ue=6;break e;default:throw Error(R(462))}}m0();break}catch(d){xh(e,d)}while(!0);return bt=On=null,L.H=i,L.A=o,K=n,k!==null?0:(te=null,O=0,Sa(),ue)}function m0(){for(;k!==null&&!Vy();)Uh(k)}function Uh(e){var t=lh(e.alternate,e,Bt);e.memoizedProps=e.pendingProps,t===null?Ia(e):k=t}function $c(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Fc(n,t,t.pendingProps,t.type,void 0,O);break;case 11:t=Fc(n,t,t.pendingProps,t.type.render,t.ref,O);break;case 5:hu(t);default:ah(n,t),t=k=am(t,Bt),t=lh(n,t,Bt)}e.memoizedProps=e.pendingProps,t===null?Ia(e):k=t}function ui(e,t,n,i){bt=On=null,hu(t),gi=null,Ro=0;var o=t.return;try{if(n0(e,o,t,n,O)){ue=1,Xl(e,lt(n,e.current)),k=null;return}}catch(l){if(o!==null)throw k=o,l;ue=1,Xl(e,lt(n,e.current)),k=null;return}t.flags&32768?(Y||i===1?e=!0:Vi||O&536870912?e=!1:(nn=e=!0,(i===2||i===9||i===3||i===6)&&(i=je.current,i!==null&&i.tag===13&&(i.flags|=16384))),bh(t,e)):Ia(t)}function Ia(e){var t=e;do{if(t.flags&32768){bh(t,nn);return}e=t.return;var n=l0(t.alternate,t,Bt);if(n!==null){k=n;return}if(t=t.sibling,t!==null){k=t;return}k=t=e}while(t!==null);ue===0&&(ue=5)}function bh(e,t){do{var n=a0(e.alternate,e);if(n!==null){n.flags&=32767,k=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){k=e;return}k=e=n}while(e!==null);ue=6,k=null}function Wc(e,t,n,i,o,l,a,u,c){e.cancelPendingCommit=null;do Da();while(ye!==0);if(K&6)throw Error(R(327));if(t!==null){if(t===e.current)throw Error(R(177));if(l=t.lanes|t.childLanes,l|=tu,Xy(e,n,l,a,u,c),e===te&&(k=te=null,O=0),xi=t,fn=e,Ht=n,ur=l,cr=o,Rh=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,v0(Hl,function(){return qh(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=L.T,L.T=null,o=Q.p,Q.p=2,a=K,K|=4;try{s0(e,t,n)}finally{K=a,Q.p=o,L.T=i}}ye=1,Lh(),Gh(),Hh()}}function Lh(){if(ye===1){ye=0;var e=fn,t=xi,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=L.T,L.T=null;var i=Q.p;Q.p=2;var o=K;K|=4;try{yh(t,e);var l=hr,a=Wp(e.containerInfo),u=l.focusedElem,c=l.selectionRange;if(a!==u&&u&&u.ownerDocument&&$p(u.ownerDocument.documentElement,u)){if(c!==null&&eu(u)){var f=c.start,d=c.end;if(d===void 0&&(d=f),"selectionStart"in u)u.selectionStart=f,u.selectionEnd=Math.min(d,u.value.length);else{var m=u.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var h=p.getSelection(),T=u.textContent.length,E=Math.min(c.start,T),_=c.end===void 0?E:Math.min(c.end,T);!h.extend&&E>_&&(a=_,_=E,E=a);var y=Sc(u,E),g=Sc(u,_);if(y&&g&&(h.rangeCount!==1||h.anchorNode!==y.node||h.anchorOffset!==y.offset||h.focusNode!==g.node||h.focusOffset!==g.offset)){var v=m.createRange();v.setStart(y.node,y.offset),h.removeAllRanges(),E>_?(h.addRange(v),h.extend(g.node,g.offset)):(v.setEnd(g.node,g.offset),h.addRange(v))}}}}for(m=[],h=u;h=h.parentNode;)h.nodeType===1&&m.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<m.length;u++){var S=m[u];S.element.scrollLeft=S.left,S.element.scrollTop=S.top}}aa=!!mr,hr=mr=null}finally{K=o,Q.p=i,L.T=n}}e.current=t,ye=2}}function Gh(){if(ye===2){ye=0;var e=fn,t=xi,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=L.T,L.T=null;var i=Q.p;Q.p=2;var o=K;K|=4;try{dh(e,t.alternate,t)}finally{K=o,Q.p=i,L.T=n}}ye=3}}function Hh(){if(ye===4||ye===3){ye=0,qy();var e=fn,t=xi,n=Ht,i=Rh;t.subtreeFlags&10256||t.flags&10256?ye=5:(ye=0,xi=fn=null,Vh(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(cn=null),Xr(n),t=t.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(Go,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=L.T,o=Q.p,Q.p=2,L.T=null;try{for(var l=e.onRecoverableError,a=0;a<i.length;a++){var u=i[a];l(u.value,{componentStack:u.stack})}}finally{L.T=t,Q.p=o}}Ht&3&&Da(),Ct(e),o=e.pendingLanes,n&261930&&o&42?e===fr?go++:(go=0,fr=e):go=0,Oo(0)}}function Vh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Po(t)))}function Da(){return Lh(),Gh(),Hh(),qh()}function qh(){if(ye!==5)return!1;var e=fn,t=ur;ur=0;var n=Xr(Ht),i=L.T,o=Q.p;try{Q.p=32>n?32:n,L.T=null,n=cr,cr=null;var l=fn,a=Ht;if(ye=0,xi=fn=null,Ht=0,K&6)throw Error(R(331));var u=K;if(K|=4,_h(l.current),Th(l,l.current,a,n),K=u,Oo(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(Go,l)}catch{}return!0}finally{Q.p=o,L.T=i,Vh(e,t)}}function jc(e,t,n){t=lt(n,t),t=or(e.stateNode,t,2),e=un(e,t,2),e!==null&&(Vo(e,2),Ct(e))}function $(e,t,n){if(e.tag===3)jc(e,e,n);else for(;t!==null;){if(t.tag===3){jc(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(cn===null||!cn.has(i))){e=lt(n,e),n=jm(2),i=un(t,n,2),i!==null&&(eh(n,i,t,e),Vo(i,2),Ct(i));break}}t=t.return}}function gs(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new c0;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(xu=!0,o.add(n),e=h0.bind(null,e,t,n),t.then(e,e))}function h0(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,te===e&&(O&n)===n&&(ue===4||ue===3&&(O&62914560)===O&&300>Ke()-Na?!(K&2)&&Ii(e,0):Iu|=n,Ni===O&&(Ni=0)),Ct(e)}function zh(e,t){t===0&&(t=Dp()),e=kn(e,t),e!==null&&(Vo(e,t),Ct(e))}function g0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),zh(e,n)}function y0(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(R(314))}i!==null&&i.delete(t),zh(e,n)}function v0(e,t){return Yr(e,t)}var jl=null,Zn=null,dr=!1,ea=!1,ys=!1,ln=0;function Ct(e){e!==Zn&&e.next===null&&(Zn===null?jl=Zn=e:Zn=Zn.next=e),ea=!0,dr||(dr=!0,S0())}function Oo(e,t){if(!ys&&ea){ys=!0;do for(var n=!1,i=jl;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var l=0;else{var a=i.suspendedLanes,u=i.pingedLanes;l=(1<<31-Ze(42|e)+1)-1,l&=o&~(a&~u),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(n=!0,ef(i,l))}else l=O,l=ga(i,i===te?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(l&3)||Ho(i,l)||(n=!0,ef(i,l));i=i.next}while(n);ys=!1}}function T0(){Ph()}function Ph(){ea=dr=!1;var e=0;ln!==0&&D0()&&(e=ln);for(var t=Ke(),n=null,i=jl;i!==null;){var o=i.next,l=Bh(i,t);l===0?(i.next=null,n===null?jl=o:n.next=o,o===null&&(Zn=n)):(n=i,(e!==0||l&3)&&(ea=!0)),i=o}ye!==0&&ye!==5||Oo(e),ln!==0&&(ln=0)}function Bh(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,l=e.pendingLanes&-62914561;0<l;){var a=31-Ze(l),u=1<<a,c=o[a];c===-1?(!(u&n)||u&i)&&(o[a]=Jy(u,t)):c<=t&&(e.expiredLanes|=u),l&=~u}if(t=te,n=O,n=ga(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(Z===2||Z===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Ya(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Ho(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Ya(i),Xr(n)){case 2:case 8:n=xp;break;case 32:n=Hl;break;case 268435456:n=Ip;break;default:n=Hl}return i=kh.bind(null,e),n=Yr(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Ya(i),e.callbackPriority=2,e.callbackNode=null,2}function kh(e,t){if(ye!==0&&ye!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Da()&&e.callbackNode!==n)return null;var i=O;return i=ga(e,e===te?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Nh(e,i,t),Bh(e,Ke()),e.callbackNode!=null&&e.callbackNode===n?kh.bind(null,e):null)}function ef(e,t){if(Da())return null;Nh(e,t,!0)}function S0(){U0(function(){K&6?Yr(Np,T0):Ph()})}function wu(){if(ln===0){var e=Ai;e===0&&(e=$o,$o<<=1,!($o&261888)&&($o=256)),ln=e}return ln}function tf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:yl(""+e)}function nf(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function E0(e,t,n,i,o){if(t==="submit"&&n&&n.stateNode===o){var l=tf((o[Be]||null).action),a=i.submitter;a&&(t=(t=a[Be]||null)?tf(t.formAction):a.getAttribute("formAction"),t!==null&&(l=t,a=null));var u=new ya("action","action",null,i,o);e.push({event:u,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ln!==0){var c=a?nf(o,a):new FormData(o);nr(n,{pending:!0,data:c,method:o.method,action:l},null,c)}}else typeof l=="function"&&(u.preventDefault(),c=a?nf(o,a):new FormData(o),nr(n,{pending:!0,data:c,method:o.method,action:l},l,c))},currentTarget:o}]})}}for(var vs=0;vs<Fs.length;vs++){var Ts=Fs[vs],_0=Ts.toLowerCase(),C0=Ts[0].toUpperCase()+Ts.slice(1);gt(_0,"on"+C0)}gt(em,"onAnimationEnd");gt(tm,"onAnimationIteration");gt(nm,"onAnimationStart");gt("dblclick","onDoubleClick");gt("focusin","onFocus");gt("focusout","onBlur");gt(zv,"onTransitionRun");gt(Pv,"onTransitionStart");gt(Bv,"onTransitionCancel");gt(im,"onTransitionEnd");_i("onMouseEnter",["mouseout","mouseover"]);_i("onMouseLeave",["mouseout","mouseover"]);_i("onPointerEnter",["pointerout","pointerover"]);_i("onPointerLeave",["pointerout","pointerover"]);zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xo));function Oh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var l=void 0;if(t)for(var a=i.length-1;0<=a;a--){var u=i[a],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==l&&o.isPropagationStopped())break e;l=u,o.currentTarget=f;try{l(o)}catch(d){ql(d)}o.currentTarget=null,l=c}else for(a=0;a<i.length;a++){if(u=i[a],c=u.instance,f=u.currentTarget,u=u.listener,c!==l&&o.isPropagationStopped())break e;l=u,o.currentTarget=f;try{l(o)}catch(d){ql(d)}o.currentTarget=null,l=c}}}}function B(e,t){var n=t[Hs];n===void 0&&(n=t[Hs]=new Set);var i=e+"__bubble";n.has(i)||(Fh(t,e,2,!1),n.add(i))}function Ss(e,t,n){var i=0;t&&(i|=4),Fh(n,e,i,t)}var sl="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[sl]){e[sl]=!0,Gp.forEach(function(n){n!=="selectionchange"&&(A0.has(n)||Ss(n,!1,e),Ss(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sl]||(t[sl]=!0,Ss("selectionchange",!1,t))}}function Fh(e,t,n,i){switch(ig(t)){case 2:var o=W0;break;case 8:o=j0;break;default:o=Hu}n=o.bind(null,t,n,e),o=void 0,!Bs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Es(e,t,n,i,o){var l=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var u=i.stateNode.containerInfo;if(u===o)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&a.stateNode.containerInfo===o)return;a=a.return}for(;u!==null;){if(a=ei(u),a===null)return;if(c=a.tag,c===5||c===6||c===26||c===27){i=l=a;continue e}u=u.parentNode}}i=i.return}Op(function(){var f=l,d=Zr(n),m=[];e:{var p=om.get(e);if(p!==void 0){var h=ya,T=e;switch(e){case"keypress":if(Tl(n)===0)break e;case"keydown":case"keyup":h=yv;break;case"focusin":T="focus",h=Za;break;case"focusout":T="blur",h=Za;break;case"beforeblur":case"afterblur":h=Za;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=lv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Sv;break;case em:case tm:case nm:h=rv;break;case im:h=_v;break;case"scroll":case"scrollend":h=iv;break;case"wheel":h=Av;break;case"copy":case"cut":case"paste":h=cv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=dc;break;case"toggle":case"beforetoggle":h=Mv}var E=(t&4)!==0,_=!E&&(e==="scroll"||e==="scrollend"),y=E?p!==null?p+"Capture":null:p;E=[];for(var g=f,v;g!==null;){var S=g;if(v=S.stateNode,S=S.tag,S!==5&&S!==26&&S!==27||v===null||y===null||(S=So(g,y),S!=null&&E.push(Io(g,S,v))),_)break;g=g.return}0<E.length&&(p=new h(p,T,null,n,d),m.push({event:p,listeners:E}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",p&&n!==Ps&&(T=n.relatedTarget||n.fromElement)&&(ei(T)||T[bi]))break e;if((h||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,h?(T=n.relatedTarget||n.toElement,h=f,T=T?ei(T):null,T!==null&&(_=Lo(T),E=T.tag,T!==_||E!==5&&E!==27&&E!==6)&&(T=null)):(h=null,T=f),h!==T)){if(E=cc,S="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(E=dc,S="onPointerLeave",y="onPointerEnter",g="pointer"),_=h==null?p:ji(h),v=T==null?p:ji(T),p=new E(S,g+"leave",h,n,d),p.target=_,p.relatedTarget=v,S=null,ei(d)===f&&(E=new E(y,g+"enter",T,n,d),E.target=v,E.relatedTarget=_,S=E),_=S,h&&T)t:{for(E=R0,y=h,g=T,v=0,S=y;S;S=E(S))v++;S=0;for(var A=g;A;A=E(A))S++;for(;0<v-S;)y=E(y),v--;for(;0<S-v;)g=E(g),S--;for(;v--;){if(y===g||g!==null&&y===g.alternate){E=y;break t}y=E(y),g=E(g)}E=null}else E=null;h!==null&&of(m,p,h,E,!1),T!==null&&_!==null&&of(m,_,T,E,!0)}}e:{if(p=f?ji(f):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var I=gc;else if(hc(p))if(Qp)I=Hv;else{I=Lv;var M=bv}else h=p.nodeName,!h||h.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?f&&Qr(f.elementType)&&(I=gc):I=Gv;if(I&&(I=I(e,f))){Kp(m,I,n,d);break e}M&&M(e,p,f),e==="focusout"&&f&&p.type==="number"&&f.memoizedProps.value!=null&&zs(p,"number",p.value)}switch(M=f?ji(f):window,e){case"focusin":(hc(M)||M.contentEditable==="true")&&(ii=M,ks=f,ao=null);break;case"focusout":ao=ks=ii=null;break;case"mousedown":Os=!0;break;case"contextmenu":case"mouseup":case"dragend":Os=!1,Ec(m,n,d);break;case"selectionchange":if(qv)break;case"keydown":case"keyup":Ec(m,n,d)}var D;if(jr)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ni?Jp(e,n)&&(x="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(Yp&&n.locale!=="ko"&&(ni||x!=="onCompositionStart"?x==="onCompositionEnd"&&ni&&(D=Fp()):(tn=d,$r="value"in tn?tn.value:tn.textContent,ni=!0)),M=ta(f,x),0<M.length&&(x=new fc(x,e,null,n,d),m.push({event:x,listeners:M}),D?x.data=D:(D=Xp(n),D!==null&&(x.data=D)))),(D=xv?Iv(e,n):Dv(e,n))&&(x=ta(f,"onBeforeInput"),0<x.length&&(M=new fc("onBeforeInput","beforeinput",null,n,d),m.push({event:M,listeners:x}),M.data=D)),E0(m,e,f,n,d)}Oh(m,t)})}function Io(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ta(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,l=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||l===null||(o=So(e,n),o!=null&&i.unshift(Io(e,o,l)),o=So(e,t),o!=null&&i.push(Io(e,o,l))),e.tag===3)return i;e=e.return}return[]}function R0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function of(e,t,n,i,o){for(var l=t._reactName,a=[];n!==null&&n!==i;){var u=n,c=u.alternate,f=u.stateNode;if(u=u.tag,c!==null&&c===i)break;u!==5&&u!==26&&u!==27||f===null||(c=f,o?(f=So(n,l),f!=null&&a.unshift(Io(n,f,c))):o||(f=So(n,l),f!=null&&a.push(Io(n,f,c)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var M0=/\r\n?/g,N0=/\u0000|\uFFFD/g;function lf(e){return(typeof e=="string"?e:""+e).replace(M0,`
`).replace(N0,"")}function Yh(e,t){return t=lf(t),lf(e)===t}function j(e,t,n,i,o,l){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Ci(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Ci(e,""+i);break;case"className":el(e,"class",i);break;case"tabIndex":el(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":el(e,n,i);break;case"style":kp(e,i,l);break;case"data":if(t!=="object"){el(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=yl(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(n==="formAction"?(t!=="input"&&j(e,t,"name",o.name,o,null),j(e,t,"formEncType",o.formEncType,o,null),j(e,t,"formMethod",o.formMethod,o,null),j(e,t,"formTarget",o.formTarget,o,null)):(j(e,t,"encType",o.encType,o,null),j(e,t,"method",o.method,o,null),j(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=yl(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=Ut);break;case"onScroll":i!=null&&B("scroll",e);break;case"onScrollEnd":i!=null&&B("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(R(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(R(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=yl(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":B("beforetoggle",e),B("toggle",e),gl(e,"popover",i);break;case"xlinkActuate":At(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":At(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":At(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":At(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":At(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":At(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":At(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":At(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":At(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":gl(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=tv.get(n)||n,gl(e,n,i))}}function pr(e,t,n,i,o,l){switch(n){case"style":kp(e,i,l);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(R(61));if(n=i.__html,n!=null){if(o.children!=null)throw Error(R(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Ci(e,i):(typeof i=="number"||typeof i=="bigint")&&Ci(e,""+i);break;case"onScroll":i!=null&&B("scroll",e);break;case"onScrollEnd":i!=null&&B("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Ut);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hp.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),l=e[Be]||null,l=l!=null?l[n]:null,typeof l=="function"&&e.removeEventListener(t,l,o),typeof i=="function")){typeof l!="function"&&l!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,o);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):gl(e,n,i)}}}function xe(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":B("error",e),B("load",e);var i=!1,o=!1,l;for(l in n)if(n.hasOwnProperty(l)){var a=n[l];if(a!=null)switch(l){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(R(137,t));default:j(e,t,l,a,n,null)}}o&&j(e,t,"srcSet",n.srcSet,n,null),i&&j(e,t,"src",n.src,n,null);return;case"input":B("invalid",e);var u=l=a=o=null,c=null,f=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":o=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":f=d;break;case"value":l=d;break;case"defaultValue":u=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(R(137,t));break;default:j(e,t,i,d,n,null)}}zp(e,l,u,c,f,a,o,!1);return;case"select":B("invalid",e),i=a=l=null;for(o in n)if(n.hasOwnProperty(o)&&(u=n[o],u!=null))switch(o){case"value":l=u;break;case"defaultValue":a=u;break;case"multiple":i=u;default:j(e,t,o,u,n,null)}t=l,n=a,e.multiple=!!i,t!=null?pi(e,!!i,t,!1):n!=null&&pi(e,!!i,n,!0);return;case"textarea":B("invalid",e),l=o=i=null;for(a in n)if(n.hasOwnProperty(a)&&(u=n[a],u!=null))switch(a){case"value":i=u;break;case"defaultValue":o=u;break;case"children":l=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(R(91));break;default:j(e,t,a,u,n,null)}Bp(e,i,o,l);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:j(e,t,c,i,n,null)}return;case"dialog":B("beforetoggle",e),B("toggle",e),B("cancel",e),B("close",e);break;case"iframe":case"object":B("load",e);break;case"video":case"audio":for(i=0;i<xo.length;i++)B(xo[i],e);break;case"image":B("error",e),B("load",e);break;case"details":B("toggle",e);break;case"embed":case"source":case"link":B("error",e),B("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in n)if(n.hasOwnProperty(f)&&(i=n[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(R(137,t));default:j(e,t,f,i,n,null)}return;default:if(Qr(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&pr(e,t,d,i,n,void 0));return}}for(u in n)n.hasOwnProperty(u)&&(i=n[u],i!=null&&j(e,t,u,i,n,null))}function x0(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,l=null,a=null,u=null,c=null,f=null,d=null;for(h in n){var m=n[h];if(n.hasOwnProperty(h)&&m!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":c=m;default:i.hasOwnProperty(h)||j(e,t,h,null,i,m)}}for(var p in i){var h=i[p];if(m=n[p],i.hasOwnProperty(p)&&(h!=null||m!=null))switch(p){case"type":l=h;break;case"name":o=h;break;case"checked":f=h;break;case"defaultChecked":d=h;break;case"value":a=h;break;case"defaultValue":u=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(R(137,t));break;default:h!==m&&j(e,t,p,h,i,m)}}qs(e,a,u,c,f,d,l,o);return;case"select":h=a=u=p=null;for(l in n)if(c=n[l],n.hasOwnProperty(l)&&c!=null)switch(l){case"value":break;case"multiple":h=c;default:i.hasOwnProperty(l)||j(e,t,l,null,i,c)}for(o in i)if(l=i[o],c=n[o],i.hasOwnProperty(o)&&(l!=null||c!=null))switch(o){case"value":p=l;break;case"defaultValue":u=l;break;case"multiple":a=l;default:l!==c&&j(e,t,o,l,i,c)}t=u,n=a,i=h,p!=null?pi(e,!!n,p,!1):!!i!=!!n&&(t!=null?pi(e,!!n,t,!0):pi(e,!!n,n?[]:"",!1));return;case"textarea":h=p=null;for(u in n)if(o=n[u],n.hasOwnProperty(u)&&o!=null&&!i.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:j(e,t,u,null,i,o)}for(a in i)if(o=i[a],l=n[a],i.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case"value":p=o;break;case"defaultValue":h=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(R(91));break;default:o!==l&&j(e,t,a,o,i,l)}Pp(e,p,h);return;case"option":for(var T in n)if(p=n[T],n.hasOwnProperty(T)&&p!=null&&!i.hasOwnProperty(T))switch(T){case"selected":e.selected=!1;break;default:j(e,t,T,null,i,p)}for(c in i)if(p=i[c],h=n[c],i.hasOwnProperty(c)&&p!==h&&(p!=null||h!=null))switch(c){case"selected":e.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:j(e,t,c,p,i,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var E in n)p=n[E],n.hasOwnProperty(E)&&p!=null&&!i.hasOwnProperty(E)&&j(e,t,E,null,i,p);for(f in i)if(p=i[f],h=n[f],i.hasOwnProperty(f)&&p!==h&&(p!=null||h!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(R(137,t));break;default:j(e,t,f,p,i,h)}return;default:if(Qr(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!i.hasOwnProperty(_)&&pr(e,t,_,void 0,i,p);for(d in i)p=i[d],h=n[d],!i.hasOwnProperty(d)||p===h||p===void 0&&h===void 0||pr(e,t,d,p,i,h);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&p!=null&&!i.hasOwnProperty(y)&&j(e,t,y,null,i,p);for(m in i)p=i[m],h=n[m],!i.hasOwnProperty(m)||p===h||p==null&&h==null||j(e,t,m,p,i,h)}function af(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function I0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var o=n[i],l=o.transferSize,a=o.initiatorType,u=o.duration;if(l&&u&&af(a)){for(a=0,u=o.responseEnd,i+=1;i<n.length;i++){var c=n[i],f=c.startTime;if(f>u)break;var d=c.transferSize,m=c.initiatorType;d&&af(m)&&(c=c.responseEnd,a+=d*(c<u?1:(u-f)/(c-f)))}if(--i,t+=8*(l+a)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var mr=null,hr=null;function na(e){return e.nodeType===9?e:e.ownerDocument}function sf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function gr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _s=null;function D0(){var e=window.event;return e&&e.type==="popstate"?e===_s?!1:(_s=e,!0):(_s=null,!1)}var Xh=typeof setTimeout=="function"?setTimeout:void 0,w0=typeof clearTimeout=="function"?clearTimeout:void 0,rf=typeof Promise=="function"?Promise:void 0,U0=typeof queueMicrotask=="function"?queueMicrotask:typeof rf<"u"?function(e){return rf.resolve(null).then(e).catch(b0)}:Xh;function b0(e){setTimeout(function(){throw e})}function Sn(e){return e==="head"}function uf(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(o),wi(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")yo(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,yo(n);for(var l=n.firstChild;l;){var a=l.nextSibling,u=l.nodeName;l[qo]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&l.rel.toLowerCase()==="stylesheet"||n.removeChild(l),l=a}}else n==="body"&&yo(e.ownerDocument.body);n=o}while(n);wi(t)}function cf(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function yr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":yr(n),Kr(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function L0(e,t,n,i){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[qo])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(l=e.getAttribute("rel"),l==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(l!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(l=e.getAttribute("src"),(l!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var l=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===l)return e}else return e;if(e=rt(e.nextSibling),e===null)break}return null}function G0(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=rt(e.nextSibling),e===null))return null;return e}function Kh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=rt(e.nextSibling),e===null))return null;return e}function vr(e){return e.data==="$?"||e.data==="$~"}function Tr(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function H0(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function rt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Sr=null;function ff(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return rt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function df(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Qh(e,t,n){switch(t=na(n),e){case"html":if(e=t.documentElement,!e)throw Error(R(452));return e;case"head":if(e=t.head,!e)throw Error(R(453));return e;case"body":if(e=t.body,!e)throw Error(R(454));return e;default:throw Error(R(451))}}function yo(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Kr(e)}var ct=new Map,pf=new Set;function ia(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ot=Q.d;Q.d={f:V0,r:q0,D:z0,C:P0,L:B0,m:k0,X:F0,S:O0,M:Y0};function V0(){var e=Ot.f(),t=xa();return e||t}function q0(e){var t=Li(e);t!==null&&t.tag===5&&t.type==="form"?km(t):Ot.r(e)}var qi=typeof document>"u"?null:document;function Zh(e,t,n){var i=qi;if(i&&typeof t=="string"&&t){var o=ot(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),pf.has(o)||(pf.add(o),e={rel:e,crossOrigin:n,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),xe(t,"link",e),Ee(t),i.head.appendChild(t)))}}function z0(e){Ot.D(e),Zh("dns-prefetch",e,null)}function P0(e,t){Ot.C(e,t),Zh("preconnect",e,t)}function B0(e,t,n){Ot.L(e,t,n);var i=qi;if(i&&e&&t){var o='link[rel="preload"][as="'+ot(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+ot(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+ot(n.imageSizes)+'"]')):o+='[href="'+ot(e)+'"]';var l=o;switch(t){case"style":l=Di(e);break;case"script":l=zi(e)}ct.has(l)||(e=ae({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),ct.set(l,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(Fo(l))||t==="script"&&i.querySelector(Yo(l))||(t=i.createElement("link"),xe(t,"link",e),Ee(t),i.head.appendChild(t)))}}function k0(e,t){Ot.m(e,t);var n=qi;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+ot(i)+'"][href="'+ot(e)+'"]',l=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=zi(e)}if(!ct.has(l)&&(e=ae({rel:"modulepreload",href:e},t),ct.set(l,e),n.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Yo(l)))return}i=n.createElement("link"),xe(i,"link",e),Ee(i),n.head.appendChild(i)}}}function O0(e,t,n){Ot.S(e,t,n);var i=qi;if(i&&e){var o=di(i).hoistableStyles,l=Di(e);t=t||"default";var a=o.get(l);if(!a){var u={loading:0,preload:null};if(a=i.querySelector(Fo(l)))u.loading=5;else{e=ae({rel:"stylesheet",href:e,"data-precedence":t},n),(n=ct.get(l))&&bu(e,n);var c=a=i.createElement("link");Ee(c),xe(c,"link",e),c._p=new Promise(function(f,d){c.onload=f,c.onerror=d}),c.addEventListener("load",function(){u.loading|=1}),c.addEventListener("error",function(){u.loading|=2}),u.loading|=4,Nl(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:u},o.set(l,a)}}}function F0(e,t){Ot.X(e,t);var n=qi;if(n&&e){var i=di(n).hoistableScripts,o=zi(e),l=i.get(o);l||(l=n.querySelector(Yo(o)),l||(e=ae({src:e,async:!0},t),(t=ct.get(o))&&Lu(e,t),l=n.createElement("script"),Ee(l),xe(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},i.set(o,l))}}function Y0(e,t){Ot.M(e,t);var n=qi;if(n&&e){var i=di(n).hoistableScripts,o=zi(e),l=i.get(o);l||(l=n.querySelector(Yo(o)),l||(e=ae({src:e,async:!0,type:"module"},t),(t=ct.get(o))&&Lu(e,t),l=n.createElement("script"),Ee(l),xe(l,"link",e),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},i.set(o,l))}}function mf(e,t,n,i){var o=(o=an.current)?ia(o):null;if(!o)throw Error(R(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Di(n.href),n=di(o).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Di(n.href);var l=di(o).hoistableStyles,a=l.get(e);if(a||(o=o.ownerDocument||o,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(e,a),(l=o.querySelector(Fo(e)))&&!l._p&&(a.instance=l,a.state.loading=5),ct.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},ct.set(e,n),l||J0(o,e,n,a.state))),t&&i===null)throw Error(R(528,""));return a}if(t&&i!==null)throw Error(R(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=zi(n),n=di(o).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(R(444,e))}}function Di(e){return'href="'+ot(e)+'"'}function Fo(e){return'link[rel="stylesheet"]['+e+"]"}function $h(e){return ae({},e,{"data-precedence":e.precedence,precedence:null})}function J0(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),xe(t,"link",n),Ee(t),e.head.appendChild(t))}function zi(e){return'[src="'+ot(e)+'"]'}function Yo(e){return"script[async]"+e}function hf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+ot(n.href)+'"]');if(i)return t.instance=i,Ee(i),i;var o=ae({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),Ee(i),xe(i,"style",o),Nl(i,n.precedence,e),t.instance=i;case"stylesheet":o=Di(n.href);var l=e.querySelector(Fo(o));if(l)return t.state.loading|=4,t.instance=l,Ee(l),l;i=$h(n),(o=ct.get(o))&&bu(i,o),l=(e.ownerDocument||e).createElement("link"),Ee(l);var a=l;return a._p=new Promise(function(u,c){a.onload=u,a.onerror=c}),xe(l,"link",i),t.state.loading|=4,Nl(l,n.precedence,e),t.instance=l;case"script":return l=zi(n.src),(o=e.querySelector(Yo(l)))?(t.instance=o,Ee(o),o):(i=n,(o=ct.get(l))&&(i=ae({},n),Lu(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),Ee(o),xe(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(R(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Nl(i,n.precedence,e));return t.instance}function Nl(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,l=o,a=0;a<i.length;a++){var u=i[a];if(u.dataset.precedence===t)l=u;else if(l!==o)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function bu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Lu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var xl=null;function gf(e,t,n){if(xl===null){var i=new Map,o=xl=new Map;o.set(n,i)}else o=xl,i=o.get(n),i||(i=new Map,o.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var l=n[o];if(!(l[qo]||l[Re]||e==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var a=l.getAttribute(t)||"";a=e+a;var u=i.get(a);u?u.push(l):i.set(a,[l])}}return i}function yf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function X0(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Wh(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function K0(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var o=Di(i.href),l=t.querySelector(Fo(o));if(l){t=l._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=oa.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=l,Ee(l);return}l=t.ownerDocument||t,i=$h(i),(o=ct.get(o))&&bu(i,o),l=l.createElement("link"),Ee(l);var a=l;a._p=new Promise(function(u,c){a.onload=u,a.onerror=c}),xe(l,"link",i),n.instance=l}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=oa.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var Cs=0;function Q0(e,t){return e.stylesheets&&e.count===0&&Il(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&Il(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4+t);0<e.imgBytes&&Cs===0&&(Cs=62500*I0());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Il(e,e.stylesheets),e.unsuspend)){var l=e.unsuspend;e.unsuspend=null,l()}},(e.imgBytes>Cs?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function oa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Il(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var la=null;function Il(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,la=new Map,t.forEach(Z0,e),la=null,oa.call(e))}function Z0(e,t){if(!(t.state.loading&4)){var n=la.get(e);if(n)var i=n.get(null);else{n=new Map,la.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<o.length;l++){var a=o[l];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}o=t.instance,a=o.getAttribute("data-precedence"),l=n.get(a)||i,l===i&&n.set(null,o),n.set(a,o),this.count++,i=oa.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),l?l.parentNode.insertBefore(o,l.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Do={$$typeof:wt,Provider:null,Consumer:null,_currentValue:In,_currentValue2:In,_threadCount:0};function $0(e,t,n,i,o,l,a,u,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ja(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ja(0),this.hiddenUpdates=Ja(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=l,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function jh(e,t,n,i,o,l,a,u,c,f,d,m){return e=new $0(e,t,n,a,c,f,d,m,u),t=1,l===!0&&(t|=24),l=Je(3,null,null,t),e.current=l,l.stateNode=e,t=au(),t.refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:i,isDehydrated:n,cache:t},uu(l),e}function eg(e){return e?(e=ai,e):ai}function tg(e,t,n,i,o,l){o=eg(o),i.context===null?i.context=o:i.pendingContext=o,i=rn(t),i.payload={element:n},l=l===void 0?null:l,l!==null&&(i.callback=l),n=un(e,i,t),n!==null&&(Pe(n,e,t),ro(n,e,t))}function vf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Gu(e,t){vf(e,t),(e=e.alternate)&&vf(e,t)}function ng(e){if(e.tag===13||e.tag===31){var t=kn(e,67108864);t!==null&&Pe(t,e,67108864),Gu(e,67108864)}}function Tf(e){if(e.tag===13||e.tag===31){var t=$e();t=Jr(t);var n=kn(e,t);n!==null&&Pe(n,e,t),Gu(e,t)}}var aa=!0;function W0(e,t,n,i){var o=L.T;L.T=null;var l=Q.p;try{Q.p=2,Hu(e,t,n,i)}finally{Q.p=l,L.T=o}}function j0(e,t,n,i){var o=L.T;L.T=null;var l=Q.p;try{Q.p=8,Hu(e,t,n,i)}finally{Q.p=l,L.T=o}}function Hu(e,t,n,i){if(aa){var o=Er(i);if(o===null)Es(e,t,i,sa,n),Sf(e,i);else if(tT(o,e,t,n,i))i.stopPropagation();else if(Sf(e,i),t&4&&-1<eT.indexOf(e)){for(;o!==null;){var l=Li(o);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var a=Rn(l.pendingLanes);if(a!==0){var u=l;for(u.pendingLanes|=2,u.entangledLanes|=2;a;){var c=1<<31-Ze(a);u.entanglements[1]|=c,a&=~c}Ct(l),!(K&6)&&(Zl=Ke()+500,Oo(0))}}break;case 31:case 13:u=kn(l,2),u!==null&&Pe(u,l,2),xa(),Gu(l,2)}if(l=Er(i),l===null&&Es(e,t,i,sa,n),l===o)break;o=l}o!==null&&i.stopPropagation()}else Es(e,t,i,null,n)}}function Er(e){return e=Zr(e),Vu(e)}var sa=null;function Vu(e){if(sa=null,e=ei(e),e!==null){var t=Lo(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=_p(t),e!==null)return e;e=null}else if(n===31){if(e=Cp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sa=e,null}function ig(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zy()){case Np:return 2;case xp:return 8;case Hl:case Py:return 32;case Ip:return 268435456;default:return 32}default:return 32}}var _r=!1,dn=null,pn=null,mn=null,wo=new Map,Uo=new Map,jt=[],eT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sf(e,t){switch(e){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":pn=null;break;case"mouseover":case"mouseout":mn=null;break;case"pointerover":case"pointerout":wo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uo.delete(t.pointerId)}}function Qi(e,t,n,i,o,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:l,targetContainers:[o]},t!==null&&(t=Li(t),t!==null&&ng(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function tT(e,t,n,i,o){switch(t){case"focusin":return dn=Qi(dn,e,t,n,i,o),!0;case"dragenter":return pn=Qi(pn,e,t,n,i,o),!0;case"mouseover":return mn=Qi(mn,e,t,n,i,o),!0;case"pointerover":var l=o.pointerId;return wo.set(l,Qi(wo.get(l)||null,e,t,n,i,o)),!0;case"gotpointercapture":return l=o.pointerId,Uo.set(l,Qi(Uo.get(l)||null,e,t,n,i,o)),!0}return!1}function og(e){var t=ei(e.target);if(t!==null){var n=Lo(t);if(n!==null){if(t=n.tag,t===13){if(t=_p(n),t!==null){e.blockedOn=t,ic(e.priority,function(){Tf(n)});return}}else if(t===31){if(t=Cp(n),t!==null){e.blockedOn=t,ic(e.priority,function(){Tf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Er(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Ps=i,n.target.dispatchEvent(i),Ps=null}else return t=Li(n),t!==null&&ng(t),e.blockedOn=n,!1;t.shift()}return!0}function Ef(e,t,n){Dl(e)&&n.delete(t)}function nT(){_r=!1,dn!==null&&Dl(dn)&&(dn=null),pn!==null&&Dl(pn)&&(pn=null),mn!==null&&Dl(mn)&&(mn=null),wo.forEach(Ef),Uo.forEach(Ef)}function rl(e,t){e.blockedOn===t&&(e.blockedOn=null,_r||(_r=!0,ve.unstable_scheduleCallback(ve.unstable_NormalPriority,nT)))}var ul=null;function _f(e){ul!==e&&(ul=e,ve.unstable_scheduleCallback(ve.unstable_NormalPriority,function(){ul===e&&(ul=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(Vu(i||n)===null)continue;break}var l=Li(n);l!==null&&(e.splice(t,3),t-=3,nr(l,{pending:!0,data:o,method:n.method,action:i},i,o))}}))}function wi(e){function t(c){return rl(c,e)}dn!==null&&rl(dn,e),pn!==null&&rl(pn,e),mn!==null&&rl(mn,e),wo.forEach(t),Uo.forEach(t);for(var n=0;n<jt.length;n++){var i=jt[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<jt.length&&(n=jt[0],n.blockedOn===null);)og(n),n.blockedOn===null&&jt.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var o=n[i],l=n[i+1],a=o[Be]||null;if(typeof l=="function")a||_f(n);else if(a){var u=null;if(l&&l.hasAttribute("formAction")){if(o=l,a=l[Be]||null)u=a.formAction;else if(Vu(o)!==null)continue}else u=a.action;typeof u=="function"?n[i+1]=u:(n.splice(i,3),i-=3),_f(n)}}}function lg(){function e(l){l.canIntercept&&l.info==="react-transition"&&l.intercept({handler:function(){return new Promise(function(a){return o=a})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var l=navigation.currentEntry;l&&l.url!=null&&navigation.navigate(l.url,{state:l.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function qu(e){this._internalRoot=e}wa.prototype.render=qu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));var n=t.current,i=$e();tg(n,i,e,t,null,null)};wa.prototype.unmount=qu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tg(e.current,2,null,e,null,null),xa(),t[bi]=null}};function wa(e){this._internalRoot=e}wa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Lp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&t!==0&&t<jt[n].priority;n++);jt.splice(n,0,e),n===0&&og(e)}};var Cf=Sp.version;if(Cf!=="19.2.3")throw Error(R(527,Cf,"19.2.3"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=Uy(t),e=e!==null?Ap(e):null,e=e===null?null:e.stateNode,e};var iT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{Go=cl.inject(iT),Qe=cl}catch{}}ma.createRoot=function(e,t){if(!Ep(e))throw Error(R(299));var n=!1,i="",o=Zm,l=$m,a=Wm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(l=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=jh(e,1,!1,null,null,n,i,null,o,l,a,lg),e[bi]=t.current,Uu(e),new qu(t)};ma.hydrateRoot=function(e,t,n){if(!Ep(e))throw Error(R(299));var i=!1,o="",l=Zm,a=$m,u=Wm,c=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(l=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(u=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),t=jh(e,1,!0,t,n??null,i,o,c,l,a,u,lg),t.context=eg(null),n=t.current,i=$e(),i=Jr(i),o=rn(i),o.callback=null,un(n,o,i),n=i,t.current.lanes=n,Vo(t,n),Ct(t),e[bi]=t.current,Uu(e),new wa(t)};ma.version="19.2.3";function ag(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ag)}catch(e){console.error(e)}}ag(),mp.exports=ma;var oT=mp.exports;const lT=op(oT);var Xt=(e=>(e[e.INPUT_DETAILS=0]="INPUT_DETAILS",e[e.GENERATE_SCRIPT=1]="GENERATE_SCRIPT",e[e.GENERATE_AUDIO=2]="GENERATE_AUDIO",e[e.GENERATE_SLIDES=3]="GENERATE_SLIDES",e))(Xt||{});const aT=`
AI
AI

510



- AI
- 
- 
- 510
- 9
- 





- 
- 510
- AI
`,sT=`
hide
YouTube3


${aT}


1. ****: ****hidehide
2. ****: 
   - 
   - 
   - 
3. ****:
   - ****: hideAI
   - **1**: 
   - **2**: 
   - **3**: 510
   - ****: 
4. ****: 38001000
5. ****: 
`;var rT={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let uT,cT;function fT(){return{geminiUrl:uT,vertexUrl:cT}}function dT(e,t,n,i){var o,l;if(!(e!=null&&e.baseUrl)){const a=fT();return t?(o=a.vertexUrl)!==null&&o!==void 0?o:n:(l=a.geminiUrl)!==null&&l!==void 0?l:i}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ft{}function U(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(i,o)=>{if(Object.prototype.hasOwnProperty.call(t,o)){const l=t[o];return l!=null?String(l):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function r(e,t,n){for(let l=0;l<t.length-1;l++){const a=t[l];if(a.endsWith("[]")){const u=a.slice(0,-2);if(!(u in e))if(Array.isArray(n))e[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(e[u])){const c=e[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const d=c[f];r(d,t.slice(l+1),n[f])}else for(const f of c)r(f,t.slice(l+1),n)}return}else if(a.endsWith("[0]")){const u=a.slice(0,-3);u in e||(e[u]=[{}]);const c=e[u];r(c[0],t.slice(l+1),n);return}(!e[a]||typeof e[a]!="object")&&(e[a]={}),e=e[a]}const i=t[t.length-1],o=e[i];if(o!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===o)return;if(typeof o=="object"&&typeof n=="object"&&o!==null&&n!==null)Object.assign(o,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[i]=n}function s(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let i=0;i<t.length;i++){if(typeof e!="object"||e===null)return n;const o=t[i];if(o.endsWith("[]")){const l=o.slice(0,-2);if(l in e){const a=e[l];return Array.isArray(a)?a.map(u=>s(u,t.slice(i+1),n)):n}else return n}else e=e[o]}return e}catch(i){if(i instanceof TypeError)return n;throw i}}function pT(e,t){for(const[n,i]of Object.entries(t)){const o=n.split("."),l=i.split("."),a=new Set;let u=-1;for(let c=0;c<o.length;c++)if(o[c]==="*"){u=c;break}if(u!==-1&&l.length>u)for(let c=u;c<l.length;c++){const f=l[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&a.add(f)}Cr(e,o,l,0,a)}}function Cr(e,t,n,i,o){if(i>=t.length||typeof e!="object"||e===null)return;const l=t[i];if(l.endsWith("[]")){const a=l.slice(0,-2),u=e;if(a in u&&Array.isArray(u[a]))for(const c of u[a])Cr(c,t,n,i+1,o)}else if(l==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const a=e,u=Object.keys(a).filter(f=>!f.startsWith("_")&&!o.has(f)),c={};for(const f of u)c[f]=a[f];for(const[f,d]of Object.entries(c)){const m=[];for(const p of n.slice(i))p==="*"?m.push(f):m.push(p);r(a,m,d)}for(const f of u)delete a[f]}}else{const a=e;l in a&&Cr(a[l],t,n,i+1,o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zu(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mT(e){const t={},n=s(e,["operationName"]);n!=null&&r(t,["operationName"],n);const i=s(e,["resourceName"]);return i!=null&&r(t,["_url","resourceName"],i),t}function hT(e){const t={},n=s(e,["name"]);n!=null&&r(t,["name"],n);const i=s(e,["metadata"]);i!=null&&r(t,["metadata"],i);const o=s(e,["done"]);o!=null&&r(t,["done"],o);const l=s(e,["error"]);l!=null&&r(t,["error"],l);const a=s(e,["response","generateVideoResponse"]);return a!=null&&r(t,["response"],yT(a)),t}function gT(e){const t={},n=s(e,["name"]);n!=null&&r(t,["name"],n);const i=s(e,["metadata"]);i!=null&&r(t,["metadata"],i);const o=s(e,["done"]);o!=null&&r(t,["done"],o);const l=s(e,["error"]);l!=null&&r(t,["error"],l);const a=s(e,["response"]);return a!=null&&r(t,["response"],vT(a)),t}function yT(e){const t={},n=s(e,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(a=>TT(a))),r(t,["generatedVideos"],l)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&r(t,["raiMediaFilteredCount"],i);const o=s(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function vT(e){const t={},n=s(e,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(a=>ST(a))),r(t,["generatedVideos"],l)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&r(t,["raiMediaFilteredCount"],i);const o=s(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function TT(e){const t={},n=s(e,["video"]);return n!=null&&r(t,["video"],MT(n)),t}function ST(e){const t={},n=s(e,["_self"]);return n!=null&&r(t,["video"],NT(n)),t}function ET(e){const t={},n=s(e,["operationName"]);return n!=null&&r(t,["_url","operationName"],n),t}function _T(e){const t={},n=s(e,["operationName"]);return n!=null&&r(t,["_url","operationName"],n),t}function CT(e){const t={},n=s(e,["name"]);n!=null&&r(t,["name"],n);const i=s(e,["metadata"]);i!=null&&r(t,["metadata"],i);const o=s(e,["done"]);o!=null&&r(t,["done"],o);const l=s(e,["error"]);l!=null&&r(t,["error"],l);const a=s(e,["response"]);return a!=null&&r(t,["response"],AT(a)),t}function AT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["parent"]);i!=null&&r(t,["parent"],i);const o=s(e,["documentName"]);return o!=null&&r(t,["documentName"],o),t}function sg(e){const t={},n=s(e,["name"]);n!=null&&r(t,["name"],n);const i=s(e,["metadata"]);i!=null&&r(t,["metadata"],i);const o=s(e,["done"]);o!=null&&r(t,["done"],o);const l=s(e,["error"]);l!=null&&r(t,["error"],l);const a=s(e,["response"]);return a!=null&&r(t,["response"],RT(a)),t}function RT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["parent"]);i!=null&&r(t,["parent"],i);const o=s(e,["documentName"]);return o!=null&&r(t,["documentName"],o),t}function MT(e){const t={},n=s(e,["uri"]);n!=null&&r(t,["uri"],n);const i=s(e,["encodedVideo"]);i!=null&&r(t,["videoBytes"],zu(i));const o=s(e,["encoding"]);return o!=null&&r(t,["mimeType"],o),t}function NT(e){const t={},n=s(e,["gcsUri"]);n!=null&&r(t,["uri"],n);const i=s(e,["bytesBase64Encoded"]);i!=null&&r(t,["videoBytes"],zu(i));const o=s(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Af;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Af||(Af={}));var Rf;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Rf||(Rf={}));var Mf;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(Mf||(Mf={}));var Ue;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Ue||(Ue={}));var Nf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Nf||(Nf={}));var xf;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(xf||(xf={}));var If;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(If||(If={}));var Df;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Df||(Df={}));var wf;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(wf||(wf={}));var Uf;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(Uf||(Uf={}));var bf;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(bf||(bf={}));var Lf;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Lf||(Lf={}));var Gf;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Gf||(Gf={}));var Hf;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(Hf||(Hf={}));var Vf;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Vf||(Vf={}));var qf;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(qf||(qf={}));var zf;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(zf||(zf={}));var Pf;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(Pf||(Pf={}));var Bf;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Bf||(Bf={}));var bo;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(bo||(bo={}));var kf;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(kf||(kf={}));var Of;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Of||(Of={}));var Ff;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ff||(Ff={}));var Ar;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ar||(Ar={}));var Yf;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Yf||(Yf={}));var Jf;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Jf||(Jf={}));var Xf;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Xf||(Xf={}));var Kf;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Kf||(Kf={}));var Qf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Qf||(Qf={}));var Zf;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Zf||(Zf={}));var $f;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})($f||($f={}));var Wf;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Wf||(Wf={}));var jf;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(jf||(jf={}));var ed;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(ed||(ed={}));var td;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(td||(td={}));var nd;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(nd||(nd={}));var id;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(id||(id={}));var od;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(od||(od={}));var ld;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(ld||(ld={}));var ad;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(ad||(ad={}));var sd;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(sd||(sd={}));var rd;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(rd||(rd={}));var ud;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(ud||(ud={}));var cd;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(cd||(cd={}));var fd;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(fd||(fd={}));var dd;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(dd||(dd={}));var pd;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(pd||(pd={}));var md;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(md||(md={}));var hd;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(hd||(hd={}));var gd;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(gd||(gd={}));var yd;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(yd||(yd={}));var vd;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(vd||(vd={}));var Td;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Td||(Td={}));var Sd;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Sd||(Sd={}));var Ed;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(Ed||(Ed={}));var ci;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(ci||(ci={}));class Rr{constructor(t){const n={};for(const i of t.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Zi{get text(){var t,n,i,o,l,a,u,c;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const m=[];for(const p of(c=(u=(a=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[h,T]of Object.entries(p))h!=="text"&&h!=="thought"&&h!=="thoughtSignature"&&(T!==null||T!==void 0)&&m.push(h);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;d=!0,f+=p.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var t,n,i,o,l,a,u,c;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const m of(c=(u=(a=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[p,h]of Object.entries(m))p!=="inlineData"&&(h!==null||h!==void 0)&&d.push(p);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,i,o,l,a,u,c;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(a=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,i,o,l,a,u,c,f;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(u=(a=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,i,o,l,a,u,c,f;if(((o=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(u=(a=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class _d{}class Cd{}class xT{}class IT{}class DT{}class wT{}class Ad{}class Rd{}class Md{}class UT{}class ra{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new ra;let o;const l=t;return n?o=gT(l):o=hT(l),Object.assign(i,o),i}}class Nd{}class xd{}class Id{}class Dd{}class bT{}class LT{}class GT{}class Pu{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new Pu,l=CT(t);return Object.assign(i,l),i}}class HT{}class VT{}class qT{}class wd{}class zT{get text(){var t,n,i;let o="",l=!1;const a=[];for(const u of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&a.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;l=!0,o+=u.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?o:void 0}get data(){var t,n,i;let o="";const l=[];for(const a of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[u,c]of Object.entries(a))u!=="inlineData"&&c!==null&&l.push(u);a.inlineData&&typeof a.inlineData.data=="string"&&(o+=atob(a.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class PT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Bu{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new Bu,l=sg(t);return Object.assign(i,l),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function rg(e,t){const n=X(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function ug(e){return Array.isArray(e)?e.map(t=>ua(t)):[ua(e)]}function ua(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function cg(e){const t=ua(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function fg(e){const t=ua(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Ud(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function dg(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>Ud(t)):[Ud(e)]}function Mr(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function bd(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function Ld(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Ie(e){if(e==null)throw new Error("ContentUnion is required");return Mr(e)?e:{role:"user",parts:dg(e)}}function ku(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const i=Ie(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(e.isVertexAI()){const n=Ie(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Ie(n)):[Ie(t)]}function ut(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(bd(e)||Ld(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ie(e)]}const t=[],n=[],i=Mr(e[0]);for(const o of e){const l=Mr(o);if(l!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)t.push(o);else{if(bd(o)||Ld(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(o)}}return i||t.push({role:"user",parts:dg(n)}),t}function BT(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(i=>i!=="null");if(n.length===1)t.type=Object.values(Ue).includes(n[0].toUpperCase())?n[0].toUpperCase():Ue.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const i of n)t.anyOf.push({type:Object.values(Ue).includes(i.toUpperCase())?i.toUpperCase():Ue.TYPE_UNSPECIFIED})}}function Ti(e){const t={},n=["items"],i=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=e.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(t.nullable=!0,e=l[1]):l[1].type==="null"&&(t.nullable=!0,e=l[0])),e.type instanceof Array&&BT(e.type,t);for(const[a,u]of Object.entries(e))if(u!=null)if(a=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;t.type=Object.values(Ue).includes(u.toUpperCase())?u.toUpperCase():Ue.TYPE_UNSPECIFIED}else if(n.includes(a))t[a]=Ti(u);else if(i.includes(a)){const c=[];for(const f of u){if(f.type=="null"){t.nullable=!0;continue}c.push(Ti(f))}t[a]=c}else if(o.includes(a)){const c={};for(const[f,d]of Object.entries(u))c[f]=Ti(d);t[a]=c}else{if(a==="additionalProperties")continue;t[a]=u}return t}function Ou(e){return Ti(e)}function Fu(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Yu(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Pi(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Ti(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Ti(t.response));return e}function Bi(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function kT(e,t,n,i=1){const o=!t.startsWith(`${n}/`)&&t.split("/").length===i;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}function Yt(e,t){if(typeof t!="string")throw new Error("name must be a string");return kT(e,t,"cachedContents")}function pg(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function En(e){return zu(e)}function OT(e){return e!=null&&typeof e=="object"&&"name"in e}function FT(e){return e!=null&&typeof e=="object"&&"video"in e}function YT(e){return e!=null&&typeof e=="object"&&"uri"in e}function mg(e){var t;let n;if(OT(e)&&(n=e.name),!(YT(e)&&(n=e.uri,n===void 0))&&!(FT(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const o=n.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${n}`);n=o[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function hg(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function gg(e){for(const t of["models","tunedModels","publisherModels"])if(JT(e,t))return e[t];return[]}function JT(e,t){return e!==null&&typeof e=="object"&&t in e}function XT(e,t={}){const n=e,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),t.behavior&&(i.behavior=t.behavior),{functionDeclarations:[i]}}function KT(e,t={}){const n=[],i=new Set;for(const o of e){const l=o.name;if(i.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);i.add(l);const a=XT(o,t);a.functionDeclarations&&n.push(...a.functionDeclarations)}return{functionDeclarations:n}}function yg(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,o=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(o>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||o!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function QT(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function vg(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const o=n.inlinedResponses;if(!Array.isArray(o)||o.length===0)return e;let l=!1;for(const a of o){if(typeof a!="object"||a===null)continue;const c=a.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){l=!0;break}}return l&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function ki(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Tg(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZT(e){const t={},n=s(e,["responsesFile"]);n!=null&&r(t,["fileName"],n);const i=s(e,["inlinedResponses","inlinedResponses"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>DS(a))),r(t,["inlinedResponses"],l)}const o=s(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),r(t,["inlinedEmbedContentResponses"],l)}return t}function $T(e){const t={},n=s(e,["predictionsFormat"]);n!=null&&r(t,["format"],n);const i=s(e,["gcsDestination","outputUriPrefix"]);i!=null&&r(t,["gcsUri"],i);const o=s(e,["bigqueryDestination","outputUri"]);return o!=null&&r(t,["bigqueryUri"],o),t}function WT(e){const t={},n=s(e,["format"]);n!=null&&r(t,["predictionsFormat"],n);const i=s(e,["gcsUri"]);i!=null&&r(t,["gcsDestination","outputUriPrefix"],i);const o=s(e,["bigqueryUri"]);if(o!=null&&r(t,["bigqueryDestination","outputUri"],o),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function wl(e){const t={},n=s(e,["name"]);n!=null&&r(t,["name"],n);const i=s(e,["metadata","displayName"]);i!=null&&r(t,["displayName"],i);const o=s(e,["metadata","state"]);o!=null&&r(t,["state"],Tg(o));const l=s(e,["metadata","createTime"]);l!=null&&r(t,["createTime"],l);const a=s(e,["metadata","endTime"]);a!=null&&r(t,["endTime"],a);const u=s(e,["metadata","updateTime"]);u!=null&&r(t,["updateTime"],u);const c=s(e,["metadata","model"]);c!=null&&r(t,["model"],c);const f=s(e,["metadata","output"]);return f!=null&&r(t,["dest"],ZT(vg(f))),t}function Nr(e){const t={},n=s(e,["name"]);n!=null&&r(t,["name"],n);const i=s(e,["displayName"]);i!=null&&r(t,["displayName"],i);const o=s(e,["state"]);o!=null&&r(t,["state"],Tg(o));const l=s(e,["error"]);l!=null&&r(t,["error"],l);const a=s(e,["createTime"]);a!=null&&r(t,["createTime"],a);const u=s(e,["startTime"]);u!=null&&r(t,["startTime"],u);const c=s(e,["endTime"]);c!=null&&r(t,["endTime"],c);const f=s(e,["updateTime"]);f!=null&&r(t,["updateTime"],f);const d=s(e,["model"]);d!=null&&r(t,["model"],d);const m=s(e,["inputConfig"]);m!=null&&r(t,["src"],jT(m));const p=s(e,["outputConfig"]);p!=null&&r(t,["dest"],$T(vg(p)));const h=s(e,["completionStats"]);return h!=null&&r(t,["completionStats"],h),t}function jT(e){const t={},n=s(e,["instancesFormat"]);n!=null&&r(t,["format"],n);const i=s(e,["gcsSource","uris"]);i!=null&&r(t,["gcsUri"],i);const o=s(e,["bigquerySource","inputUri"]);return o!=null&&r(t,["bigqueryUri"],o),t}function eS(e,t){const n={};if(s(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=s(t,["fileName"]);i!=null&&r(n,["fileName"],i);const o=s(t,["inlinedRequests"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>IS(e,a))),r(n,["requests","requests"],l)}return n}function tS(e){const t={},n=s(e,["format"]);n!=null&&r(t,["instancesFormat"],n);const i=s(e,["gcsUri"]);i!=null&&r(t,["gcsSource","uris"],i);const o=s(e,["bigqueryUri"]);if(o!=null&&r(t,["bigquerySource","inputUri"],o),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function nS(e){const t={},n=s(e,["data"]);if(n!=null&&r(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(e,["mimeType"]);return i!=null&&r(t,["mimeType"],i),t}function iS(e,t){const n={},i=s(t,["name"]);return i!=null&&r(n,["_url","name"],ki(e,i)),n}function oS(e,t){const n={},i=s(t,["name"]);return i!=null&&r(n,["_url","name"],ki(e,i)),n}function lS(e){const t={},n=s(e,["content"]);n!=null&&r(t,["content"],n);const i=s(e,["citationMetadata"]);i!=null&&r(t,["citationMetadata"],aS(i));const o=s(e,["tokenCount"]);o!=null&&r(t,["tokenCount"],o);const l=s(e,["finishReason"]);l!=null&&r(t,["finishReason"],l);const a=s(e,["avgLogprobs"]);a!=null&&r(t,["avgLogprobs"],a);const u=s(e,["groundingMetadata"]);u!=null&&r(t,["groundingMetadata"],u);const c=s(e,["index"]);c!=null&&r(t,["index"],c);const f=s(e,["logprobsResult"]);f!=null&&r(t,["logprobsResult"],f);const d=s(e,["safetyRatings"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>h)),r(t,["safetyRatings"],p)}const m=s(e,["urlContextMetadata"]);return m!=null&&r(t,["urlContextMetadata"],m),t}function aS(e){const t={},n=s(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),r(t,["citations"],i)}return t}function Sg(e){const t={},n=s(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>VS(l))),r(t,["parts"],o)}const i=s(e,["role"]);return i!=null&&r(t,["role"],i),t}function sS(e,t){const n={},i=s(e,["displayName"]);if(t!==void 0&&i!=null&&r(t,["batch","displayName"],i),s(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function rS(e,t){const n={},i=s(e,["displayName"]);t!==void 0&&i!=null&&r(t,["displayName"],i);const o=s(e,["dest"]);return t!==void 0&&o!=null&&r(t,["outputConfig"],WT(QT(o))),n}function Gd(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["_url","model"],X(e,i));const o=s(t,["src"]);o!=null&&r(n,["batch","inputConfig"],eS(e,yg(e,o)));const l=s(t,["config"]);return l!=null&&sS(l,n),n}function uS(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["model"],X(e,i));const o=s(t,["src"]);o!=null&&r(n,["inputConfig"],tS(yg(e,o)));const l=s(t,["config"]);return l!=null&&rS(l,n),n}function cS(e,t){const n={},i=s(e,["displayName"]);return t!==void 0&&i!=null&&r(t,["batch","displayName"],i),n}function fS(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["_url","model"],X(e,i));const o=s(t,["src"]);o!=null&&r(n,["batch","inputConfig"],vS(e,o));const l=s(t,["config"]);return l!=null&&cS(l,n),n}function dS(e,t){const n={},i=s(t,["name"]);return i!=null&&r(n,["_url","name"],ki(e,i)),n}function pS(e,t){const n={},i=s(t,["name"]);return i!=null&&r(n,["_url","name"],ki(e,i)),n}function mS(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["name"]);i!=null&&r(t,["name"],i);const o=s(e,["done"]);o!=null&&r(t,["done"],o);const l=s(e,["error"]);return l!=null&&r(t,["error"],l),t}function hS(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["name"]);i!=null&&r(t,["name"],i);const o=s(e,["done"]);o!=null&&r(t,["done"],o);const l=s(e,["error"]);return l!=null&&r(t,["error"],l),t}function gS(e,t){const n={},i=s(t,["contents"]);if(i!=null){let l=ku(e,i);Array.isArray(l)&&(l=l.map(a=>a)),r(n,["requests[]","request","content"],l)}const o=s(t,["config"]);return o!=null&&(r(n,["_self"],yS(o,n)),pT(n,{"requests[].*":"requests[].request.*"})),n}function yS(e,t){const n={},i=s(e,["taskType"]);t!==void 0&&i!=null&&r(t,["requests[]","taskType"],i);const o=s(e,["title"]);t!==void 0&&o!=null&&r(t,["requests[]","title"],o);const l=s(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&r(t,["requests[]","outputDimensionality"],l),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function vS(e,t){const n={},i=s(t,["fileName"]);i!=null&&r(n,["file_name"],i);const o=s(t,["inlinedRequests"]);return o!=null&&r(n,["requests"],gS(e,o)),n}function TS(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&r(t,["fileUri"],n);const i=s(e,["mimeType"]);return i!=null&&r(t,["mimeType"],i),t}function SS(e){const t={},n=s(e,["id"]);n!=null&&r(t,["id"],n);const i=s(e,["args"]);i!=null&&r(t,["args"],i);const o=s(e,["name"]);if(o!=null&&r(t,["name"],o),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ES(e){const t={},n=s(e,["mode"]);n!=null&&r(t,["mode"],n);const i=s(e,["allowedFunctionNames"]);if(i!=null&&r(t,["allowedFunctionNames"],i),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function _S(e,t,n){const i={},o=s(t,["systemInstruction"]);n!==void 0&&o!=null&&r(n,["systemInstruction"],Sg(Ie(o)));const l=s(t,["temperature"]);l!=null&&r(i,["temperature"],l);const a=s(t,["topP"]);a!=null&&r(i,["topP"],a);const u=s(t,["topK"]);u!=null&&r(i,["topK"],u);const c=s(t,["candidateCount"]);c!=null&&r(i,["candidateCount"],c);const f=s(t,["maxOutputTokens"]);f!=null&&r(i,["maxOutputTokens"],f);const d=s(t,["stopSequences"]);d!=null&&r(i,["stopSequences"],d);const m=s(t,["responseLogprobs"]);m!=null&&r(i,["responseLogprobs"],m);const p=s(t,["logprobs"]);p!=null&&r(i,["logprobs"],p);const h=s(t,["presencePenalty"]);h!=null&&r(i,["presencePenalty"],h);const T=s(t,["frequencyPenalty"]);T!=null&&r(i,["frequencyPenalty"],T);const E=s(t,["seed"]);E!=null&&r(i,["seed"],E);const _=s(t,["responseMimeType"]);_!=null&&r(i,["responseMimeType"],_);const y=s(t,["responseSchema"]);y!=null&&r(i,["responseSchema"],Ou(y));const g=s(t,["responseJsonSchema"]);if(g!=null&&r(i,["responseJsonSchema"],g),s(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=s(t,["safetySettings"]);if(n!==void 0&&v!=null){let q=v;Array.isArray(q)&&(q=q.map(W=>qS(W))),r(n,["safetySettings"],q)}const S=s(t,["tools"]);if(n!==void 0&&S!=null){let q=Bi(S);Array.isArray(q)&&(q=q.map(W=>PS(Pi(W)))),r(n,["tools"],q)}const A=s(t,["toolConfig"]);if(n!==void 0&&A!=null&&r(n,["toolConfig"],zS(A)),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=s(t,["cachedContent"]);n!==void 0&&I!=null&&r(n,["cachedContent"],Yt(e,I));const M=s(t,["responseModalities"]);M!=null&&r(i,["responseModalities"],M);const D=s(t,["mediaResolution"]);D!=null&&r(i,["mediaResolution"],D);const x=s(t,["speechConfig"]);if(x!=null&&r(i,["speechConfig"],Fu(x)),s(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=s(t,["thinkingConfig"]);N!=null&&r(i,["thinkingConfig"],N);const b=s(t,["imageConfig"]);b!=null&&r(i,["imageConfig"],xS(b));const J=s(t,["enableEnhancedCivicAnswers"]);return J!=null&&r(i,["enableEnhancedCivicAnswers"],J),i}function CS(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>lS(f))),r(t,["candidates"],c)}const o=s(e,["modelVersion"]);o!=null&&r(t,["modelVersion"],o);const l=s(e,["promptFeedback"]);l!=null&&r(t,["promptFeedback"],l);const a=s(e,["responseId"]);a!=null&&r(t,["responseId"],a);const u=s(e,["usageMetadata"]);return u!=null&&r(t,["usageMetadata"],u),t}function AS(e,t){const n={},i=s(t,["name"]);return i!=null&&r(n,["_url","name"],ki(e,i)),n}function RS(e,t){const n={},i=s(t,["name"]);return i!=null&&r(n,["_url","name"],ki(e,i)),n}function MS(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&r(t,["enableWidget"],n),t}function NS(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&r(t,["timeRangeFilter"],n),t}function xS(e){const t={},n=s(e,["aspectRatio"]);n!=null&&r(t,["aspectRatio"],n);const i=s(e,["imageSize"]);if(i!=null&&r(t,["imageSize"],i),s(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function IS(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["request","model"],X(e,i));const o=s(t,["contents"]);if(o!=null){let u=ut(o);Array.isArray(u)&&(u=u.map(c=>Sg(c))),r(n,["request","contents"],u)}const l=s(t,["metadata"]);l!=null&&r(n,["metadata"],l);const a=s(t,["config"]);return a!=null&&r(n,["request","generationConfig"],_S(e,a,s(n,["request"],{}))),n}function DS(e){const t={},n=s(e,["response"]);n!=null&&r(t,["response"],CS(n));const i=s(e,["error"]);return i!=null&&r(t,["error"],i),t}function wS(e,t){const n={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&r(t,["_query","pageSize"],i);const o=s(e,["pageToken"]);if(t!==void 0&&o!=null&&r(t,["_query","pageToken"],o),s(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function US(e,t){const n={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&r(t,["_query","pageSize"],i);const o=s(e,["pageToken"]);t!==void 0&&o!=null&&r(t,["_query","pageToken"],o);const l=s(e,["filter"]);return t!==void 0&&l!=null&&r(t,["_query","filter"],l),n}function bS(e){const t={},n=s(e,["config"]);return n!=null&&wS(n,t),t}function LS(e){const t={},n=s(e,["config"]);return n!=null&&US(n,t),t}function GS(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const o=s(e,["operations"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>wl(a))),r(t,["batchJobs"],l)}return t}function HS(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const o=s(e,["batchPredictionJobs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>Nr(a))),r(t,["batchJobs"],l)}return t}function VS(e){const t={},n=s(e,["mediaResolution"]);n!=null&&r(t,["mediaResolution"],n);const i=s(e,["codeExecutionResult"]);i!=null&&r(t,["codeExecutionResult"],i);const o=s(e,["executableCode"]);o!=null&&r(t,["executableCode"],o);const l=s(e,["fileData"]);l!=null&&r(t,["fileData"],TS(l));const a=s(e,["functionCall"]);a!=null&&r(t,["functionCall"],SS(a));const u=s(e,["functionResponse"]);u!=null&&r(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&r(t,["inlineData"],nS(c));const f=s(e,["text"]);f!=null&&r(t,["text"],f);const d=s(e,["thought"]);d!=null&&r(t,["thought"],d);const m=s(e,["thoughtSignature"]);m!=null&&r(t,["thoughtSignature"],m);const p=s(e,["videoMetadata"]);return p!=null&&r(t,["videoMetadata"],p),t}function qS(e){const t={},n=s(e,["category"]);if(n!=null&&r(t,["category"],n),s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=s(e,["threshold"]);return i!=null&&r(t,["threshold"],i),t}function zS(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&r(t,["functionCallingConfig"],ES(n));const i=s(e,["retrievalConfig"]);return i!=null&&r(t,["retrievalConfig"],i),t}function PS(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),r(t,["functionDeclarations"],d)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearchRetrieval"]);i!=null&&r(t,["googleSearchRetrieval"],i);const o=s(e,["computerUse"]);o!=null&&r(t,["computerUse"],o);const l=s(e,["fileSearch"]);l!=null&&r(t,["fileSearch"],l);const a=s(e,["codeExecution"]);if(a!=null&&r(t,["codeExecution"],a),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&r(t,["googleMaps"],MS(u));const c=s(e,["googleSearch"]);c!=null&&r(t,["googleSearch"],NS(c));const f=s(e,["urlContext"]);return f!=null&&r(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var kt;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(kt||(kt={}));class Fn{constructor(t,n,i,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,i,o)}init(t,n,i){var o,l;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!i||Object.keys(i).length===0?a={config:{}}:typeof i=="object"?a=Object.assign({},i):a=i,a.config&&(a.config.pageToken=n.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(l=(o=a.config)===null||o===void 0?void 0:o.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BS extends Ft{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Fn(kt.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=Gd(this.apiClient,t),i=n._url,o=U("{model}:batchGenerateContent",i),u=n.batch.inputConfig.requests,c=u.requests,f=[];for(const d of c){const m=Object.assign({},d);if(m.systemInstruction){const p=m.systemInstruction;delete m.systemInstruction;const h=m.request;h.systemInstruction=p,m.request=h}f.push(m)}return u.requests=f,delete n.config,delete n._url,delete n._query,{path:o,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const i=n?Object.assign({},n):{},o=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${o}`),i.dest===void 0){const l=this.getGcsUri(t),a=this.getBigqueryUri(t);if(l)l.endsWith(".jsonl")?i.dest=`${l.slice(0,-6)}/dest`:i.dest=`${l}_dest_${o}`;else if(a)i.dest=`${a}_dest_${o}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(t){var n,i,o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=uS(this.apiClient,t);return u=U("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>Nr(d))}else{const f=Gd(this.apiClient,t);return u=U("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),a.then(d=>wl(d))}}async createEmbeddingsInternal(t){var n,i;let o,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=fS(this.apiClient,t);return l=U("{model}:asyncBatchEmbedContent",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>wl(c))}}async get(t){var n,i,o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=RS(this.apiClient,t);return u=U("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>Nr(d))}else{const f=AS(this.apiClient,t);return u=U("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),a.then(d=>wl(d))}}async cancel(t){var n,i,o,l;let a="",u={};if(this.apiClient.isVertexAI()){const c=oS(this.apiClient,t);a=U("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}else{const c=iS(this.apiClient,t);a=U("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(t){var n,i,o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=LS(t);return u=U("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=HS(d),p=new wd;return Object.assign(p,m),p})}else{const f=bS(t);return u=U("batches",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=GS(d),p=new wd;return Object.assign(p,m),p})}}async delete(t){var n,i,o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=pS(this.apiClient,t);return u=U("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>hS(d))}else{const f=dS(this.apiClient,t);return u=U("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>mS(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kS(e){const t={},n=s(e,["data"]);if(n!=null&&r(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(e,["mimeType"]);return i!=null&&r(t,["mimeType"],i),t}function Hd(e){const t={},n=s(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>fE(l))),r(t,["parts"],o)}const i=s(e,["role"]);return i!=null&&r(t,["role"],i),t}function OS(e,t){const n={},i=s(e,["ttl"]);t!==void 0&&i!=null&&r(t,["ttl"],i);const o=s(e,["expireTime"]);t!==void 0&&o!=null&&r(t,["expireTime"],o);const l=s(e,["displayName"]);t!==void 0&&l!=null&&r(t,["displayName"],l);const a=s(e,["contents"]);if(t!==void 0&&a!=null){let d=ut(a);Array.isArray(d)&&(d=d.map(m=>Hd(m))),r(t,["contents"],d)}const u=s(e,["systemInstruction"]);t!==void 0&&u!=null&&r(t,["systemInstruction"],Hd(Ie(u)));const c=s(e,["tools"]);if(t!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>pE(m))),r(t,["tools"],d)}const f=s(e,["toolConfig"]);if(t!==void 0&&f!=null&&r(t,["toolConfig"],dE(f)),s(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function FS(e,t){const n={},i=s(e,["ttl"]);t!==void 0&&i!=null&&r(t,["ttl"],i);const o=s(e,["expireTime"]);t!==void 0&&o!=null&&r(t,["expireTime"],o);const l=s(e,["displayName"]);t!==void 0&&l!=null&&r(t,["displayName"],l);const a=s(e,["contents"]);if(t!==void 0&&a!=null){let m=ut(a);Array.isArray(m)&&(m=m.map(p=>p)),r(t,["contents"],m)}const u=s(e,["systemInstruction"]);t!==void 0&&u!=null&&r(t,["systemInstruction"],Ie(u));const c=s(e,["tools"]);if(t!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(p=>mE(p))),r(t,["tools"],m)}const f=s(e,["toolConfig"]);t!==void 0&&f!=null&&r(t,["toolConfig"],f);const d=s(e,["kmsKeyName"]);return t!==void 0&&d!=null&&r(t,["encryption_spec","kmsKeyName"],d),n}function YS(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["model"],rg(e,i));const o=s(t,["config"]);return o!=null&&OS(o,n),n}function JS(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["model"],rg(e,i));const o=s(t,["config"]);return o!=null&&FS(o,n),n}function XS(e,t){const n={},i=s(t,["name"]);return i!=null&&r(n,["_url","name"],Yt(e,i)),n}function KS(e,t){const n={},i=s(t,["name"]);return i!=null&&r(n,["_url","name"],Yt(e,i)),n}function QS(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&r(t,["sdkHttpResponse"],n),t}function ZS(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&r(t,["sdkHttpResponse"],n),t}function $S(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&r(t,["fileUri"],n);const i=s(e,["mimeType"]);return i!=null&&r(t,["mimeType"],i),t}function WS(e){const t={},n=s(e,["id"]);n!=null&&r(t,["id"],n);const i=s(e,["args"]);i!=null&&r(t,["args"],i);const o=s(e,["name"]);if(o!=null&&r(t,["name"],o),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function jS(e){const t={},n=s(e,["mode"]);n!=null&&r(t,["mode"],n);const i=s(e,["allowedFunctionNames"]);if(i!=null&&r(t,["allowedFunctionNames"],i),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function eE(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&r(t,["description"],n);const i=s(e,["name"]);i!=null&&r(t,["name"],i);const o=s(e,["parameters"]);o!=null&&r(t,["parameters"],o);const l=s(e,["parametersJsonSchema"]);l!=null&&r(t,["parametersJsonSchema"],l);const a=s(e,["response"]);a!=null&&r(t,["response"],a);const u=s(e,["responseJsonSchema"]);return u!=null&&r(t,["responseJsonSchema"],u),t}function tE(e,t){const n={},i=s(t,["name"]);return i!=null&&r(n,["_url","name"],Yt(e,i)),n}function nE(e,t){const n={},i=s(t,["name"]);return i!=null&&r(n,["_url","name"],Yt(e,i)),n}function iE(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&r(t,["enableWidget"],n),t}function oE(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&r(t,["timeRangeFilter"],n),t}function lE(e,t){const n={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&r(t,["_query","pageSize"],i);const o=s(e,["pageToken"]);return t!==void 0&&o!=null&&r(t,["_query","pageToken"],o),n}function aE(e,t){const n={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&r(t,["_query","pageSize"],i);const o=s(e,["pageToken"]);return t!==void 0&&o!=null&&r(t,["_query","pageToken"],o),n}function sE(e){const t={},n=s(e,["config"]);return n!=null&&lE(n,t),t}function rE(e){const t={},n=s(e,["config"]);return n!=null&&aE(n,t),t}function uE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const o=s(e,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),r(t,["cachedContents"],l)}return t}function cE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const o=s(e,["cachedContents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),r(t,["cachedContents"],l)}return t}function fE(e){const t={},n=s(e,["mediaResolution"]);n!=null&&r(t,["mediaResolution"],n);const i=s(e,["codeExecutionResult"]);i!=null&&r(t,["codeExecutionResult"],i);const o=s(e,["executableCode"]);o!=null&&r(t,["executableCode"],o);const l=s(e,["fileData"]);l!=null&&r(t,["fileData"],$S(l));const a=s(e,["functionCall"]);a!=null&&r(t,["functionCall"],WS(a));const u=s(e,["functionResponse"]);u!=null&&r(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&r(t,["inlineData"],kS(c));const f=s(e,["text"]);f!=null&&r(t,["text"],f);const d=s(e,["thought"]);d!=null&&r(t,["thought"],d);const m=s(e,["thoughtSignature"]);m!=null&&r(t,["thoughtSignature"],m);const p=s(e,["videoMetadata"]);return p!=null&&r(t,["videoMetadata"],p),t}function dE(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&r(t,["functionCallingConfig"],jS(n));const i=s(e,["retrievalConfig"]);return i!=null&&r(t,["retrievalConfig"],i),t}function pE(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),r(t,["functionDeclarations"],d)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearchRetrieval"]);i!=null&&r(t,["googleSearchRetrieval"],i);const o=s(e,["computerUse"]);o!=null&&r(t,["computerUse"],o);const l=s(e,["fileSearch"]);l!=null&&r(t,["fileSearch"],l);const a=s(e,["codeExecution"]);if(a!=null&&r(t,["codeExecution"],a),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&r(t,["googleMaps"],iE(u));const c=s(e,["googleSearch"]);c!=null&&r(t,["googleSearch"],oE(c));const f=s(e,["urlContext"]);return f!=null&&r(t,["urlContext"],f),t}function mE(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>eE(p))),r(t,["functionDeclarations"],m)}const i=s(e,["retrieval"]);i!=null&&r(t,["retrieval"],i);const o=s(e,["googleSearchRetrieval"]);o!=null&&r(t,["googleSearchRetrieval"],o);const l=s(e,["computerUse"]);if(l!=null&&r(t,["computerUse"],l),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=s(e,["codeExecution"]);a!=null&&r(t,["codeExecution"],a);const u=s(e,["enterpriseWebSearch"]);u!=null&&r(t,["enterpriseWebSearch"],u);const c=s(e,["googleMaps"]);c!=null&&r(t,["googleMaps"],c);const f=s(e,["googleSearch"]);f!=null&&r(t,["googleSearch"],f);const d=s(e,["urlContext"]);return d!=null&&r(t,["urlContext"],d),t}function hE(e,t){const n={},i=s(e,["ttl"]);t!==void 0&&i!=null&&r(t,["ttl"],i);const o=s(e,["expireTime"]);return t!==void 0&&o!=null&&r(t,["expireTime"],o),n}function gE(e,t){const n={},i=s(e,["ttl"]);t!==void 0&&i!=null&&r(t,["ttl"],i);const o=s(e,["expireTime"]);return t!==void 0&&o!=null&&r(t,["expireTime"],o),n}function yE(e,t){const n={},i=s(t,["name"]);i!=null&&r(n,["_url","name"],Yt(e,i));const o=s(t,["config"]);return o!=null&&hE(o,n),n}function vE(e,t){const n={},i=s(t,["name"]);i!=null&&r(n,["_url","name"],Yt(e,i));const o=s(t,["config"]);return o!=null&&gE(o,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TE extends Ft{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Fn(kt.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(t){var n,i,o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=JS(this.apiClient,t);return u=U("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const f=YS(this.apiClient,t);return u=U("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async get(t){var n,i,o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=nE(this.apiClient,t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const f=tE(this.apiClient,t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async delete(t){var n,i,o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=KS(this.apiClient,t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=ZS(d),p=new Id;return Object.assign(p,m),p})}else{const f=XS(this.apiClient,t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=QS(d),p=new Id;return Object.assign(p,m),p})}}async update(t){var n,i,o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=vE(this.apiClient,t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>d)}else{const f=yE(this.apiClient,t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),a.then(d=>d)}}async listInternal(t){var n,i,o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=rE(t);return u=U("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=cE(d),p=new Dd;return Object.assign(p,m),p})}else{const f=sE(t);return u=U("cachedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=uE(d),p=new Dd;return Object.assign(p,m),p})}}}function ca(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n}function Vd(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function G(e){return this instanceof G?(this.v=e,this):new G(e)}function mt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),o,l=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(h){return function(T){return Promise.resolve(T).then(h,m)}}function u(h,T){i[h]&&(o[h]=function(E){return new Promise(function(_,y){l.push([h,E,_,y])>1||c(h,E)})},T&&(o[h]=T(o[h])))}function c(h,T){try{f(i[h](T))}catch(E){p(l[0][3],E)}}function f(h){h.value instanceof G?Promise.resolve(h.value.v).then(d,m):p(l[0][2],h)}function d(h){c("next",h)}function m(h){c("throw",h)}function p(h,T){h(T),l.shift(),l.length&&c(l[0][0],l[0][1])}}function ht(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Vd=="function"?Vd(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=e[l]&&function(a){return new Promise(function(u,c){a=e[l](a),o(u,c,a.done,a.value)})}}function o(l,a,u,c){Promise.resolve(c).then(function(f){l({value:f,done:u})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SE(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:Eg(n)}function Eg(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function EE(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function qd(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let i=0;for(;i<n;)if(e[i].role==="user")t.push(e[i]),i++;else{const o=[];let l=!0;for(;i<n&&e[i].role==="model";)o.push(e[i]),l&&!Eg(e[i])&&(l=!1),i++;l?t.push(...o):t.pop()}return t}class _E{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new CE(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class CE{constructor(t,n,i,o={},l=[]){this.apiClient=t,this.modelsModule=n,this.model=i,this.config=o,this.history=l,this.sendPromise=Promise.resolve(),EE(l)}async sendMessage(t){var n;await this.sendPromise;const i=Ie(t.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var l,a,u;const c=await o,f=(a=(l=c.candidates)===null||l===void 0?void 0:l[0])===null||a===void 0?void 0:a.content,d=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let p=[];d!=null&&(p=(u=d.slice(m))!==null&&u!==void 0?u:[]);const h=f?[f]:[];this.recordHistory(i,h,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(t){var n;await this.sendPromise;const i=Ie(t.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const l=await o;return this.processStreamResponse(l,i)}getHistory(t=!1){const n=t?qd(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return mt(this,arguments,function*(){var o,l,a,u,c,f;const d=[];try{for(var m=!0,p=ht(t),h;h=yield G(p.next()),o=h.done,!o;m=!0){u=h.value,m=!1;const T=u;if(SE(T)){const E=(f=(c=T.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;E!==void 0&&d.push(E)}yield yield G(T)}}catch(T){l={error:T}}finally{try{!m&&!o&&(a=p.return)&&(yield G(a.call(p)))}finally{if(l)throw l.error}}this.recordHistory(n,d)})}recordHistory(t,n,i){let o=[];n.length>0&&n.every(l=>l.role!==void 0)?o=n:o.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...qd(i)):this.history.push(t),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ua extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ua.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AE(e){const t={},n=s(e,["file"]);return n!=null&&r(t,["file"],n),t}function RE(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&r(t,["sdkHttpResponse"],n),t}function ME(e){const t={},n=s(e,["name"]);return n!=null&&r(t,["_url","file"],mg(n)),t}function NE(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&r(t,["sdkHttpResponse"],n),t}function xE(e){const t={},n=s(e,["name"]);return n!=null&&r(t,["_url","file"],mg(n)),t}function IE(e,t){const n={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&r(t,["_query","pageSize"],i);const o=s(e,["pageToken"]);return t!==void 0&&o!=null&&r(t,["_query","pageToken"],o),n}function DE(e){const t={},n=s(e,["config"]);return n!=null&&IE(n,t),t}function wE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const o=s(e,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),r(t,["files"],l)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UE extends Ft{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Fn(kt.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,i;let o,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=DE(t);return l=U("files",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=wE(c),d=new HT;return Object.assign(d,f),d})}}async createInternal(t){var n,i;let o,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=AE(t);return l=U("upload/v1beta/files",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=RE(c),d=new VT;return Object.assign(d,f),d})}}async get(t){var n,i;let o,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=xE(t);return l=U("files/{file}",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(t){var n,i;let o,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ME(t);return l=U("files/{file}",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=NE(c),d=new qT;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ul(e){const t={},n=s(e,["data"]);if(n!=null&&r(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(e,["mimeType"]);return i!=null&&r(t,["mimeType"],i),t}function bE(e){const t={},n=s(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>QE(l))),r(t,["parts"],o)}const i=s(e,["role"]);return i!=null&&r(t,["role"],i),t}function LE(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&r(t,["fileUri"],n);const i=s(e,["mimeType"]);return i!=null&&r(t,["mimeType"],i),t}function GE(e){const t={},n=s(e,["id"]);n!=null&&r(t,["id"],n);const i=s(e,["args"]);i!=null&&r(t,["args"],i);const o=s(e,["name"]);if(o!=null&&r(t,["name"],o),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function HE(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&r(t,["description"],n);const i=s(e,["name"]);i!=null&&r(t,["name"],i);const o=s(e,["parameters"]);o!=null&&r(t,["parameters"],o);const l=s(e,["parametersJsonSchema"]);l!=null&&r(t,["parametersJsonSchema"],l);const a=s(e,["response"]);a!=null&&r(t,["response"],a);const u=s(e,["responseJsonSchema"]);return u!=null&&r(t,["responseJsonSchema"],u),t}function VE(e){const t={},n=s(e,["modelSelectionConfig"]);n!=null&&r(t,["modelConfig"],n);const i=s(e,["responseJsonSchema"]);i!=null&&r(t,["responseJsonSchema"],i);const o=s(e,["audioTimestamp"]);o!=null&&r(t,["audioTimestamp"],o);const l=s(e,["candidateCount"]);l!=null&&r(t,["candidateCount"],l);const a=s(e,["enableAffectiveDialog"]);a!=null&&r(t,["enableAffectiveDialog"],a);const u=s(e,["frequencyPenalty"]);u!=null&&r(t,["frequencyPenalty"],u);const c=s(e,["logprobs"]);c!=null&&r(t,["logprobs"],c);const f=s(e,["maxOutputTokens"]);f!=null&&r(t,["maxOutputTokens"],f);const d=s(e,["mediaResolution"]);d!=null&&r(t,["mediaResolution"],d);const m=s(e,["presencePenalty"]);m!=null&&r(t,["presencePenalty"],m);const p=s(e,["responseLogprobs"]);p!=null&&r(t,["responseLogprobs"],p);const h=s(e,["responseMimeType"]);h!=null&&r(t,["responseMimeType"],h);const T=s(e,["responseModalities"]);T!=null&&r(t,["responseModalities"],T);const E=s(e,["responseSchema"]);E!=null&&r(t,["responseSchema"],E);const _=s(e,["routingConfig"]);_!=null&&r(t,["routingConfig"],_);const y=s(e,["seed"]);y!=null&&r(t,["seed"],y);const g=s(e,["speechConfig"]);g!=null&&r(t,["speechConfig"],_g(g));const v=s(e,["stopSequences"]);v!=null&&r(t,["stopSequences"],v);const S=s(e,["temperature"]);S!=null&&r(t,["temperature"],S);const A=s(e,["thinkingConfig"]);A!=null&&r(t,["thinkingConfig"],A);const I=s(e,["topK"]);I!=null&&r(t,["topK"],I);const M=s(e,["topP"]);if(M!=null&&r(t,["topP"],M),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function qE(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&r(t,["enableWidget"],n),t}function zE(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&r(t,["timeRangeFilter"],n),t}function PE(e,t){const n={},i=s(e,["generationConfig"]);t!==void 0&&i!=null&&r(t,["setup","generationConfig"],i);const o=s(e,["responseModalities"]);t!==void 0&&o!=null&&r(t,["setup","generationConfig","responseModalities"],o);const l=s(e,["temperature"]);t!==void 0&&l!=null&&r(t,["setup","generationConfig","temperature"],l);const a=s(e,["topP"]);t!==void 0&&a!=null&&r(t,["setup","generationConfig","topP"],a);const u=s(e,["topK"]);t!==void 0&&u!=null&&r(t,["setup","generationConfig","topK"],u);const c=s(e,["maxOutputTokens"]);t!==void 0&&c!=null&&r(t,["setup","generationConfig","maxOutputTokens"],c);const f=s(e,["mediaResolution"]);t!==void 0&&f!=null&&r(t,["setup","generationConfig","mediaResolution"],f);const d=s(e,["seed"]);t!==void 0&&d!=null&&r(t,["setup","generationConfig","seed"],d);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&r(t,["setup","generationConfig","speechConfig"],Yu(m));const p=s(e,["thinkingConfig"]);t!==void 0&&p!=null&&r(t,["setup","generationConfig","thinkingConfig"],p);const h=s(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&r(t,["setup","generationConfig","enableAffectiveDialog"],h);const T=s(e,["systemInstruction"]);t!==void 0&&T!=null&&r(t,["setup","systemInstruction"],bE(Ie(T)));const E=s(e,["tools"]);if(t!==void 0&&E!=null){let I=Bi(E);Array.isArray(I)&&(I=I.map(M=>$E(Pi(M)))),r(t,["setup","tools"],I)}const _=s(e,["sessionResumption"]);t!==void 0&&_!=null&&r(t,["setup","sessionResumption"],ZE(_));const y=s(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&r(t,["setup","inputAudioTranscription"],y);const g=s(e,["outputAudioTranscription"]);t!==void 0&&g!=null&&r(t,["setup","outputAudioTranscription"],g);const v=s(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&r(t,["setup","realtimeInputConfig"],v);const S=s(e,["contextWindowCompression"]);t!==void 0&&S!=null&&r(t,["setup","contextWindowCompression"],S);const A=s(e,["proactivity"]);if(t!==void 0&&A!=null&&r(t,["setup","proactivity"],A),s(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function BE(e,t){const n={},i=s(e,["generationConfig"]);t!==void 0&&i!=null&&r(t,["setup","generationConfig"],VE(i));const o=s(e,["responseModalities"]);t!==void 0&&o!=null&&r(t,["setup","generationConfig","responseModalities"],o);const l=s(e,["temperature"]);t!==void 0&&l!=null&&r(t,["setup","generationConfig","temperature"],l);const a=s(e,["topP"]);t!==void 0&&a!=null&&r(t,["setup","generationConfig","topP"],a);const u=s(e,["topK"]);t!==void 0&&u!=null&&r(t,["setup","generationConfig","topK"],u);const c=s(e,["maxOutputTokens"]);t!==void 0&&c!=null&&r(t,["setup","generationConfig","maxOutputTokens"],c);const f=s(e,["mediaResolution"]);t!==void 0&&f!=null&&r(t,["setup","generationConfig","mediaResolution"],f);const d=s(e,["seed"]);t!==void 0&&d!=null&&r(t,["setup","generationConfig","seed"],d);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&r(t,["setup","generationConfig","speechConfig"],_g(Yu(m)));const p=s(e,["thinkingConfig"]);t!==void 0&&p!=null&&r(t,["setup","generationConfig","thinkingConfig"],p);const h=s(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&r(t,["setup","generationConfig","enableAffectiveDialog"],h);const T=s(e,["systemInstruction"]);t!==void 0&&T!=null&&r(t,["setup","systemInstruction"],Ie(T));const E=s(e,["tools"]);if(t!==void 0&&E!=null){let M=Bi(E);Array.isArray(M)&&(M=M.map(D=>WE(Pi(D)))),r(t,["setup","tools"],M)}const _=s(e,["sessionResumption"]);t!==void 0&&_!=null&&r(t,["setup","sessionResumption"],_);const y=s(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&r(t,["setup","inputAudioTranscription"],y);const g=s(e,["outputAudioTranscription"]);t!==void 0&&g!=null&&r(t,["setup","outputAudioTranscription"],g);const v=s(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&r(t,["setup","realtimeInputConfig"],v);const S=s(e,["contextWindowCompression"]);t!==void 0&&S!=null&&r(t,["setup","contextWindowCompression"],S);const A=s(e,["proactivity"]);t!==void 0&&A!=null&&r(t,["setup","proactivity"],A);const I=s(e,["explicitVadSignal"]);return t!==void 0&&I!=null&&r(t,["setup","explicitVadSignal"],I),n}function kE(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["setup","model"],X(e,i));const o=s(t,["config"]);return o!=null&&r(n,["config"],PE(o,n)),n}function OE(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["setup","model"],X(e,i));const o=s(t,["config"]);return o!=null&&r(n,["config"],BE(o,n)),n}function FE(e){const t={},n=s(e,["musicGenerationConfig"]);return n!=null&&r(t,["musicGenerationConfig"],n),t}function YE(e){const t={},n=s(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),r(t,["weightedPrompts"],i)}return t}function JE(e){const t={},n=s(e,["media"]);if(n!=null){let f=ug(n);Array.isArray(f)&&(f=f.map(d=>Ul(d))),r(t,["mediaChunks"],f)}const i=s(e,["audio"]);i!=null&&r(t,["audio"],Ul(fg(i)));const o=s(e,["audioStreamEnd"]);o!=null&&r(t,["audioStreamEnd"],o);const l=s(e,["video"]);l!=null&&r(t,["video"],Ul(cg(l)));const a=s(e,["text"]);a!=null&&r(t,["text"],a);const u=s(e,["activityStart"]);u!=null&&r(t,["activityStart"],u);const c=s(e,["activityEnd"]);return c!=null&&r(t,["activityEnd"],c),t}function XE(e){const t={},n=s(e,["media"]);if(n!=null){let f=ug(n);Array.isArray(f)&&(f=f.map(d=>d)),r(t,["mediaChunks"],f)}const i=s(e,["audio"]);i!=null&&r(t,["audio"],fg(i));const o=s(e,["audioStreamEnd"]);o!=null&&r(t,["audioStreamEnd"],o);const l=s(e,["video"]);l!=null&&r(t,["video"],cg(l));const a=s(e,["text"]);a!=null&&r(t,["text"],a);const u=s(e,["activityStart"]);u!=null&&r(t,["activityStart"],u);const c=s(e,["activityEnd"]);return c!=null&&r(t,["activityEnd"],c),t}function KE(e){const t={},n=s(e,["setupComplete"]);n!=null&&r(t,["setupComplete"],n);const i=s(e,["serverContent"]);i!=null&&r(t,["serverContent"],i);const o=s(e,["toolCall"]);o!=null&&r(t,["toolCall"],o);const l=s(e,["toolCallCancellation"]);l!=null&&r(t,["toolCallCancellation"],l);const a=s(e,["usageMetadata"]);a!=null&&r(t,["usageMetadata"],jE(a));const u=s(e,["goAway"]);u!=null&&r(t,["goAway"],u);const c=s(e,["sessionResumptionUpdate"]);c!=null&&r(t,["sessionResumptionUpdate"],c);const f=s(e,["voiceActivityDetectionSignal"]);return f!=null&&r(t,["voiceActivityDetectionSignal"],f),t}function QE(e){const t={},n=s(e,["mediaResolution"]);n!=null&&r(t,["mediaResolution"],n);const i=s(e,["codeExecutionResult"]);i!=null&&r(t,["codeExecutionResult"],i);const o=s(e,["executableCode"]);o!=null&&r(t,["executableCode"],o);const l=s(e,["fileData"]);l!=null&&r(t,["fileData"],LE(l));const a=s(e,["functionCall"]);a!=null&&r(t,["functionCall"],GE(a));const u=s(e,["functionResponse"]);u!=null&&r(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&r(t,["inlineData"],Ul(c));const f=s(e,["text"]);f!=null&&r(t,["text"],f);const d=s(e,["thought"]);d!=null&&r(t,["thought"],d);const m=s(e,["thoughtSignature"]);m!=null&&r(t,["thoughtSignature"],m);const p=s(e,["videoMetadata"]);return p!=null&&r(t,["videoMetadata"],p),t}function ZE(e){const t={},n=s(e,["handle"]);if(n!=null&&r(t,["handle"],n),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function _g(e){const t={},n=s(e,["voiceConfig"]);n!=null&&r(t,["voiceConfig"],n);const i=s(e,["languageCode"]);if(i!=null&&r(t,["languageCode"],i),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function $E(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),r(t,["functionDeclarations"],d)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearchRetrieval"]);i!=null&&r(t,["googleSearchRetrieval"],i);const o=s(e,["computerUse"]);o!=null&&r(t,["computerUse"],o);const l=s(e,["fileSearch"]);l!=null&&r(t,["fileSearch"],l);const a=s(e,["codeExecution"]);if(a!=null&&r(t,["codeExecution"],a),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&r(t,["googleMaps"],qE(u));const c=s(e,["googleSearch"]);c!=null&&r(t,["googleSearch"],zE(c));const f=s(e,["urlContext"]);return f!=null&&r(t,["urlContext"],f),t}function WE(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>HE(p))),r(t,["functionDeclarations"],m)}const i=s(e,["retrieval"]);i!=null&&r(t,["retrieval"],i);const o=s(e,["googleSearchRetrieval"]);o!=null&&r(t,["googleSearchRetrieval"],o);const l=s(e,["computerUse"]);if(l!=null&&r(t,["computerUse"],l),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=s(e,["codeExecution"]);a!=null&&r(t,["codeExecution"],a);const u=s(e,["enterpriseWebSearch"]);u!=null&&r(t,["enterpriseWebSearch"],u);const c=s(e,["googleMaps"]);c!=null&&r(t,["googleMaps"],c);const f=s(e,["googleSearch"]);f!=null&&r(t,["googleSearch"],f);const d=s(e,["urlContext"]);return d!=null&&r(t,["urlContext"],d),t}function jE(e){const t={},n=s(e,["promptTokenCount"]);n!=null&&r(t,["promptTokenCount"],n);const i=s(e,["cachedContentTokenCount"]);i!=null&&r(t,["cachedContentTokenCount"],i);const o=s(e,["candidatesTokenCount"]);o!=null&&r(t,["responseTokenCount"],o);const l=s(e,["toolUsePromptTokenCount"]);l!=null&&r(t,["toolUsePromptTokenCount"],l);const a=s(e,["thoughtsTokenCount"]);a!=null&&r(t,["thoughtsTokenCount"],a);const u=s(e,["totalTokenCount"]);u!=null&&r(t,["totalTokenCount"],u);const c=s(e,["promptTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(T=>T)),r(t,["promptTokensDetails"],h)}const f=s(e,["cacheTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(T=>T)),r(t,["cacheTokensDetails"],h)}const d=s(e,["candidatesTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(T=>T)),r(t,["responseTokensDetails"],h)}const m=s(e,["toolUsePromptTokensDetails"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(T=>T)),r(t,["toolUsePromptTokensDetails"],h)}const p=s(e,["trafficType"]);return p!=null&&r(t,["trafficType"],p),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function e_(e){const t={},n=s(e,["data"]);if(n!=null&&r(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(e,["mimeType"]);return i!=null&&r(t,["mimeType"],i),t}function t_(e){const t={},n=s(e,["content"]);n!=null&&r(t,["content"],n);const i=s(e,["citationMetadata"]);i!=null&&r(t,["citationMetadata"],n_(i));const o=s(e,["tokenCount"]);o!=null&&r(t,["tokenCount"],o);const l=s(e,["finishReason"]);l!=null&&r(t,["finishReason"],l);const a=s(e,["avgLogprobs"]);a!=null&&r(t,["avgLogprobs"],a);const u=s(e,["groundingMetadata"]);u!=null&&r(t,["groundingMetadata"],u);const c=s(e,["index"]);c!=null&&r(t,["index"],c);const f=s(e,["logprobsResult"]);f!=null&&r(t,["logprobsResult"],f);const d=s(e,["safetyRatings"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>h)),r(t,["safetyRatings"],p)}const m=s(e,["urlContextMetadata"]);return m!=null&&r(t,["urlContextMetadata"],m),t}function n_(e){const t={},n=s(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>o)),r(t,["citations"],i)}return t}function i_(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["_url","model"],X(e,i));const o=s(t,["contents"]);if(o!=null){let l=ut(o);Array.isArray(l)&&(l=l.map(a=>a)),r(n,["contents"],l)}return n}function o_(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),r(t,["tokensInfo"],o)}return t}function l_(e){const t={},n=s(e,["values"]);n!=null&&r(t,["values"],n);const i=s(e,["statistics"]);return i!=null&&r(t,["statistics"],a_(i)),t}function a_(e){const t={},n=s(e,["truncated"]);n!=null&&r(t,["truncated"],n);const i=s(e,["token_count"]);return i!=null&&r(t,["tokenCount"],i),t}function ba(e){const t={},n=s(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>hC(l))),r(t,["parts"],o)}const i=s(e,["role"]);return i!=null&&r(t,["role"],i),t}function s_(e){const t={},n=s(e,["controlType"]);n!=null&&r(t,["controlType"],n);const i=s(e,["enableControlImageComputation"]);return i!=null&&r(t,["computeControl"],i),t}function r_(e){const t={};if(s(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function u_(e,t){const n={},i=s(e,["systemInstruction"]);t!==void 0&&i!=null&&r(t,["systemInstruction"],Ie(i));const o=s(e,["tools"]);if(t!==void 0&&o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>Ng(u))),r(t,["tools"],a)}const l=s(e,["generationConfig"]);return t!==void 0&&l!=null&&r(t,["generationConfig"],eC(l)),n}function c_(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["_url","model"],X(e,i));const o=s(t,["contents"]);if(o!=null){let a=ut(o);Array.isArray(a)&&(a=a.map(u=>ba(u))),r(n,["contents"],a)}const l=s(t,["config"]);return l!=null&&r_(l),n}function f_(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["_url","model"],X(e,i));const o=s(t,["contents"]);if(o!=null){let a=ut(o);Array.isArray(a)&&(a=a.map(u=>u)),r(n,["contents"],a)}const l=s(t,["config"]);return l!=null&&u_(l,n),n}function d_(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["totalTokens"]);i!=null&&r(t,["totalTokens"],i);const o=s(e,["cachedContentTokenCount"]);return o!=null&&r(t,["cachedContentTokenCount"],o),t}function p_(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["totalTokens"]);return i!=null&&r(t,["totalTokens"],i),t}function m_(e,t){const n={},i=s(t,["model"]);return i!=null&&r(n,["_url","name"],X(e,i)),n}function h_(e,t){const n={},i=s(t,["model"]);return i!=null&&r(n,["_url","name"],X(e,i)),n}function g_(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&r(t,["sdkHttpResponse"],n),t}function y_(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&r(t,["sdkHttpResponse"],n),t}function v_(e,t){const n={},i=s(e,["outputGcsUri"]);t!==void 0&&i!=null&&r(t,["parameters","storageUri"],i);const o=s(e,["negativePrompt"]);t!==void 0&&o!=null&&r(t,["parameters","negativePrompt"],o);const l=s(e,["numberOfImages"]);t!==void 0&&l!=null&&r(t,["parameters","sampleCount"],l);const a=s(e,["aspectRatio"]);t!==void 0&&a!=null&&r(t,["parameters","aspectRatio"],a);const u=s(e,["guidanceScale"]);t!==void 0&&u!=null&&r(t,["parameters","guidanceScale"],u);const c=s(e,["seed"]);t!==void 0&&c!=null&&r(t,["parameters","seed"],c);const f=s(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&r(t,["parameters","safetySetting"],f);const d=s(e,["personGeneration"]);t!==void 0&&d!=null&&r(t,["parameters","personGeneration"],d);const m=s(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&r(t,["parameters","includeSafetyAttributes"],m);const p=s(e,["includeRaiReason"]);t!==void 0&&p!=null&&r(t,["parameters","includeRaiReason"],p);const h=s(e,["language"]);t!==void 0&&h!=null&&r(t,["parameters","language"],h);const T=s(e,["outputMimeType"]);t!==void 0&&T!=null&&r(t,["parameters","outputOptions","mimeType"],T);const E=s(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&r(t,["parameters","outputOptions","compressionQuality"],E);const _=s(e,["addWatermark"]);t!==void 0&&_!=null&&r(t,["parameters","addWatermark"],_);const y=s(e,["labels"]);t!==void 0&&y!=null&&r(t,["labels"],y);const g=s(e,["editMode"]);t!==void 0&&g!=null&&r(t,["parameters","editMode"],g);const v=s(e,["baseSteps"]);return t!==void 0&&v!=null&&r(t,["parameters","editConfig","baseSteps"],v),n}function T_(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["_url","model"],X(e,i));const o=s(t,["prompt"]);o!=null&&r(n,["instances[0]","prompt"],o);const l=s(t,["referenceImages"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>EC(c))),r(n,["instances[0]","referenceImages"],u)}const a=s(t,["config"]);return a!=null&&v_(a,n),n}function S_(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>La(l))),r(t,["generatedImages"],o)}return t}function E_(e,t){const n={},i=s(e,["taskType"]);t!==void 0&&i!=null&&r(t,["requests[]","taskType"],i);const o=s(e,["title"]);t!==void 0&&o!=null&&r(t,["requests[]","title"],o);const l=s(e,["outputDimensionality"]);if(t!==void 0&&l!=null&&r(t,["requests[]","outputDimensionality"],l),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function __(e,t){const n={},i=s(e,["taskType"]);t!==void 0&&i!=null&&r(t,["instances[]","task_type"],i);const o=s(e,["title"]);t!==void 0&&o!=null&&r(t,["instances[]","title"],o);const l=s(e,["outputDimensionality"]);t!==void 0&&l!=null&&r(t,["parameters","outputDimensionality"],l);const a=s(e,["mimeType"]);t!==void 0&&a!=null&&r(t,["instances[]","mimeType"],a);const u=s(e,["autoTruncate"]);return t!==void 0&&u!=null&&r(t,["parameters","autoTruncate"],u),n}function C_(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["_url","model"],X(e,i));const o=s(t,["contents"]);if(o!=null){let u=ku(e,o);Array.isArray(u)&&(u=u.map(c=>c)),r(n,["requests[]","content"],u)}const l=s(t,["config"]);l!=null&&E_(l,n);const a=s(t,["model"]);return a!==void 0&&r(n,["requests[]","model"],X(e,a)),n}function A_(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["_url","model"],X(e,i));const o=s(t,["contents"]);if(o!=null){let a=ku(e,o);Array.isArray(a)&&(a=a.map(u=>u)),r(n,["instances[]","content"],a)}const l=s(t,["config"]);return l!=null&&__(l,n),n}function R_(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>a)),r(t,["embeddings"],l)}const o=s(e,["metadata"]);return o!=null&&r(t,["metadata"],o),t}function M_(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["predictions[]","embeddings"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>l_(a))),r(t,["embeddings"],l)}const o=s(e,["metadata"]);return o!=null&&r(t,["metadata"],o),t}function N_(e){const t={},n=s(e,["endpoint"]);n!=null&&r(t,["name"],n);const i=s(e,["deployedModelId"]);return i!=null&&r(t,["deployedModelId"],i),t}function x_(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&r(t,["fileUri"],n);const i=s(e,["mimeType"]);return i!=null&&r(t,["mimeType"],i),t}function I_(e){const t={},n=s(e,["id"]);n!=null&&r(t,["id"],n);const i=s(e,["args"]);i!=null&&r(t,["args"],i);const o=s(e,["name"]);if(o!=null&&r(t,["name"],o),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function D_(e){const t={},n=s(e,["mode"]);n!=null&&r(t,["mode"],n);const i=s(e,["allowedFunctionNames"]);if(i!=null&&r(t,["allowedFunctionNames"],i),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function w_(e){const t={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=s(e,["description"]);n!=null&&r(t,["description"],n);const i=s(e,["name"]);i!=null&&r(t,["name"],i);const o=s(e,["parameters"]);o!=null&&r(t,["parameters"],o);const l=s(e,["parametersJsonSchema"]);l!=null&&r(t,["parametersJsonSchema"],l);const a=s(e,["response"]);a!=null&&r(t,["response"],a);const u=s(e,["responseJsonSchema"]);return u!=null&&r(t,["responseJsonSchema"],u),t}function U_(e,t,n){const i={},o=s(t,["systemInstruction"]);n!==void 0&&o!=null&&r(n,["systemInstruction"],ba(Ie(o)));const l=s(t,["temperature"]);l!=null&&r(i,["temperature"],l);const a=s(t,["topP"]);a!=null&&r(i,["topP"],a);const u=s(t,["topK"]);u!=null&&r(i,["topK"],u);const c=s(t,["candidateCount"]);c!=null&&r(i,["candidateCount"],c);const f=s(t,["maxOutputTokens"]);f!=null&&r(i,["maxOutputTokens"],f);const d=s(t,["stopSequences"]);d!=null&&r(i,["stopSequences"],d);const m=s(t,["responseLogprobs"]);m!=null&&r(i,["responseLogprobs"],m);const p=s(t,["logprobs"]);p!=null&&r(i,["logprobs"],p);const h=s(t,["presencePenalty"]);h!=null&&r(i,["presencePenalty"],h);const T=s(t,["frequencyPenalty"]);T!=null&&r(i,["frequencyPenalty"],T);const E=s(t,["seed"]);E!=null&&r(i,["seed"],E);const _=s(t,["responseMimeType"]);_!=null&&r(i,["responseMimeType"],_);const y=s(t,["responseSchema"]);y!=null&&r(i,["responseSchema"],Ou(y));const g=s(t,["responseJsonSchema"]);if(g!=null&&r(i,["responseJsonSchema"],g),s(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=s(t,["safetySettings"]);if(n!==void 0&&v!=null){let q=v;Array.isArray(q)&&(q=q.map(W=>_C(W))),r(n,["safetySettings"],q)}const S=s(t,["tools"]);if(n!==void 0&&S!=null){let q=Bi(S);Array.isArray(q)&&(q=q.map(W=>IC(Pi(W)))),r(n,["tools"],q)}const A=s(t,["toolConfig"]);if(n!==void 0&&A!=null&&r(n,["toolConfig"],xC(A)),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const I=s(t,["cachedContent"]);n!==void 0&&I!=null&&r(n,["cachedContent"],Yt(e,I));const M=s(t,["responseModalities"]);M!=null&&r(i,["responseModalities"],M);const D=s(t,["mediaResolution"]);D!=null&&r(i,["mediaResolution"],D);const x=s(t,["speechConfig"]);if(x!=null&&r(i,["speechConfig"],Fu(x)),s(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=s(t,["thinkingConfig"]);N!=null&&r(i,["thinkingConfig"],N);const b=s(t,["imageConfig"]);b!=null&&r(i,["imageConfig"],lC(b));const J=s(t,["enableEnhancedCivicAnswers"]);return J!=null&&r(i,["enableEnhancedCivicAnswers"],J),i}function b_(e,t,n){const i={},o=s(t,["systemInstruction"]);n!==void 0&&o!=null&&r(n,["systemInstruction"],Ie(o));const l=s(t,["temperature"]);l!=null&&r(i,["temperature"],l);const a=s(t,["topP"]);a!=null&&r(i,["topP"],a);const u=s(t,["topK"]);u!=null&&r(i,["topK"],u);const c=s(t,["candidateCount"]);c!=null&&r(i,["candidateCount"],c);const f=s(t,["maxOutputTokens"]);f!=null&&r(i,["maxOutputTokens"],f);const d=s(t,["stopSequences"]);d!=null&&r(i,["stopSequences"],d);const m=s(t,["responseLogprobs"]);m!=null&&r(i,["responseLogprobs"],m);const p=s(t,["logprobs"]);p!=null&&r(i,["logprobs"],p);const h=s(t,["presencePenalty"]);h!=null&&r(i,["presencePenalty"],h);const T=s(t,["frequencyPenalty"]);T!=null&&r(i,["frequencyPenalty"],T);const E=s(t,["seed"]);E!=null&&r(i,["seed"],E);const _=s(t,["responseMimeType"]);_!=null&&r(i,["responseMimeType"],_);const y=s(t,["responseSchema"]);y!=null&&r(i,["responseSchema"],Ou(y));const g=s(t,["responseJsonSchema"]);g!=null&&r(i,["responseJsonSchema"],g);const v=s(t,["routingConfig"]);v!=null&&r(i,["routingConfig"],v);const S=s(t,["modelSelectionConfig"]);S!=null&&r(i,["modelConfig"],S);const A=s(t,["safetySettings"]);if(n!==void 0&&A!=null){let w=A;Array.isArray(w)&&(w=w.map(z=>z)),r(n,["safetySettings"],w)}const I=s(t,["tools"]);if(n!==void 0&&I!=null){let w=Bi(I);Array.isArray(w)&&(w=w.map(z=>Ng(Pi(z)))),r(n,["tools"],w)}const M=s(t,["toolConfig"]);n!==void 0&&M!=null&&r(n,["toolConfig"],M);const D=s(t,["labels"]);n!==void 0&&D!=null&&r(n,["labels"],D);const x=s(t,["cachedContent"]);n!==void 0&&x!=null&&r(n,["cachedContent"],Yt(e,x));const N=s(t,["responseModalities"]);N!=null&&r(i,["responseModalities"],N);const b=s(t,["mediaResolution"]);b!=null&&r(i,["mediaResolution"],b);const J=s(t,["speechConfig"]);J!=null&&r(i,["speechConfig"],Mg(Fu(J)));const q=s(t,["audioTimestamp"]);q!=null&&r(i,["audioTimestamp"],q);const W=s(t,["thinkingConfig"]);W!=null&&r(i,["thinkingConfig"],W);const Yn=s(t,["imageConfig"]);if(Yn!=null&&r(i,["imageConfig"],aC(Yn)),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function zd(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["_url","model"],X(e,i));const o=s(t,["contents"]);if(o!=null){let a=ut(o);Array.isArray(a)&&(a=a.map(u=>ba(u))),r(n,["contents"],a)}const l=s(t,["config"]);return l!=null&&r(n,["generationConfig"],U_(e,l,n)),n}function Pd(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["_url","model"],X(e,i));const o=s(t,["contents"]);if(o!=null){let a=ut(o);Array.isArray(a)&&(a=a.map(u=>u)),r(n,["contents"],a)}const l=s(t,["config"]);return l!=null&&r(n,["generationConfig"],b_(e,l,n)),n}function Bd(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["candidates"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>t_(f))),r(t,["candidates"],c)}const o=s(e,["modelVersion"]);o!=null&&r(t,["modelVersion"],o);const l=s(e,["promptFeedback"]);l!=null&&r(t,["promptFeedback"],l);const a=s(e,["responseId"]);a!=null&&r(t,["responseId"],a);const u=s(e,["usageMetadata"]);return u!=null&&r(t,["usageMetadata"],u),t}function kd(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(d=>d)),r(t,["candidates"],f)}const o=s(e,["createTime"]);o!=null&&r(t,["createTime"],o);const l=s(e,["modelVersion"]);l!=null&&r(t,["modelVersion"],l);const a=s(e,["promptFeedback"]);a!=null&&r(t,["promptFeedback"],a);const u=s(e,["responseId"]);u!=null&&r(t,["responseId"],u);const c=s(e,["usageMetadata"]);return c!=null&&r(t,["usageMetadata"],c),t}function L_(e,t){const n={};if(s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=s(e,["numberOfImages"]);t!==void 0&&i!=null&&r(t,["parameters","sampleCount"],i);const o=s(e,["aspectRatio"]);t!==void 0&&o!=null&&r(t,["parameters","aspectRatio"],o);const l=s(e,["guidanceScale"]);if(t!==void 0&&l!=null&&r(t,["parameters","guidanceScale"],l),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=s(e,["safetyFilterLevel"]);t!==void 0&&a!=null&&r(t,["parameters","safetySetting"],a);const u=s(e,["personGeneration"]);t!==void 0&&u!=null&&r(t,["parameters","personGeneration"],u);const c=s(e,["includeSafetyAttributes"]);t!==void 0&&c!=null&&r(t,["parameters","includeSafetyAttributes"],c);const f=s(e,["includeRaiReason"]);t!==void 0&&f!=null&&r(t,["parameters","includeRaiReason"],f);const d=s(e,["language"]);t!==void 0&&d!=null&&r(t,["parameters","language"],d);const m=s(e,["outputMimeType"]);t!==void 0&&m!=null&&r(t,["parameters","outputOptions","mimeType"],m);const p=s(e,["outputCompressionQuality"]);if(t!==void 0&&p!=null&&r(t,["parameters","outputOptions","compressionQuality"],p),s(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const h=s(e,["imageSize"]);if(t!==void 0&&h!=null&&r(t,["parameters","sampleImageSize"],h),s(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function G_(e,t){const n={},i=s(e,["outputGcsUri"]);t!==void 0&&i!=null&&r(t,["parameters","storageUri"],i);const o=s(e,["negativePrompt"]);t!==void 0&&o!=null&&r(t,["parameters","negativePrompt"],o);const l=s(e,["numberOfImages"]);t!==void 0&&l!=null&&r(t,["parameters","sampleCount"],l);const a=s(e,["aspectRatio"]);t!==void 0&&a!=null&&r(t,["parameters","aspectRatio"],a);const u=s(e,["guidanceScale"]);t!==void 0&&u!=null&&r(t,["parameters","guidanceScale"],u);const c=s(e,["seed"]);t!==void 0&&c!=null&&r(t,["parameters","seed"],c);const f=s(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&r(t,["parameters","safetySetting"],f);const d=s(e,["personGeneration"]);t!==void 0&&d!=null&&r(t,["parameters","personGeneration"],d);const m=s(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&r(t,["parameters","includeSafetyAttributes"],m);const p=s(e,["includeRaiReason"]);t!==void 0&&p!=null&&r(t,["parameters","includeRaiReason"],p);const h=s(e,["language"]);t!==void 0&&h!=null&&r(t,["parameters","language"],h);const T=s(e,["outputMimeType"]);t!==void 0&&T!=null&&r(t,["parameters","outputOptions","mimeType"],T);const E=s(e,["outputCompressionQuality"]);t!==void 0&&E!=null&&r(t,["parameters","outputOptions","compressionQuality"],E);const _=s(e,["addWatermark"]);t!==void 0&&_!=null&&r(t,["parameters","addWatermark"],_);const y=s(e,["labels"]);t!==void 0&&y!=null&&r(t,["labels"],y);const g=s(e,["imageSize"]);t!==void 0&&g!=null&&r(t,["parameters","sampleImageSize"],g);const v=s(e,["enhancePrompt"]);return t!==void 0&&v!=null&&r(t,["parameters","enhancePrompt"],v),n}function H_(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["_url","model"],X(e,i));const o=s(t,["prompt"]);o!=null&&r(n,["instances[0]","prompt"],o);const l=s(t,["config"]);return l!=null&&L_(l,n),n}function V_(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["_url","model"],X(e,i));const o=s(t,["prompt"]);o!=null&&r(n,["instances[0]","prompt"],o);const l=s(t,["config"]);return l!=null&&G_(l,n),n}function q_(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>Z_(a))),r(t,["generatedImages"],l)}const o=s(e,["positivePromptSafetyAttributes"]);return o!=null&&r(t,["positivePromptSafetyAttributes"],Ag(o)),t}function z_(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>La(a))),r(t,["generatedImages"],l)}const o=s(e,["positivePromptSafetyAttributes"]);return o!=null&&r(t,["positivePromptSafetyAttributes"],Rg(o)),t}function P_(e,t){const n={},i=s(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&r(t,["parameters","sampleCount"],i),s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=s(e,["durationSeconds"]);if(t!==void 0&&o!=null&&r(t,["parameters","durationSeconds"],o),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(e,["aspectRatio"]);t!==void 0&&l!=null&&r(t,["parameters","aspectRatio"],l);const a=s(e,["resolution"]);t!==void 0&&a!=null&&r(t,["parameters","resolution"],a);const u=s(e,["personGeneration"]);if(t!==void 0&&u!=null&&r(t,["parameters","personGeneration"],u),s(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=s(e,["negativePrompt"]);t!==void 0&&c!=null&&r(t,["parameters","negativePrompt"],c);const f=s(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&r(t,["parameters","enhancePrompt"],f),s(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const d=s(e,["lastFrame"]);t!==void 0&&d!=null&&r(t,["instances[0]","lastFrame"],Ga(d));const m=s(e,["referenceImages"]);if(t!==void 0&&m!=null){let p=m;Array.isArray(p)&&(p=p.map(h=>kC(h))),r(t,["instances[0]","referenceImages"],p)}if(s(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function B_(e,t){const n={},i=s(e,["numberOfVideos"]);t!==void 0&&i!=null&&r(t,["parameters","sampleCount"],i);const o=s(e,["outputGcsUri"]);t!==void 0&&o!=null&&r(t,["parameters","storageUri"],o);const l=s(e,["fps"]);t!==void 0&&l!=null&&r(t,["parameters","fps"],l);const a=s(e,["durationSeconds"]);t!==void 0&&a!=null&&r(t,["parameters","durationSeconds"],a);const u=s(e,["seed"]);t!==void 0&&u!=null&&r(t,["parameters","seed"],u);const c=s(e,["aspectRatio"]);t!==void 0&&c!=null&&r(t,["parameters","aspectRatio"],c);const f=s(e,["resolution"]);t!==void 0&&f!=null&&r(t,["parameters","resolution"],f);const d=s(e,["personGeneration"]);t!==void 0&&d!=null&&r(t,["parameters","personGeneration"],d);const m=s(e,["pubsubTopic"]);t!==void 0&&m!=null&&r(t,["parameters","pubsubTopic"],m);const p=s(e,["negativePrompt"]);t!==void 0&&p!=null&&r(t,["parameters","negativePrompt"],p);const h=s(e,["enhancePrompt"]);t!==void 0&&h!=null&&r(t,["parameters","enhancePrompt"],h);const T=s(e,["generateAudio"]);t!==void 0&&T!=null&&r(t,["parameters","generateAudio"],T);const E=s(e,["lastFrame"]);t!==void 0&&E!=null&&r(t,["instances[0]","lastFrame"],yt(E));const _=s(e,["referenceImages"]);if(t!==void 0&&_!=null){let v=_;Array.isArray(v)&&(v=v.map(S=>OC(S))),r(t,["instances[0]","referenceImages"],v)}const y=s(e,["mask"]);t!==void 0&&y!=null&&r(t,["instances[0]","mask"],BC(y));const g=s(e,["compressionQuality"]);return t!==void 0&&g!=null&&r(t,["parameters","compressionQuality"],g),n}function k_(e){const t={},n=s(e,["name"]);n!=null&&r(t,["name"],n);const i=s(e,["metadata"]);i!=null&&r(t,["metadata"],i);const o=s(e,["done"]);o!=null&&r(t,["done"],o);const l=s(e,["error"]);l!=null&&r(t,["error"],l);const a=s(e,["response","generateVideoResponse"]);return a!=null&&r(t,["response"],J_(a)),t}function O_(e){const t={},n=s(e,["name"]);n!=null&&r(t,["name"],n);const i=s(e,["metadata"]);i!=null&&r(t,["metadata"],i);const o=s(e,["done"]);o!=null&&r(t,["done"],o);const l=s(e,["error"]);l!=null&&r(t,["error"],l);const a=s(e,["response"]);return a!=null&&r(t,["response"],X_(a)),t}function F_(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["_url","model"],X(e,i));const o=s(t,["prompt"]);o!=null&&r(n,["instances[0]","prompt"],o);const l=s(t,["image"]);l!=null&&r(n,["instances[0]","image"],Ga(l));const a=s(t,["video"]);a!=null&&r(n,["instances[0]","video"],xg(a));const u=s(t,["source"]);u!=null&&K_(u,n);const c=s(t,["config"]);return c!=null&&P_(c,n),n}function Y_(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["_url","model"],X(e,i));const o=s(t,["prompt"]);o!=null&&r(n,["instances[0]","prompt"],o);const l=s(t,["image"]);l!=null&&r(n,["instances[0]","image"],yt(l));const a=s(t,["video"]);a!=null&&r(n,["instances[0]","video"],Ig(a));const u=s(t,["source"]);u!=null&&Q_(u,n);const c=s(t,["config"]);return c!=null&&B_(c,n),n}function J_(e){const t={},n=s(e,["generatedSamples"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(a=>W_(a))),r(t,["generatedVideos"],l)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&r(t,["raiMediaFilteredCount"],i);const o=s(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function X_(e){const t={},n=s(e,["videos"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(a=>j_(a))),r(t,["generatedVideos"],l)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&r(t,["raiMediaFilteredCount"],i);const o=s(e,["raiMediaFilteredReasons"]);return o!=null&&r(t,["raiMediaFilteredReasons"],o),t}function K_(e,t){const n={},i=s(e,["prompt"]);t!==void 0&&i!=null&&r(t,["instances[0]","prompt"],i);const o=s(e,["image"]);t!==void 0&&o!=null&&r(t,["instances[0]","image"],Ga(o));const l=s(e,["video"]);return t!==void 0&&l!=null&&r(t,["instances[0]","video"],xg(l)),n}function Q_(e,t){const n={},i=s(e,["prompt"]);t!==void 0&&i!=null&&r(t,["instances[0]","prompt"],i);const o=s(e,["image"]);t!==void 0&&o!=null&&r(t,["instances[0]","image"],yt(o));const l=s(e,["video"]);return t!==void 0&&l!=null&&r(t,["instances[0]","video"],Ig(l)),n}function Z_(e){const t={},n=s(e,["_self"]);n!=null&&r(t,["image"],sC(n));const i=s(e,["raiFilteredReason"]);i!=null&&r(t,["raiFilteredReason"],i);const o=s(e,["_self"]);return o!=null&&r(t,["safetyAttributes"],Ag(o)),t}function La(e){const t={},n=s(e,["_self"]);n!=null&&r(t,["image"],Cg(n));const i=s(e,["raiFilteredReason"]);i!=null&&r(t,["raiFilteredReason"],i);const o=s(e,["_self"]);o!=null&&r(t,["safetyAttributes"],Rg(o));const l=s(e,["prompt"]);return l!=null&&r(t,["enhancedPrompt"],l),t}function $_(e){const t={},n=s(e,["_self"]);n!=null&&r(t,["mask"],Cg(n));const i=s(e,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),r(t,["labels"],o)}return t}function W_(e){const t={},n=s(e,["video"]);return n!=null&&r(t,["video"],zC(n)),t}function j_(e){const t={},n=s(e,["_self"]);return n!=null&&r(t,["video"],PC(n)),t}function eC(e){const t={},n=s(e,["modelSelectionConfig"]);n!=null&&r(t,["modelConfig"],n);const i=s(e,["responseJsonSchema"]);i!=null&&r(t,["responseJsonSchema"],i);const o=s(e,["audioTimestamp"]);o!=null&&r(t,["audioTimestamp"],o);const l=s(e,["candidateCount"]);l!=null&&r(t,["candidateCount"],l);const a=s(e,["enableAffectiveDialog"]);a!=null&&r(t,["enableAffectiveDialog"],a);const u=s(e,["frequencyPenalty"]);u!=null&&r(t,["frequencyPenalty"],u);const c=s(e,["logprobs"]);c!=null&&r(t,["logprobs"],c);const f=s(e,["maxOutputTokens"]);f!=null&&r(t,["maxOutputTokens"],f);const d=s(e,["mediaResolution"]);d!=null&&r(t,["mediaResolution"],d);const m=s(e,["presencePenalty"]);m!=null&&r(t,["presencePenalty"],m);const p=s(e,["responseLogprobs"]);p!=null&&r(t,["responseLogprobs"],p);const h=s(e,["responseMimeType"]);h!=null&&r(t,["responseMimeType"],h);const T=s(e,["responseModalities"]);T!=null&&r(t,["responseModalities"],T);const E=s(e,["responseSchema"]);E!=null&&r(t,["responseSchema"],E);const _=s(e,["routingConfig"]);_!=null&&r(t,["routingConfig"],_);const y=s(e,["seed"]);y!=null&&r(t,["seed"],y);const g=s(e,["speechConfig"]);g!=null&&r(t,["speechConfig"],Mg(g));const v=s(e,["stopSequences"]);v!=null&&r(t,["stopSequences"],v);const S=s(e,["temperature"]);S!=null&&r(t,["temperature"],S);const A=s(e,["thinkingConfig"]);A!=null&&r(t,["thinkingConfig"],A);const I=s(e,["topK"]);I!=null&&r(t,["topK"],I);const M=s(e,["topP"]);if(M!=null&&r(t,["topP"],M),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function tC(e,t){const n={},i=s(t,["model"]);return i!=null&&r(n,["_url","name"],X(e,i)),n}function nC(e,t){const n={},i=s(t,["model"]);return i!=null&&r(n,["_url","name"],X(e,i)),n}function iC(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&r(t,["enableWidget"],n),t}function oC(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&r(t,["timeRangeFilter"],n),t}function lC(e){const t={},n=s(e,["aspectRatio"]);n!=null&&r(t,["aspectRatio"],n);const i=s(e,["imageSize"]);if(i!=null&&r(t,["imageSize"],i),s(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function aC(e){const t={},n=s(e,["aspectRatio"]);n!=null&&r(t,["aspectRatio"],n);const i=s(e,["imageSize"]);i!=null&&r(t,["imageSize"],i);const o=s(e,["outputMimeType"]);o!=null&&r(t,["imageOutputOptions","mimeType"],o);const l=s(e,["outputCompressionQuality"]);return l!=null&&r(t,["imageOutputOptions","compressionQuality"],l),t}function sC(e){const t={},n=s(e,["bytesBase64Encoded"]);n!=null&&r(t,["imageBytes"],En(n));const i=s(e,["mimeType"]);return i!=null&&r(t,["mimeType"],i),t}function Cg(e){const t={},n=s(e,["gcsUri"]);n!=null&&r(t,["gcsUri"],n);const i=s(e,["bytesBase64Encoded"]);i!=null&&r(t,["imageBytes"],En(i));const o=s(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function Ga(e){const t={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(e,["imageBytes"]);n!=null&&r(t,["bytesBase64Encoded"],En(n));const i=s(e,["mimeType"]);return i!=null&&r(t,["mimeType"],i),t}function yt(e){const t={},n=s(e,["gcsUri"]);n!=null&&r(t,["gcsUri"],n);const i=s(e,["imageBytes"]);i!=null&&r(t,["bytesBase64Encoded"],En(i));const o=s(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function rC(e,t,n){const i={},o=s(t,["pageSize"]);n!==void 0&&o!=null&&r(n,["_query","pageSize"],o);const l=s(t,["pageToken"]);n!==void 0&&l!=null&&r(n,["_query","pageToken"],l);const a=s(t,["filter"]);n!==void 0&&a!=null&&r(n,["_query","filter"],a);const u=s(t,["queryBase"]);return n!==void 0&&u!=null&&r(n,["_url","models_url"],hg(e,u)),i}function uC(e,t,n){const i={},o=s(t,["pageSize"]);n!==void 0&&o!=null&&r(n,["_query","pageSize"],o);const l=s(t,["pageToken"]);n!==void 0&&l!=null&&r(n,["_query","pageToken"],l);const a=s(t,["filter"]);n!==void 0&&a!=null&&r(n,["_query","filter"],a);const u=s(t,["queryBase"]);return n!==void 0&&u!=null&&r(n,["_url","models_url"],hg(e,u)),i}function cC(e,t){const n={},i=s(t,["config"]);return i!=null&&rC(e,i,n),n}function fC(e,t){const n={},i=s(t,["config"]);return i!=null&&uC(e,i,n),n}function dC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const o=s(e,["_self"]);if(o!=null){let l=gg(o);Array.isArray(l)&&(l=l.map(a=>xr(a))),r(t,["models"],l)}return t}function pC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const o=s(e,["_self"]);if(o!=null){let l=gg(o);Array.isArray(l)&&(l=l.map(a=>Ir(a))),r(t,["models"],l)}return t}function mC(e){const t={},n=s(e,["maskMode"]);n!=null&&r(t,["maskMode"],n);const i=s(e,["segmentationClasses"]);i!=null&&r(t,["maskClasses"],i);const o=s(e,["maskDilation"]);return o!=null&&r(t,["dilation"],o),t}function xr(e){const t={},n=s(e,["name"]);n!=null&&r(t,["name"],n);const i=s(e,["displayName"]);i!=null&&r(t,["displayName"],i);const o=s(e,["description"]);o!=null&&r(t,["description"],o);const l=s(e,["version"]);l!=null&&r(t,["version"],l);const a=s(e,["_self"]);a!=null&&r(t,["tunedModelInfo"],DC(a));const u=s(e,["inputTokenLimit"]);u!=null&&r(t,["inputTokenLimit"],u);const c=s(e,["outputTokenLimit"]);c!=null&&r(t,["outputTokenLimit"],c);const f=s(e,["supportedGenerationMethods"]);f!=null&&r(t,["supportedActions"],f);const d=s(e,["temperature"]);d!=null&&r(t,["temperature"],d);const m=s(e,["maxTemperature"]);m!=null&&r(t,["maxTemperature"],m);const p=s(e,["topP"]);p!=null&&r(t,["topP"],p);const h=s(e,["topK"]);h!=null&&r(t,["topK"],h);const T=s(e,["thinking"]);return T!=null&&r(t,["thinking"],T),t}function Ir(e){const t={},n=s(e,["name"]);n!=null&&r(t,["name"],n);const i=s(e,["displayName"]);i!=null&&r(t,["displayName"],i);const o=s(e,["description"]);o!=null&&r(t,["description"],o);const l=s(e,["versionId"]);l!=null&&r(t,["version"],l);const a=s(e,["deployedModels"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(p=>N_(p))),r(t,["endpoints"],m)}const u=s(e,["labels"]);u!=null&&r(t,["labels"],u);const c=s(e,["_self"]);c!=null&&r(t,["tunedModelInfo"],wC(c));const f=s(e,["defaultCheckpointId"]);f!=null&&r(t,["defaultCheckpointId"],f);const d=s(e,["checkpoints"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(p=>p)),r(t,["checkpoints"],m)}return t}function hC(e){const t={},n=s(e,["mediaResolution"]);n!=null&&r(t,["mediaResolution"],n);const i=s(e,["codeExecutionResult"]);i!=null&&r(t,["codeExecutionResult"],i);const o=s(e,["executableCode"]);o!=null&&r(t,["executableCode"],o);const l=s(e,["fileData"]);l!=null&&r(t,["fileData"],x_(l));const a=s(e,["functionCall"]);a!=null&&r(t,["functionCall"],I_(a));const u=s(e,["functionResponse"]);u!=null&&r(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&r(t,["inlineData"],e_(c));const f=s(e,["text"]);f!=null&&r(t,["text"],f);const d=s(e,["thought"]);d!=null&&r(t,["thought"],d);const m=s(e,["thoughtSignature"]);m!=null&&r(t,["thoughtSignature"],m);const p=s(e,["videoMetadata"]);return p!=null&&r(t,["videoMetadata"],p),t}function gC(e){const t={},n=s(e,["productImage"]);return n!=null&&r(t,["image"],yt(n)),t}function yC(e,t){const n={},i=s(e,["numberOfImages"]);t!==void 0&&i!=null&&r(t,["parameters","sampleCount"],i);const o=s(e,["baseSteps"]);t!==void 0&&o!=null&&r(t,["parameters","baseSteps"],o);const l=s(e,["outputGcsUri"]);t!==void 0&&l!=null&&r(t,["parameters","storageUri"],l);const a=s(e,["seed"]);t!==void 0&&a!=null&&r(t,["parameters","seed"],a);const u=s(e,["safetyFilterLevel"]);t!==void 0&&u!=null&&r(t,["parameters","safetySetting"],u);const c=s(e,["personGeneration"]);t!==void 0&&c!=null&&r(t,["parameters","personGeneration"],c);const f=s(e,["addWatermark"]);t!==void 0&&f!=null&&r(t,["parameters","addWatermark"],f);const d=s(e,["outputMimeType"]);t!==void 0&&d!=null&&r(t,["parameters","outputOptions","mimeType"],d);const m=s(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&r(t,["parameters","outputOptions","compressionQuality"],m);const p=s(e,["enhancePrompt"]);t!==void 0&&p!=null&&r(t,["parameters","enhancePrompt"],p);const h=s(e,["labels"]);return t!==void 0&&h!=null&&r(t,["labels"],h),n}function vC(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["_url","model"],X(e,i));const o=s(t,["source"]);o!=null&&SC(o,n);const l=s(t,["config"]);return l!=null&&yC(l,n),n}function TC(e){const t={},n=s(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>La(o))),r(t,["generatedImages"],i)}return t}function SC(e,t){const n={},i=s(e,["prompt"]);t!==void 0&&i!=null&&r(t,["instances[0]","prompt"],i);const o=s(e,["personImage"]);t!==void 0&&o!=null&&r(t,["instances[0]","personImage","image"],yt(o));const l=s(e,["productImages"]);if(t!==void 0&&l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>gC(u))),r(t,["instances[0]","productImages"],a)}return n}function EC(e){const t={},n=s(e,["referenceImage"]);n!=null&&r(t,["referenceImage"],yt(n));const i=s(e,["referenceId"]);i!=null&&r(t,["referenceId"],i);const o=s(e,["referenceType"]);o!=null&&r(t,["referenceType"],o);const l=s(e,["maskImageConfig"]);l!=null&&r(t,["maskImageConfig"],mC(l));const a=s(e,["controlImageConfig"]);a!=null&&r(t,["controlImageConfig"],s_(a));const u=s(e,["styleImageConfig"]);u!=null&&r(t,["styleImageConfig"],u);const c=s(e,["subjectImageConfig"]);return c!=null&&r(t,["subjectImageConfig"],c),t}function Ag(e){const t={},n=s(e,["safetyAttributes","categories"]);n!=null&&r(t,["categories"],n);const i=s(e,["safetyAttributes","scores"]);i!=null&&r(t,["scores"],i);const o=s(e,["contentType"]);return o!=null&&r(t,["contentType"],o),t}function Rg(e){const t={},n=s(e,["safetyAttributes","categories"]);n!=null&&r(t,["categories"],n);const i=s(e,["safetyAttributes","scores"]);i!=null&&r(t,["scores"],i);const o=s(e,["contentType"]);return o!=null&&r(t,["contentType"],o),t}function _C(e){const t={},n=s(e,["category"]);if(n!=null&&r(t,["category"],n),s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=s(e,["threshold"]);return i!=null&&r(t,["threshold"],i),t}function CC(e){const t={},n=s(e,["image"]);return n!=null&&r(t,["image"],yt(n)),t}function AC(e,t){const n={},i=s(e,["mode"]);t!==void 0&&i!=null&&r(t,["parameters","mode"],i);const o=s(e,["maxPredictions"]);t!==void 0&&o!=null&&r(t,["parameters","maxPredictions"],o);const l=s(e,["confidenceThreshold"]);t!==void 0&&l!=null&&r(t,["parameters","confidenceThreshold"],l);const a=s(e,["maskDilation"]);t!==void 0&&a!=null&&r(t,["parameters","maskDilation"],a);const u=s(e,["binaryColorThreshold"]);t!==void 0&&u!=null&&r(t,["parameters","binaryColorThreshold"],u);const c=s(e,["labels"]);return t!==void 0&&c!=null&&r(t,["labels"],c),n}function RC(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["_url","model"],X(e,i));const o=s(t,["source"]);o!=null&&NC(o,n);const l=s(t,["config"]);return l!=null&&AC(l,n),n}function MC(e){const t={},n=s(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>$_(o))),r(t,["generatedMasks"],i)}return t}function NC(e,t){const n={},i=s(e,["prompt"]);t!==void 0&&i!=null&&r(t,["instances[0]","prompt"],i);const o=s(e,["image"]);t!==void 0&&o!=null&&r(t,["instances[0]","image"],yt(o));const l=s(e,["scribbleImage"]);return t!==void 0&&l!=null&&r(t,["instances[0]","scribble"],CC(l)),n}function Mg(e){const t={},n=s(e,["voiceConfig"]);n!=null&&r(t,["voiceConfig"],n);const i=s(e,["languageCode"]);if(i!=null&&r(t,["languageCode"],i),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return t}function xC(e){const t={},n=s(e,["functionCallingConfig"]);n!=null&&r(t,["functionCallingConfig"],D_(n));const i=s(e,["retrievalConfig"]);return i!=null&&r(t,["retrievalConfig"],i),t}function IC(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),r(t,["functionDeclarations"],d)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearchRetrieval"]);i!=null&&r(t,["googleSearchRetrieval"],i);const o=s(e,["computerUse"]);o!=null&&r(t,["computerUse"],o);const l=s(e,["fileSearch"]);l!=null&&r(t,["fileSearch"],l);const a=s(e,["codeExecution"]);if(a!=null&&r(t,["codeExecution"],a),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&r(t,["googleMaps"],iC(u));const c=s(e,["googleSearch"]);c!=null&&r(t,["googleSearch"],oC(c));const f=s(e,["urlContext"]);return f!=null&&r(t,["urlContext"],f),t}function Ng(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(p=>w_(p))),r(t,["functionDeclarations"],m)}const i=s(e,["retrieval"]);i!=null&&r(t,["retrieval"],i);const o=s(e,["googleSearchRetrieval"]);o!=null&&r(t,["googleSearchRetrieval"],o);const l=s(e,["computerUse"]);if(l!=null&&r(t,["computerUse"],l),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=s(e,["codeExecution"]);a!=null&&r(t,["codeExecution"],a);const u=s(e,["enterpriseWebSearch"]);u!=null&&r(t,["enterpriseWebSearch"],u);const c=s(e,["googleMaps"]);c!=null&&r(t,["googleMaps"],c);const f=s(e,["googleSearch"]);f!=null&&r(t,["googleSearch"],f);const d=s(e,["urlContext"]);return d!=null&&r(t,["urlContext"],d),t}function DC(e){const t={},n=s(e,["baseModel"]);n!=null&&r(t,["baseModel"],n);const i=s(e,["createTime"]);i!=null&&r(t,["createTime"],i);const o=s(e,["updateTime"]);return o!=null&&r(t,["updateTime"],o),t}function wC(e){const t={},n=s(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&r(t,["baseModel"],n);const i=s(e,["createTime"]);i!=null&&r(t,["createTime"],i);const o=s(e,["updateTime"]);return o!=null&&r(t,["updateTime"],o),t}function UC(e,t){const n={},i=s(e,["displayName"]);t!==void 0&&i!=null&&r(t,["displayName"],i);const o=s(e,["description"]);t!==void 0&&o!=null&&r(t,["description"],o);const l=s(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&r(t,["defaultCheckpointId"],l),n}function bC(e,t){const n={},i=s(e,["displayName"]);t!==void 0&&i!=null&&r(t,["displayName"],i);const o=s(e,["description"]);t!==void 0&&o!=null&&r(t,["description"],o);const l=s(e,["defaultCheckpointId"]);return t!==void 0&&l!=null&&r(t,["defaultCheckpointId"],l),n}function LC(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["_url","name"],X(e,i));const o=s(t,["config"]);return o!=null&&UC(o,n),n}function GC(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["_url","model"],X(e,i));const o=s(t,["config"]);return o!=null&&bC(o,n),n}function HC(e,t){const n={},i=s(e,["outputGcsUri"]);t!==void 0&&i!=null&&r(t,["parameters","storageUri"],i);const o=s(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&r(t,["parameters","safetySetting"],o);const l=s(e,["personGeneration"]);t!==void 0&&l!=null&&r(t,["parameters","personGeneration"],l);const a=s(e,["includeRaiReason"]);t!==void 0&&a!=null&&r(t,["parameters","includeRaiReason"],a);const u=s(e,["outputMimeType"]);t!==void 0&&u!=null&&r(t,["parameters","outputOptions","mimeType"],u);const c=s(e,["outputCompressionQuality"]);t!==void 0&&c!=null&&r(t,["parameters","outputOptions","compressionQuality"],c);const f=s(e,["enhanceInputImage"]);t!==void 0&&f!=null&&r(t,["parameters","upscaleConfig","enhanceInputImage"],f);const d=s(e,["imagePreservationFactor"]);t!==void 0&&d!=null&&r(t,["parameters","upscaleConfig","imagePreservationFactor"],d);const m=s(e,["labels"]);t!==void 0&&m!=null&&r(t,["labels"],m);const p=s(e,["numberOfImages"]);t!==void 0&&p!=null&&r(t,["parameters","sampleCount"],p);const h=s(e,["mode"]);return t!==void 0&&h!=null&&r(t,["parameters","mode"],h),n}function VC(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["_url","model"],X(e,i));const o=s(t,["image"]);o!=null&&r(n,["instances[0]","image"],yt(o));const l=s(t,["upscaleFactor"]);l!=null&&r(n,["parameters","upscaleConfig","upscaleFactor"],l);const a=s(t,["config"]);return a!=null&&HC(a,n),n}function qC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>La(l))),r(t,["generatedImages"],o)}return t}function zC(e){const t={},n=s(e,["uri"]);n!=null&&r(t,["uri"],n);const i=s(e,["encodedVideo"]);i!=null&&r(t,["videoBytes"],En(i));const o=s(e,["encoding"]);return o!=null&&r(t,["mimeType"],o),t}function PC(e){const t={},n=s(e,["gcsUri"]);n!=null&&r(t,["uri"],n);const i=s(e,["bytesBase64Encoded"]);i!=null&&r(t,["videoBytes"],En(i));const o=s(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}function BC(e){const t={},n=s(e,["image"]);n!=null&&r(t,["_self"],yt(n));const i=s(e,["maskMode"]);return i!=null&&r(t,["maskMode"],i),t}function kC(e){const t={},n=s(e,["image"]);n!=null&&r(t,["image"],Ga(n));const i=s(e,["referenceType"]);return i!=null&&r(t,["referenceType"],i),t}function OC(e){const t={},n=s(e,["image"]);n!=null&&r(t,["image"],yt(n));const i=s(e,["referenceType"]);return i!=null&&r(t,["referenceType"],i),t}function xg(e){const t={},n=s(e,["uri"]);n!=null&&r(t,["uri"],n);const i=s(e,["videoBytes"]);i!=null&&r(t,["encodedVideo"],En(i));const o=s(e,["mimeType"]);return o!=null&&r(t,["encoding"],o),t}function Ig(e){const t={},n=s(e,["uri"]);n!=null&&r(t,["gcsUri"],n);const i=s(e,["videoBytes"]);i!=null&&r(t,["bytesBase64Encoded"],En(i));const o=s(e,["mimeType"]);return o!=null&&r(t,["mimeType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FC(e,t){const n={},i=s(e,["displayName"]);return t!==void 0&&i!=null&&r(t,["displayName"],i),n}function YC(e){const t={},n=s(e,["config"]);return n!=null&&FC(n,t),t}function JC(e,t){const n={},i=s(e,["force"]);return t!==void 0&&i!=null&&r(t,["_query","force"],i),n}function XC(e){const t={},n=s(e,["name"]);n!=null&&r(t,["_url","name"],n);const i=s(e,["config"]);return i!=null&&JC(i,t),t}function KC(e){const t={},n=s(e,["name"]);return n!=null&&r(t,["_url","name"],n),t}function QC(e,t){const n={},i=s(e,["customMetadata"]);if(t!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>a)),r(t,["customMetadata"],l)}const o=s(e,["chunkingConfig"]);return t!==void 0&&o!=null&&r(t,["chunkingConfig"],o),n}function ZC(e){const t={},n=s(e,["name"]);n!=null&&r(t,["name"],n);const i=s(e,["metadata"]);i!=null&&r(t,["metadata"],i);const o=s(e,["done"]);o!=null&&r(t,["done"],o);const l=s(e,["error"]);l!=null&&r(t,["error"],l);const a=s(e,["response"]);return a!=null&&r(t,["response"],WC(a)),t}function $C(e){const t={},n=s(e,["fileSearchStoreName"]);n!=null&&r(t,["_url","file_search_store_name"],n);const i=s(e,["fileName"]);i!=null&&r(t,["fileName"],i);const o=s(e,["config"]);return o!=null&&QC(o,t),t}function WC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["parent"]);i!=null&&r(t,["parent"],i);const o=s(e,["documentName"]);return o!=null&&r(t,["documentName"],o),t}function jC(e,t){const n={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&r(t,["_query","pageSize"],i);const o=s(e,["pageToken"]);return t!==void 0&&o!=null&&r(t,["_query","pageToken"],o),n}function eA(e){const t={},n=s(e,["config"]);return n!=null&&jC(n,t),t}function tA(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const o=s(e,["fileSearchStores"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),r(t,["fileSearchStores"],l)}return t}function Dg(e,t){const n={},i=s(e,["mimeType"]);t!==void 0&&i!=null&&r(t,["mimeType"],i);const o=s(e,["displayName"]);t!==void 0&&o!=null&&r(t,["displayName"],o);const l=s(e,["customMetadata"]);if(t!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(c=>c)),r(t,["customMetadata"],u)}const a=s(e,["chunkingConfig"]);return t!==void 0&&a!=null&&r(t,["chunkingConfig"],a),n}function nA(e){const t={},n=s(e,["fileSearchStoreName"]);n!=null&&r(t,["_url","file_search_store_name"],n);const i=s(e,["config"]);return i!=null&&Dg(i,t),t}function iA(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&r(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oA="Content-Type",lA="X-Server-Timeout",aA="User-Agent",Dr="x-goog-api-client",sA="1.33.0",rA=`google-genai-sdk/${sA}`,uA="v1beta1",cA="v1beta";class fA{constructor(t){var n,i;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:uA,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:cA,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&i.push(t.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,i){const o=[this.getRequestUrlInternal(n)];return i&&o.push(this.getBaseResourcePath()),t!==""&&o.push(t),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,i);if(t.queryParams)for(const[a,u]of Object.entries(t.queryParams))o.searchParams.append(a,String(u));let l={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=t.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),t.abortSignal),this.unaryApiCall(o,l,t.httpMethod)}patchHttpOptions(t,n){const i=JSON.parse(JSON.stringify(t));for(const[o,l]of Object.entries(n))typeof l=="object"?i[o]=Object.assign(Object.assign({},i[o]),l):l!==void 0&&(i[o]=l);return i}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),o=this.constructUrl(t.path,n,i);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let l={};return l.body=t.body,l=await this.includeExtraHttpOptionsToRequestInit(l,n,o.toString(),t.abortSignal),this.streamApiCall(o,l,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,i,o){if(n&&n.timeout||o){const l=new AbortController,a=l.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>l.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}o&&o.addEventListener("abort",()=>{l.abort()}),t.signal=a}return n&&n.extraBody!==null&&dA(t,n.extraBody),t.headers=await this.getHeadersInternal(n,i),t}async unaryApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await Od(o),new Rr(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async o=>(await Od(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(t){return mt(this,arguments,function*(){var i;const o=(i=t==null?void 0:t.body)===null||i===void 0?void 0:i.getReader(),l=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let a="";const u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:d}=yield G(o.read());if(f){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=l.decode(d,{stream:!0});try{const T=JSON.parse(m);if("error"in T){const E=JSON.parse(JSON.stringify(T.error)),_=E.status,y=E.code,g=`got status: ${_}. ${JSON.stringify(T)}`;if(y>=400&&y<600)throw new Ua({message:g,status:y})}}catch(T){if(T.name==="ApiError")throw T}a+=m;let p=-1,h=0;for(;;){p=-1,h=0;for(const _ of c){const y=a.indexOf(_);y!==-1&&(p===-1||y<p)&&(p=y,h=_.length)}if(p===-1)break;const T=a.substring(0,p);a=a.substring(p+h);const E=T.trim();if(E.startsWith(u)){const _=E.substring(u.length).trim();try{const y=new Response(_,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield G(new Rr(y))}catch(y){throw new Error(`exception parsing stream chunk ${_}. ${y}`)}}}}}finally{o.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const t={},n=rA+" "+this.clientOptions.userAgentExtra;return t[aA]=n,t[Dr]=n,t[oA]="application/json",t}async getHeadersInternal(t,n){const i=new Headers;if(t&&t.headers){for(const[o,l]of Object.entries(t.headers))i.append(o,l);t.timeout&&t.timeout>0&&i.append(lA,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(t){var n;let i="";return typeof t=="string"&&(i=t.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(t,n){var i;const o={};n!=null&&(o.mimeType=n.mimeType,o.name=n.name,o.displayName=n.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const l=this.clientOptions.uploader,a=await l.stat(t);o.sizeBytes=String(a.size);const u=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=u;const c={file:o},f=this.getFileName(t),d=U("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(d,o.sizeBytes,o.mimeType,f,c,n==null?void 0:n.httpOptions);return l.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,i){var o;const l=this.clientOptions.uploader,a=await l.stat(n),u=String(a.size),c=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:a.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,d=this.getFileName(n),m={};i!=null&&Dg(i,m);const p=await this.fetchUploadUrl(f,u,c,d,m,i==null?void 0:i.httpOptions);return l.uploadToFileSearchStore(n,p,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,i,o,l,a){var u;let c={};a?c=a:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},o?{"X-Goog-Upload-File-Name":o}:{})};const f=await this.request({path:t,body:JSON.stringify(l),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const d=(u=f==null?void 0:f.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(d===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return d}}async function Od(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let i;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?i=await e.json():i={error:{message:await e.text(),code:e.status,status:e.statusText}};const o=JSON.stringify(i);throw n>=400&&n<600?new Ua({message:o,status:n}):new Error(o)}}function dA(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const l=JSON.parse(e.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))n=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(l,a){const u=Object.assign({},l);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const f=a[c],d=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&d&&typeof d=="object"&&!Array.isArray(d)?u[c]=i(d,f):(d&&f&&typeof d!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const o=i(n,t);e.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pA="mcp_used/unknown";let mA=!1;function wg(e){for(const t of e)if(hA(t)||typeof t=="object"&&"inputSchema"in t)return!0;return mA}function Ug(e){var t;const n=(t=e[Dr])!==null&&t!==void 0?t:"";e[Dr]=(n+` ${pA}`).trimStart()}function hA(e){return e!==null&&typeof e=="object"&&e instanceof Ju}function gA(e){return mt(this,arguments,function*(n,i=100){let o,l=0;for(;l<i;){const a=yield G(n.listTools({cursor:o}));for(const u of a.tools)yield yield G(u),l++;if(!a.nextCursor)break;o=a.nextCursor}})}class Ju{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Ju(t,n)}async initialize(){var t,n,i,o;if(this.mcpTools.length>0)return;const l={},a=[];for(const d of this.mcpClients)try{for(var u=!0,c=(n=void 0,ht(gA(d))),f;f=await c.next(),t=f.done,!t;u=!0){o=f.value,u=!1;const m=o;a.push(m);const p=m.name;if(l[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);l[p]=d}}catch(m){n={error:m}}finally{try{!u&&!t&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}this.mcpTools=a,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),KT(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const i of t)if(i.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[i.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const a=await o.callTool({name:i.name,arguments:i.args},void 0,l);n.push({functionResponse:{name:i.name,response:a.isError?{error:a}:a}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function yA(e,t,n){const i=new PT;let o;n.data instanceof Blob?o=JSON.parse(await n.data.text()):o=JSON.parse(n.data),Object.assign(i,o),t(i)}class vA{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i}async connect(t){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),a=EA(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${o}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const d=new Promise(v=>{f=v}),m=t.callbacks,p=function(){f({})},h=this.apiClient,T={onopen:p,onmessage:v=>{yA(h,m.onmessage,v)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(v){},onclose:(i=m==null?void 0:m.onclose)!==null&&i!==void 0?i:function(v){}},E=this.webSocketFactory.create(c,SA(a),T);E.connect(),await d;const g={setup:{model:X(this.apiClient,t.model)}};return E.send(JSON.stringify(g)),new TA(E,this.apiClient)}}class TA{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=YE(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=FE(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ci.PLAY)}pause(){this.sendPlaybackControl(ci.PAUSE)}stop(){this.sendPlaybackControl(ci.STOP)}resetContext(){this.sendPlaybackControl(ci.RESET_CONTEXT)}close(){this.conn.close()}}function SA(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function EA(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _A="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function CA(e,t,n){const i=new zT;let o;n.data instanceof Blob?o=await n.data.text():n.data instanceof ArrayBuffer?o=new TextDecoder().decode(n.data):o=n.data;const l=JSON.parse(o);if(e.isVertexAI()){const a=KE(l);Object.assign(i,a)}else Object.assign(i,l);t(i)}class AA{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i,this.music=new vA(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,i,o,l,a,u;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&wg(t.config.tools)&&Ug(m);const p=xA(m);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,d);else{const x=this.apiClient.getApiKey();let N="BidiGenerateContent",b="key";x!=null&&x.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),N="BidiGenerateContentConstrained",b="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${N}?${b}=${x}`}let h=()=>{};const T=new Promise(x=>{h=x}),E=t.callbacks,_=function(){var x;(x=E==null?void 0:E.onopen)===null||x===void 0||x.call(E),h({})},y=this.apiClient,g={onopen:_,onmessage:x=>{CA(y,E.onmessage,x)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(x){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(x){}},v=this.webSocketFactory.create(d,NA(p),g);v.connect(),await T;let S=X(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){const x=this.apiClient.getProject(),N=this.apiClient.getLocation();S=`projects/${x}/locations/${N}/`+S}let A={};this.apiClient.isVertexAI()&&((o=t.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[bo.AUDIO]}:t.config.responseModalities=[bo.AUDIO]),!((l=t.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const I=(u=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[],M=[];for(const x of I)if(this.isCallableTool(x)){const N=x;M.push(await N.tool())}else M.push(x);M.length>0&&(t.config.tools=M);const D={model:S,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?A=OE(this.apiClient,D):A=kE(this.apiClient,D),delete A.config,v.send(JSON.stringify(A)),new MA(v,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const RA={turnComplete:!0};class MA{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=ut(n.turns),t.isVertexAI()||(i=i.map(o=>ba(o)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const l of i){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!t.isVertexAI()&&!("id"in l))throw new Error(_A)}return{toolResponse:{functionResponses:i}}}sendClientContent(t){t=Object.assign(Object.assign({},RA),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:XE(t)}:n={realtimeInput:JE(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function NA(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function xA(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fd=10;function Yd(e){var t,n,i;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let o=!1;for(const a of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if(Si(a)){o=!0;break}if(!o)return!0;const l=(i=e==null?void 0:e.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function Si(e){return"callTool"in e&&typeof e.callTool=="function"}function IA(e){var t,n,i;return(i=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(o=>Si(o)))!==null&&i!==void 0?i:!1}function Jd(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((i,o)=>{if(Si(i))return;const l=i;l.functionDeclarations&&l.functionDeclarations.length>0&&n.push(o)}),n}function Xd(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DA extends Ft{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var i,o,l,a,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!IA(n)||Yd(n.config))return await this.generateContentInternal(c);const f=Jd(n);if(f.length>0){const E=f.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${E}.`)}let d,m;const p=ut(c.contents),h=(l=(o=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:Fd;let T=0;for(;T<h&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const E=d.candidates[0].content,_=[];for(const y of(u=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[])if(Si(y)){const v=await y.callTool(d.functionCalls);_.push(...v)}T++,m={role:"user",parts:_},c.contents=ut(c.contents),c.contents.push(E),c.contents.push(m),Xd(c.config)&&(p.push(E),p.push(m))}return Xd(c.config)&&(d.automaticFunctionCallingHistory=p),d},this.generateContentStream=async n=>{var i,o,l,a,u;if(this.maybeMoveToResponseJsonSchem(n),Yd(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=Jd(n);if(c.length>0){const m=c.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(l=(o=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||o===void 0?void 0:o.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,d=(u=(a=n==null?void 0:n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(f&&!d)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var o;let l;const a=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((o=c==null?void 0:c.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?l=c==null?void 0:c.safetyAttributes:a.push(c);let u;return l?u={generatedImages:a,positivePromptSafetyAttributes:l,sdkHttpResponse:i.sdkHttpResponse}:u={generatedImages:a,sdkHttpResponse:i.sdkHttpResponse},u}),this.list=async n=>{var i;const a={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((i=a.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new Fn(kt.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(a),a)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const o={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(o)},this.generateVideos=async n=>{var i,o,l,a,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((o=n.video)===null||o===void 0)&&o.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((a=(l=n.source)===null||l===void 0?void 0:l.video)===null||a===void 0)&&a.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,i,o;const l=(n=t.config)===null||n===void 0?void 0:n.tools;if(!l)return t;const a=await Promise.all(l.map(async c=>Si(c)?await c.tool():c)),u={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:a})};if(u.config.tools=a,t.config&&t.config.tools&&wg(t.config.tools)){const c=(o=(i=t.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&o!==void 0?o:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),Ug(f),u.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(t){var n,i,o;const l=new Map;for(const a of(i=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(Si(a)){const u=a,c=await u.tool();for(const f of(o=c.functionDeclarations)!==null&&o!==void 0?o:[]){if(!f.name)throw new Error("Function declaration name is required.");if(l.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);l.set(f.name,u)}}return l}async processAfcStream(t){var n,i,o;const l=(o=(i=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:Fd;let a=!1,u=0;const c=await this.initAfcToolsMap(t);return function(f,d,m){return mt(this,arguments,function*(){for(var p,h,T,E,_,y;u<l;){a&&(u++,a=!1);const A=yield G(f.processParamsMaybeAddMcpUsage(m)),I=yield G(f.generateContentStreamInternal(A)),M=[],D=[];try{for(var g=!0,v=(h=void 0,ht(I)),S;S=yield G(v.next()),p=S.done,!p;g=!0){E=S.value,g=!1;const x=E;if(yield yield G(x),x.candidates&&(!((_=x.candidates[0])===null||_===void 0)&&_.content)){D.push(x.candidates[0].content);for(const N of(y=x.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(u<l&&N.functionCall){if(!N.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(N.functionCall.name)){const b=yield G(d.get(N.functionCall.name).callTool([N.functionCall]));M.push(...b)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${N.functionCall.name}`)}}}}catch(x){h={error:x}}finally{try{!g&&!p&&(T=v.return)&&(yield G(T.call(v)))}finally{if(h)throw h.error}}if(M.length>0){a=!0;const x=new Zi;x.candidates=[{content:{role:"user",parts:M}}],yield yield G(x);const N=[];N.push(...D),N.push({role:"user",parts:M});const b=ut(m.contents).concat(N);m.contents=b}else break}})}(this,c,t)}async generateContentInternal(t){var n,i,o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=Pd(this.apiClient,t);return u=U("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=kd(d),p=new Zi;return Object.assign(p,m),p})}else{const f=zd(this.apiClient,t);return u=U("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=Bd(d),p=new Zi;return Object.assign(p,m),p})}}async generateContentStreamInternal(t){var n,i,o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=Pd(this.apiClient,t);return u=U("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),a.then(function(m){return mt(this,arguments,function*(){var p,h,T,E;try{for(var _=!0,y=ht(m),g;g=yield G(y.next()),p=g.done,!p;_=!0){E=g.value,_=!1;const v=E,S=kd(yield G(v.json()));S.sdkHttpResponse={headers:v.headers};const A=new Zi;Object.assign(A,S),yield yield G(A)}}catch(v){h={error:v}}finally{try{!_&&!p&&(T=y.return)&&(yield G(T.call(y)))}finally{if(h)throw h.error}}})})}else{const f=zd(this.apiClient,t);return u=U("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}),a.then(function(m){return mt(this,arguments,function*(){var p,h,T,E;try{for(var _=!0,y=ht(m),g;g=yield G(y.next()),p=g.done,!p;_=!0){E=g.value,_=!1;const v=E,S=Bd(yield G(v.json()));S.sdkHttpResponse={headers:v.headers};const A=new Zi;Object.assign(A,S),yield yield G(A)}}catch(v){h={error:v}}finally{try{!_&&!p&&(T=y.return)&&(yield G(T.call(y)))}finally{if(h)throw h.error}}})})}}async embedContent(t){var n,i,o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=A_(this.apiClient,t);return u=U("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=M_(d),p=new _d;return Object.assign(p,m),p})}else{const f=C_(this.apiClient,t);return u=U("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=R_(d),p=new _d;return Object.assign(p,m),p})}}async generateImagesInternal(t){var n,i,o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=V_(this.apiClient,t);return u=U("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=z_(d),p=new Cd;return Object.assign(p,m),p})}else{const f=H_(this.apiClient,t);return u=U("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=q_(d),p=new Cd;return Object.assign(p,m),p})}}async editImageInternal(t){var n,i;let o,l="",a={};if(this.apiClient.isVertexAI()){const u=T_(this.apiClient,t);return l=U("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=S_(c),d=new xT;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,i;let o,l="",a={};if(this.apiClient.isVertexAI()){const u=VC(this.apiClient,t);return l=U("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=qC(c),d=new IT;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,i;let o,l="",a={};if(this.apiClient.isVertexAI()){const u=vC(this.apiClient,t);return l=U("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=TC(c),d=new DT;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,i;let o,l="",a={};if(this.apiClient.isVertexAI()){const u=RC(this.apiClient,t);return l=U("{model}:predict",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=MC(c),d=new wT;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,i,o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=nC(this.apiClient,t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>Ir(d))}else{const f=tC(this.apiClient,t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),a.then(d=>xr(d))}}async listInternal(t){var n,i,o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=fC(this.apiClient,t);return u=U("{models_url}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=pC(d),p=new Ad;return Object.assign(p,m),p})}else{const f=cC(this.apiClient,t);return u=U("{models_url}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=dC(d),p=new Ad;return Object.assign(p,m),p})}}async update(t){var n,i,o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=GC(this.apiClient,t);return u=U("{model}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>Ir(d))}else{const f=LC(this.apiClient,t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),a.then(d=>xr(d))}}async delete(t){var n,i,o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=h_(this.apiClient,t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=y_(d),p=new Rd;return Object.assign(p,m),p})}else{const f=m_(this.apiClient,t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=g_(d),p=new Rd;return Object.assign(p,m),p})}}async countTokens(t){var n,i,o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=f_(this.apiClient,t);return u=U("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=p_(d),p=new Md;return Object.assign(p,m),p})}else{const f=c_(this.apiClient,t);return u=U("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=d_(d),p=new Md;return Object.assign(p,m),p})}}async computeTokens(t){var n,i;let o,l="",a={};if(this.apiClient.isVertexAI()){const u=i_(this.apiClient,t);return l=U("{model}:computeTokens",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>{const f=o_(c),d=new UT;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,i,o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=Y_(this.apiClient,t);return u=U("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a.then(d=>{const m=O_(d),p=new ra;return Object.assign(p,m),p})}else{const f=F_(this.apiClient,t);return u=U("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),a.then(d=>{const m=k_(d),p=new ra;return Object.assign(p,m),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wA extends Ft{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async get(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=n.name.split("/operations/")[0];let l;i&&"httpOptions"in i&&(l=i.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:o,config:{httpOptions:l}});return n._fromAPIResponse({apiResponse:a,_isVertexAI:!0})}else{const o=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,i,o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=_T(t);return u=U("{operationName}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),a}else{const f=ET(t);return u=U("{operationName}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json()),a}}async fetchPredictVideosOperationInternal(t){var n,i;let o,l="",a={};if(this.apiClient.isVertexAI()){const u=mT(t);return l=U("{resourceName}:fetchPredictOperation",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UA(e){const t={},n=s(e,["data"]);if(n!=null&&r(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(e,["mimeType"]);return i!=null&&r(t,["mimeType"],i),t}function bA(e){const t={},n=s(e,["parts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(l=>kA(l))),r(t,["parts"],o)}const i=s(e,["role"]);return i!=null&&r(t,["role"],i),t}function LA(e,t,n){const i={},o=s(t,["expireTime"]);n!==void 0&&o!=null&&r(n,["expireTime"],o);const l=s(t,["newSessionExpireTime"]);n!==void 0&&l!=null&&r(n,["newSessionExpireTime"],l);const a=s(t,["uses"]);n!==void 0&&a!=null&&r(n,["uses"],a);const u=s(t,["liveConnectConstraints"]);n!==void 0&&u!=null&&r(n,["bidiGenerateContentSetup"],BA(e,u));const c=s(t,["lockAdditionalFields"]);return n!==void 0&&c!=null&&r(n,["fieldMask"],c),i}function GA(e,t){const n={},i=s(t,["config"]);return i!=null&&r(n,["config"],LA(e,i,n)),n}function HA(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&r(t,["fileUri"],n);const i=s(e,["mimeType"]);return i!=null&&r(t,["mimeType"],i),t}function VA(e){const t={},n=s(e,["id"]);n!=null&&r(t,["id"],n);const i=s(e,["args"]);i!=null&&r(t,["args"],i);const o=s(e,["name"]);if(o!=null&&r(t,["name"],o),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function qA(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&r(t,["enableWidget"],n),t}function zA(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&r(t,["timeRangeFilter"],n),t}function PA(e,t){const n={},i=s(e,["generationConfig"]);t!==void 0&&i!=null&&r(t,["setup","generationConfig"],i);const o=s(e,["responseModalities"]);t!==void 0&&o!=null&&r(t,["setup","generationConfig","responseModalities"],o);const l=s(e,["temperature"]);t!==void 0&&l!=null&&r(t,["setup","generationConfig","temperature"],l);const a=s(e,["topP"]);t!==void 0&&a!=null&&r(t,["setup","generationConfig","topP"],a);const u=s(e,["topK"]);t!==void 0&&u!=null&&r(t,["setup","generationConfig","topK"],u);const c=s(e,["maxOutputTokens"]);t!==void 0&&c!=null&&r(t,["setup","generationConfig","maxOutputTokens"],c);const f=s(e,["mediaResolution"]);t!==void 0&&f!=null&&r(t,["setup","generationConfig","mediaResolution"],f);const d=s(e,["seed"]);t!==void 0&&d!=null&&r(t,["setup","generationConfig","seed"],d);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&r(t,["setup","generationConfig","speechConfig"],Yu(m));const p=s(e,["thinkingConfig"]);t!==void 0&&p!=null&&r(t,["setup","generationConfig","thinkingConfig"],p);const h=s(e,["enableAffectiveDialog"]);t!==void 0&&h!=null&&r(t,["setup","generationConfig","enableAffectiveDialog"],h);const T=s(e,["systemInstruction"]);t!==void 0&&T!=null&&r(t,["setup","systemInstruction"],bA(Ie(T)));const E=s(e,["tools"]);if(t!==void 0&&E!=null){let I=Bi(E);Array.isArray(I)&&(I=I.map(M=>FA(Pi(M)))),r(t,["setup","tools"],I)}const _=s(e,["sessionResumption"]);t!==void 0&&_!=null&&r(t,["setup","sessionResumption"],OA(_));const y=s(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&r(t,["setup","inputAudioTranscription"],y);const g=s(e,["outputAudioTranscription"]);t!==void 0&&g!=null&&r(t,["setup","outputAudioTranscription"],g);const v=s(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&r(t,["setup","realtimeInputConfig"],v);const S=s(e,["contextWindowCompression"]);t!==void 0&&S!=null&&r(t,["setup","contextWindowCompression"],S);const A=s(e,["proactivity"]);if(t!==void 0&&A!=null&&r(t,["setup","proactivity"],A),s(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function BA(e,t){const n={},i=s(t,["model"]);i!=null&&r(n,["setup","model"],X(e,i));const o=s(t,["config"]);return o!=null&&r(n,["config"],PA(o,n)),n}function kA(e){const t={},n=s(e,["mediaResolution"]);n!=null&&r(t,["mediaResolution"],n);const i=s(e,["codeExecutionResult"]);i!=null&&r(t,["codeExecutionResult"],i);const o=s(e,["executableCode"]);o!=null&&r(t,["executableCode"],o);const l=s(e,["fileData"]);l!=null&&r(t,["fileData"],HA(l));const a=s(e,["functionCall"]);a!=null&&r(t,["functionCall"],VA(a));const u=s(e,["functionResponse"]);u!=null&&r(t,["functionResponse"],u);const c=s(e,["inlineData"]);c!=null&&r(t,["inlineData"],UA(c));const f=s(e,["text"]);f!=null&&r(t,["text"],f);const d=s(e,["thought"]);d!=null&&r(t,["thought"],d);const m=s(e,["thoughtSignature"]);m!=null&&r(t,["thoughtSignature"],m);const p=s(e,["videoMetadata"]);return p!=null&&r(t,["videoMetadata"],p),t}function OA(e){const t={},n=s(e,["handle"]);if(n!=null&&r(t,["handle"],n),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function FA(e){const t={},n=s(e,["functionDeclarations"]);if(n!=null){let d=n;Array.isArray(d)&&(d=d.map(m=>m)),r(t,["functionDeclarations"],d)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=s(e,["googleSearchRetrieval"]);i!=null&&r(t,["googleSearchRetrieval"],i);const o=s(e,["computerUse"]);o!=null&&r(t,["computerUse"],o);const l=s(e,["fileSearch"]);l!=null&&r(t,["fileSearch"],l);const a=s(e,["codeExecution"]);if(a!=null&&r(t,["codeExecution"],a),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&r(t,["googleMaps"],qA(u));const c=s(e,["googleSearch"]);c!=null&&r(t,["googleSearch"],zA(c));const f=s(e,["urlContext"]);return f!=null&&r(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YA(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const o=Object.keys(i).map(l=>`${n}.${l}`);t.push(...o)}else t.push(n)}return t.join(",")}function JA(e,t){let n=null;const i=e.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const l=i.setup;typeof l=="object"&&l!==null?(e.bidiGenerateContentSetup=l,n=l):delete e.bidiGenerateContentSetup}else i!==void 0&&delete e.bidiGenerateContentSetup;const o=e.fieldMask;if(n){const l=YA(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)l?e.fieldMask=l:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];o.length>0&&(u=o.map(f=>a.includes(f)?`generationConfig.${f}`:f));const c=[];l&&c.push(l),u.length>0&&c.push(...u),c.length>0?e.fieldMask=c.join(","):delete e.fieldMask}else delete e.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}class XA extends Ft{constructor(t){super(),this.apiClient=t}async create(t){var n,i;let o,l="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=GA(this.apiClient,t);l=U("auth_tokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query;const c=JA(u,t.config);return o=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),o.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KA(e,t){const n={},i=s(e,["force"]);return t!==void 0&&i!=null&&r(t,["_query","force"],i),n}function QA(e){const t={},n=s(e,["name"]);n!=null&&r(t,["_url","name"],n);const i=s(e,["config"]);return i!=null&&KA(i,t),t}function ZA(e){const t={},n=s(e,["name"]);return n!=null&&r(t,["_url","name"],n),t}function $A(e,t){const n={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&r(t,["_query","pageSize"],i);const o=s(e,["pageToken"]);return t!==void 0&&o!=null&&r(t,["_query","pageToken"],o),n}function WA(e){const t={},n=s(e,["parent"]);n!=null&&r(t,["_url","parent"],n);const i=s(e,["config"]);return i!=null&&$A(i,t),t}function jA(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&r(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&r(t,["nextPageToken"],i);const o=s(e,["documents"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(a=>a)),r(t,["documents"],l)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eR extends Ft{constructor(t){super(),this.apiClient=t,this.list=async n=>new Fn(kt.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(t){var n,i;let o,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ZA(t);return l=U("{name}",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(t){var n,i;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=QA(t);o=U("{name}",a._url),l=a._query,delete a._url,delete a._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let o,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=WA(t);return l=U("{parent}/documents",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=jA(c),d=new bT;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tR extends Ft{constructor(t,n=new eR(t)){super(),this.apiClient=t,this.documents=n,this.list=async(i={})=>new Fn(kt.PAGED_ITEM_FILE_SEARCH_STORES,o=>this.listInternal(o),await this.listInternal(i),i)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,i;let o,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=YC(t);return l=U("fileSearchStores",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async get(t){var n,i;let o,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=KC(t);return l=U("{name}",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>c)}}async delete(t){var n,i;let o="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=XC(t);o=U("{name}",a._url),l=a._query,delete a._url,delete a._query,await this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let o,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=eA(t);return l=U("fileSearchStores",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=tA(c),d=new LT;return Object.assign(d,f),d})}}async uploadToFileSearchStoreInternal(t){var n,i;let o,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=nA(t);return l=U("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=iA(c),d=new GT;return Object.assign(d,f),d})}}async importFile(t){var n,i;let o,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=$C(t);return l=U("{file_search_store_name}:importFile",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),o.then(c=>{const f=ZC(c),d=new Pu;return Object.assign(d,f),d})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let bg=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return bg=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const nR=()=>bg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wr(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Ur=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ft extends Error{}class Le extends ft{constructor(t,n,i,o){super(`${Le.makeMessage(t,n,i)}`),this.status=t,this.headers=o,this.error=n}static makeMessage(t,n,i){const o=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return t&&o?`${t} ${o}`:t?`${t} status code (no body)`:o||"(no status code or body)"}static generate(t,n,i,o){if(!t||!o)return new Ha({message:i,cause:Ur(n)});const l=n;return t===400?new Gg(t,l,i,o):t===401?new Hg(t,l,i,o):t===403?new Vg(t,l,i,o):t===404?new qg(t,l,i,o):t===409?new zg(t,l,i,o):t===422?new Pg(t,l,i,o):t===429?new Bg(t,l,i,o):t>=500?new kg(t,l,i,o):new Le(t,l,i,o)}}class br extends Le{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Ha extends Le{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class Lg extends Ha{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Gg extends Le{}class Hg extends Le{}class Vg extends Le{}class qg extends Le{}class zg extends Le{}class Pg extends Le{}class Bg extends Le{}class kg extends Le{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iR=/^[a-z][a-z0-9+.-]*:/i,oR=e=>iR.test(e);let Lr=e=>(Lr=Array.isArray,Lr(e));const lR=Lr;let aR=lR;const Kd=aR;function sR(e){if(!e)return!0;for(const t in e)return!1;return!0}function rR(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const uR=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new ft(`${e} must be an integer`);if(t<0)throw new ft(`${e} must be a positive integer`);return t},cR=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fR=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $n="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dR(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const pR=()=>{var e,t,n,i,o;const l=dR();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$n,"X-Stainless-OS":Zd(Deno.build.os),"X-Stainless-Arch":Qd(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$n,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$n,"X-Stainless-OS":Zd((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Qd((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(o=globalThis.process.version)!==null&&o!==void 0?o:"unknown"};const a=mR();return a?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$n,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${a.browser}`,"X-Stainless-Runtime-Version":a.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":$n,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function mR(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const i=n.exec(navigator.userAgent);if(i){const o=i[1]||0,l=i[2]||0,a=i[3]||0;return{browser:t,version:`${o}.${l}.${a}`}}}return null}const Qd=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Zd=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let fl;const hR=()=>fl??(fl=pR());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gR(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Og(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function yR(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return Og({start(){},async pull(n){const{done:i,value:o}=await t.next();i?n.close():n.enqueue(o)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function Fg(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function vR(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const i=e.getReader(),o=i.cancel();i.releaseLock(),await o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TR=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yg=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function As(e,t,n){return Yg(),new File(e,t??"unknown_file",n)}function SR(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const ER=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jg=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",_R=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&Jg(e),CR=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function AR(e,t,n){if(Yg(),e=await e,_R(e))return e instanceof File?e:As([await e.arrayBuffer()],e.name);if(CR(e)){const o=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),As(await Gr(o),t,n)}const i=await Gr(e);if(t||(t=SR(e)),!(n!=null&&n.type)){const o=i.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof o=="string"&&(n=Object.assign(Object.assign({},n),{type:o}))}return As(i,t,n)}async function Gr(e){var t,n,i,o,l;let a=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)a.push(e);else if(Jg(e))a.push(e instanceof Blob?e:await e.arrayBuffer());else if(ER(e))try{for(var u=!0,c=ht(e),f;f=await c.next(),t=f.done,!t;u=!0){o=f.value,u=!1;const d=o;a.push(...await Gr(d))}}catch(d){n={error:d}}finally{try{!u&&!t&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}else{const d=(l=e==null?void 0:e.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof e}${d?`; constructor: ${d}`:""}${RR(e)}`)}return a}function RR(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xg{constructor(t){this._client=t}}Xg._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kg(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const $d=Object.freeze(Object.create(null)),MR=(e=Kg)=>function(n,...i){if(n.length===1)return n[0];let o=!1;const l=[],a=n.reduce((d,m,p)=>{var h,T,E;/[?#]/.test(m)&&(o=!0);const _=i[p];let y=(o?encodeURIComponent:e)(""+_);return p!==i.length&&(_==null||typeof _=="object"&&_.toString===((E=Object.getPrototypeOf((T=Object.getPrototypeOf((h=_.hasOwnProperty)!==null&&h!==void 0?h:$d))!==null&&T!==void 0?T:$d))===null||E===void 0?void 0:E.toString))&&(y=_+"",l.push({start:d.length+m.length,length:y.length,error:`Value of type ${Object.prototype.toString.call(_).slice(8,-1)} is not a valid path parameter`})),d+m+(p===i.length?"":y)},""),u=a.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=c.exec(u))!==null;)l.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(l.sort((d,m)=>d.start-m.start),l.length>0){let d=0;const m=l.reduce((p,h)=>{const T=" ".repeat(h.start-d),E="^".repeat(h.length);return d=h.start+h.length,p+T+E},"");throw new ft(`Path parameters result in path with invalid segments:
${l.map(p=>p.error).join(`
`)}
${a}
${m}`)}return a},dl=MR(Kg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qg extends Xg{create(t,n){var i;const{api_version:o=this._client.apiVersion}=t,l=ca(t,["api_version"]);if("model"in l&&"agent_config"in l)throw new ft("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new ft("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(dl`/${o}/interactions`,Object.assign(Object.assign({body:l},n),{stream:(i=t.stream)!==null&&i!==void 0?i:!1}))}delete(t,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.delete(dl`/${o}/interactions/${t}`,i)}cancel(t,n={},i){const{api_version:o=this._client.apiVersion}=n??{};return this._client.post(dl`/${o}/interactions/${t}/cancel`,i)}get(t,n={},i){var o;const l=n??{},{api_version:a=this._client.apiVersion}=l,u=ca(l,["api_version"]);return this._client.get(dl`/${a}/interactions/${t}`,Object.assign(Object.assign({query:u},i),{stream:(o=n==null?void 0:n.stream)!==null&&o!==void 0?o:!1}))}}Qg._key=Object.freeze(["interactions"]);class Zg extends Qg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NR(e){let t=0;for(const o of e)t+=o.length;const n=new Uint8Array(t);let i=0;for(const o of e)n.set(o,i),i+=o.length;return n}let pl;function Xu(e){let t;return(pl??(t=new globalThis.TextEncoder,pl=t.encode.bind(t)))(e)}let ml;function Wd(e){let t;return(ml??(t=new globalThis.TextDecoder,ml=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Va{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Xu(t):t;this.buffer=NR([this.buffer,n]);const i=[];let o;for(;(o=xR(this.buffer,this.carriageReturnIndex))!=null;){if(o.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=o.index;continue}if(this.carriageReturnIndex!=null&&(o.index!==this.carriageReturnIndex+1||o.carriage)){i.push(Wd(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?o.preceding-1:o.preceding,a=Wd(this.buffer.subarray(0,l));i.push(a),this.buffer=this.buffer.subarray(o.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}Va.NEWLINE_CHARS=new Set([`
`,"\r"]);Va.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function xR(e,t){for(let o=t??0;o<e.length;o++){if(e[o]===10)return{preceding:o,index:o+1,carriage:!1};if(e[o]===13)return{preceding:o,index:o+1,carriage:!0}}return null}function IR(e){for(let i=0;i<e.length-1;i++){if(e[i]===10&&e[i+1]===10||e[i]===13&&e[i+1]===13)return i+2;if(e[i]===13&&e[i+1]===10&&i+3<e.length&&e[i+2]===13&&e[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fa={off:0,error:200,warn:300,info:400,debug:500},jd=(e,t,n)=>{if(e){if(rR(fa,e))return e;we(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(fa))}`)}};function no(){}function hl(e,t,n){return!t||fa[e]>fa[n]?no:t[e].bind(t)}const DR={error:no,warn:no,info:no,debug:no};let ep=new WeakMap;function we(e){var t;const n=e.logger,i=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return DR;const o=ep.get(n);if(o&&o[0]===i)return o[1];const l={error:hl("error",n,i),warn:hl("warn",n,i),info:hl("info",n,i),debug:hl("debug",n,i)};return ep.set(n,[i,l]),l}const xn=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fi{constructor(t,n,i){this.iterator=t,this.controller=n,this.client=i}static fromSSEResponse(t,n,i){let o=!1;const l=i?we(i):console;function a(){return mt(this,arguments,function*(){var c,f,d,m;if(o)throw new ft("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let p=!1;try{try{for(var h=!0,T=ht(wR(t,n)),E;E=yield G(T.next()),c=E.done,!c;h=!0){m=E.value,h=!1;const _=m;if(!p)if(_.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield G(JSON.parse(_.data))}catch(y){throw l.error("Could not parse message into JSON:",_.data),l.error("From chunk:",_.raw),y}}}catch(_){f={error:_}}finally{try{!h&&!c&&(d=T.return)&&(yield G(d.call(T)))}finally{if(f)throw f.error}}p=!0}catch(_){if(wr(_))return yield G(void 0);throw _}finally{p||n.abort()}})}return new fi(a,n,i)}static fromReadableStream(t,n,i){let o=!1;function l(){return mt(this,arguments,function*(){var c,f,d,m;const p=new Va,h=Fg(t);try{for(var T=!0,E=ht(h),_;_=yield G(E.next()),c=_.done,!c;T=!0){m=_.value,T=!1;const y=m;for(const g of p.decode(y))yield yield G(g)}}catch(y){f={error:y}}finally{try{!T&&!c&&(d=E.return)&&(yield G(d.call(E)))}finally{if(f)throw f.error}}for(const y of p.flush())yield yield G(y)})}function a(){return mt(this,arguments,function*(){var c,f,d,m;if(o)throw new ft("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");o=!0;let p=!1;try{try{for(var h=!0,T=ht(l()),E;E=yield G(T.next()),c=E.done,!c;h=!0){m=E.value,h=!1;const _=m;p||_&&(yield yield G(JSON.parse(_)))}}catch(_){f={error:_}}finally{try{!h&&!c&&(d=T.return)&&(yield G(d.call(T)))}finally{if(f)throw f.error}}p=!0}catch(_){if(wr(_))return yield G(void 0);throw _}finally{p||n.abort()}})}return new fi(a,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],i=this.iterator(),o=l=>({next:()=>{if(l.length===0){const a=i.next();t.push(a),n.push(a)}return l.shift()}});return[new fi(()=>o(t),this.controller,this.client),new fi(()=>o(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return Og({async start(){n=t[Symbol.asyncIterator]()},async pull(i){try{const{value:o,done:l}=await n.next();if(l)return i.close();const a=Xu(JSON.stringify(o)+`
`);i.enqueue(a)}catch(o){i.error(o)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function wR(e,t){return mt(this,arguments,function*(){var i,o,l,a;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new ft("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new ft("Attempted to iterate over a response with no body");const u=new bR,c=new Va,f=Fg(e.body);try{for(var d=!0,m=ht(UR(f)),p;p=yield G(m.next()),i=p.done,!i;d=!0){a=p.value,d=!1;const h=a;for(const T of c.decode(h)){const E=u.decode(T);E&&(yield yield G(E))}}}catch(h){o={error:h}}finally{try{!d&&!i&&(l=m.return)&&(yield G(l.call(m)))}finally{if(o)throw o.error}}for(const h of c.flush()){const T=u.decode(h);T&&(yield yield G(T))}})}function UR(e){return mt(this,arguments,function*(){var n,i,o,l;let a=new Uint8Array;try{for(var u=!0,c=ht(e),f;f=yield G(c.next()),n=f.done,!n;u=!0){l=f.value,u=!1;const d=l;if(d==null)continue;const m=d instanceof ArrayBuffer?new Uint8Array(d):typeof d=="string"?Xu(d):d;let p=new Uint8Array(a.length+m.length);p.set(a),p.set(m,a.length),a=p;let h;for(;(h=IR(a))!==-1;)yield yield G(a.slice(0,h)),a=a.slice(h)}}catch(d){i={error:d}}finally{try{!u&&!n&&(o=c.return)&&(yield G(o.call(c)))}finally{if(i)throw i.error}}a.length>0&&(yield yield G(a))})}class bR{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,i,o]=LR(t,":");return o.startsWith(" ")&&(o=o.substring(1)),n==="event"?this.event=o:n==="data"&&this.data.push(o),null}}function LR(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function GR(e,t){const{response:n,requestLogID:i,retryOfRequestLogID:o,startTime:l}=t,a=await(async()=>{var u;if(t.options.stream)return we(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):fi.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const c=n.headers.get("content-type"),f=(u=c==null?void 0:c.split(";")[0])===null||u===void 0?void 0:u.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return we(e).debug(`[${i}] response parsed`,xn({retryOfRequestLogID:o,url:n.url,status:n.status,body:a,durationMs:Date.now()-l})),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ku extends Promise{constructor(t,n,i=GR){super(o=>{o(null)}),this.responsePromise=n,this.parseResponse=i,this.client=t}_thenUnwrap(t){return new Ku(this.client,this.responsePromise,async(n,i)=>t(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $g=Symbol("brand.privateNullableHeaders");function*HR(e){if(!e)return;if($g in e){const{values:i,nulls:o}=e;yield*i.entries();for(const l of o)yield[l,null];return}let t=!1,n;e instanceof Headers?n=e.entries():Kd(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let i of n){const o=i[0];if(typeof o!="string")throw new TypeError("expected header name to be a string");const l=Kd(i[1])?i[1]:[i[1]];let a=!1;for(const u of l)u!==void 0&&(t&&!a&&(a=!0,yield[o,null]),yield[o,u])}}const Rs=e=>{const t=new Headers,n=new Set;for(const i of e){const o=new Set;for(const[l,a]of HR(i)){const u=l.toLowerCase();o.has(u)||(t.delete(l),o.add(u)),a===null?(t.delete(l),n.add(u)):(t.append(l,a),n.delete(u))}}return{[$g]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ms=e=>{var t,n,i,o,l,a;if(typeof globalThis.process<"u")return(i=(n=(t=rT)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(a=(l=(o=globalThis.Deno.env)===null||o===void 0?void 0:o.get)===null||l===void 0?void 0:l.call(o,e))===null||a===void 0?void 0:a.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wg;class qa{constructor(t){var n,i,o,l,a,u,c,f=t===void 0?{}:t,{baseURL:d=Ms("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:m=(n=Ms("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=f,h=ca(f,["baseURL","apiKey","apiVersion"]);const T=Object.assign(Object.assign({apiKey:m,apiVersion:p},h),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=T.baseURL,this.timeout=(i=T.timeout)!==null&&i!==void 0?i:qa.DEFAULT_TIMEOUT,this.logger=(o=T.logger)!==null&&o!==void 0?o:console;const E="warn";this.logLevel=E,this.logLevel=(a=(l=jd(T.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:jd(Ms("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&a!==void 0?a:E,this.fetchOptions=T.fetchOptions,this.maxRetries=(u=T.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(c=T.fetch)!==null&&c!==void 0?c:gR(),this.encoder=TR,this._options=T,this.apiKey=m,this.apiVersion=p}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){if(this.apiKey!=null)return Rs([{"x-goog-api-key":this.apiKey}])}stringifyQuery(t){return Object.entries(t).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new ft(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${$n}`}defaultIdempotencyKey(){return`stainless-node-retry-${nR()}`}makeStatusError(t,n,i,o){return Le.generate(t,n,i,o)}buildURL(t,n,i){const o=!this.baseURLOverridden()&&i||this.baseURL,l=oR(t)?new URL(t):new URL(o+(o.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),a=this.defaultQuery();return sR(a)||(n=Object.assign(Object.assign({},a),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(l.search=this.stringifyQuery(n)),l.toString()}async prepareOptions(t){}async prepareRequest(t,{url:n,options:i}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,i){return this.request(Promise.resolve(i).then(o=>Object.assign({method:t,path:n},o)))}request(t,n=null){return new Ku(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,i){var o,l,a;const u=await t,c=(o=u.maxRetries)!==null&&o!==void 0?o:this.maxRetries;n==null&&(n=c),await this.prepareOptions(u);const{req:f,url:d,timeout:m}=await this.buildRequest(u,{retryCount:c-n});await this.prepareRequest(f,{url:d,options:u});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),h=i===void 0?"":`, retryOf: ${i}`,T=Date.now();if(we(this).debug(`[${p}] sending request`,xn({retryOfRequestLogID:i,method:u.method,url:d,options:u,headers:f.headers})),!((l=u.signal)===null||l===void 0)&&l.aborted)throw new br;const E=new AbortController,_=await this.fetchWithTimeout(d,f,m,E).catch(Ur),y=Date.now();if(_ instanceof globalThis.Error){const v=`retrying, ${n} attempts remaining`;if(!((a=u.signal)===null||a===void 0)&&a.aborted)throw new br;const S=wr(_)||/timed? ?out/i.test(String(_)+("cause"in _?String(_.cause):""));if(n)return we(this).info(`[${p}] connection ${S?"timed out":"failed"} - ${v}`),we(this).debug(`[${p}] connection ${S?"timed out":"failed"} (${v})`,xn({retryOfRequestLogID:i,url:d,durationMs:y-T,message:_.message})),this.retryRequest(u,n,i??p);throw we(this).info(`[${p}] connection ${S?"timed out":"failed"} - error; no more retries left`),we(this).debug(`[${p}] connection ${S?"timed out":"failed"} (error; no more retries left)`,xn({retryOfRequestLogID:i,url:d,durationMs:y-T,message:_.message})),S?new Lg:new Ha({cause:_})}const g=`[${p}${h}] ${f.method} ${d} ${_.ok?"succeeded":"failed"} with status ${_.status} in ${y-T}ms`;if(!_.ok){const v=await this.shouldRetry(_);if(n&&v){const x=`retrying, ${n} attempts remaining`;return await vR(_.body),we(this).info(`${g} - ${x}`),we(this).debug(`[${p}] response error (${x})`,xn({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,durationMs:y-T})),this.retryRequest(u,n,i??p,_.headers)}const S=v?"error; no more retries left":"error; not retryable";we(this).info(`${g} - ${S}`);const A=await _.text().catch(x=>Ur(x).message),I=cR(A),M=I?void 0:A;throw we(this).debug(`[${p}] response error (${S})`,xn({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,message:M,durationMs:Date.now()-T})),this.makeStatusError(_.status,I,M,_.headers)}return we(this).info(g),we(this).debug(`[${p}] response start`,xn({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,durationMs:y-T})),{response:_,options:u,controller:E,requestLogID:p,retryOfRequestLogID:i,startTime:T}}async fetchWithTimeout(t,n,i,o){const l=n||{},{signal:a,method:u}=l,c=ca(l,["signal","method"]);a&&a.addEventListener("abort",()=>o.abort());const f=setTimeout(()=>o.abort(),i),d=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,m=Object.assign(Object.assign(Object.assign({signal:o.signal},d?{duplex:"half"}:{}),{method:"GET"}),c);u&&(m.method=u.toUpperCase());try{return await this.fetch.call(void 0,t,m)}finally{clearTimeout(f)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,i,o){var l;let a;const u=o==null?void 0:o.get("retry-after-ms");if(u){const f=parseFloat(u);Number.isNaN(f)||(a=f)}const c=o==null?void 0:o.get("retry-after");if(c&&!a){const f=parseFloat(c);Number.isNaN(f)?a=Date.parse(c)-Date.now():a=f*1e3}if(!(a&&0<=a&&a<60*1e3)){const f=(l=t.maxRetries)!==null&&l!==void 0?l:this.maxRetries;a=this.calculateDefaultRetryTimeoutMillis(n,f)}return await fR(a),this.makeRequest(t,n-1,i)}calculateDefaultRetryTimeoutMillis(t,n){const l=n-t,a=Math.min(.5*Math.pow(2,l),8),u=1-Math.random()*.25;return a*u*1e3}async buildRequest(t,{retryCount:n=0}={}){var i,o,l;const a=Object.assign({},t),{method:u,path:c,query:f,defaultBaseURL:d}=a,m=this.buildURL(c,f,d);"timeout"in a&&uR("timeout",a.timeout),a.timeout=(i=a.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:p,body:h}=this.buildBody({options:a}),T=await this.buildHeaders({options:t,method:u,bodyHeaders:p,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:T},a.signal&&{signal:a.signal}),globalThis.ReadableStream&&h instanceof globalThis.ReadableStream&&{duplex:"half"}),h&&{body:h}),(o=this.fetchOptions)!==null&&o!==void 0?o:{}),(l=a.fetchOptions)!==null&&l!==void 0?l:{}),url:m,timeout:a.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:i,retryCount:o}){let l={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=t.idempotencyKey);const a=Rs([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),hR()),await this.authHeaders(t),this._options.defaultHeaders,i,t.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const i=Rs([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&i.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:yR(t)}:this.encoder({body:t,headers:i})}}qa.DEFAULT_TIMEOUT=6e4;class Ce extends qa{constructor(){super(...arguments),this.interactions=new Zg(this)}}Wg=Ce;Ce.GeminiNextGenAPIClient=Wg;Ce.GeminiNextGenAPIClientError=ft;Ce.APIError=Le;Ce.APIConnectionError=Ha;Ce.APIConnectionTimeoutError=Lg;Ce.APIUserAbortError=br;Ce.NotFoundError=qg;Ce.ConflictError=zg;Ce.RateLimitError=Bg;Ce.BadRequestError=Gg;Ce.AuthenticationError=Hg;Ce.InternalServerError=kg;Ce.PermissionDeniedError=Vg;Ce.UnprocessableEntityError=Pg;Ce.toFile=AR;Ce.Interactions=Zg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VR(e,t){const n={},i=s(e,["name"]);return i!=null&&r(n,["_url","name"],i),n}function qR(e,t){const n={},i=s(e,["name"]);return i!=null&&r(n,["_url","name"],i),n}function zR(e,t){const n={},i=s(e,["sdkHttpResponse"]);return i!=null&&r(n,["sdkHttpResponse"],i),n}function PR(e,t){const n={},i=s(e,["sdkHttpResponse"]);return i!=null&&r(n,["sdkHttpResponse"],i),n}function BR(e,t,n){const i={};if(s(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=s(e,["tunedModelDisplayName"]);if(t!==void 0&&o!=null&&r(t,["displayName"],o),s(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=s(e,["epochCount"]);t!==void 0&&l!=null&&r(t,["tuningTask","hyperparameters","epochCount"],l);const a=s(e,["learningRateMultiplier"]);if(a!=null&&r(i,["tuningTask","hyperparameters","learningRateMultiplier"],a),s(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(e,["batchSize"]);t!==void 0&&u!=null&&r(t,["tuningTask","hyperparameters","batchSize"],u);const c=s(e,["learningRate"]);if(t!==void 0&&c!=null&&r(t,["tuningTask","hyperparameters","learningRate"],c),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function kR(e,t,n){const i={};let o=s(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const h=s(e,["validationDataset"]);t!==void 0&&h!=null&&r(t,["supervisedTuningSpec"],tp(h))}else if(o==="PREFERENCE_TUNING"){const h=s(e,["validationDataset"]);t!==void 0&&h!=null&&r(t,["preferenceOptimizationSpec"],tp(h))}const l=s(e,["tunedModelDisplayName"]);t!==void 0&&l!=null&&r(t,["tunedModelDisplayName"],l);const a=s(e,["description"]);t!==void 0&&a!=null&&r(t,["description"],a);let u=s(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const h=s(e,["epochCount"]);t!==void 0&&h!=null&&r(t,["supervisedTuningSpec","hyperParameters","epochCount"],h)}else if(u==="PREFERENCE_TUNING"){const h=s(e,["epochCount"]);t!==void 0&&h!=null&&r(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],h)}let c=s(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const h=s(e,["learningRateMultiplier"]);t!==void 0&&h!=null&&r(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h)}else if(c==="PREFERENCE_TUNING"){const h=s(e,["learningRateMultiplier"]);t!==void 0&&h!=null&&r(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],h)}let f=s(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const h=s(e,["exportLastCheckpointOnly"]);t!==void 0&&h!=null&&r(t,["supervisedTuningSpec","exportLastCheckpointOnly"],h)}else if(f==="PREFERENCE_TUNING"){const h=s(e,["exportLastCheckpointOnly"]);t!==void 0&&h!=null&&r(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],h)}let d=s(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const h=s(e,["adapterSize"]);t!==void 0&&h!=null&&r(t,["supervisedTuningSpec","hyperParameters","adapterSize"],h)}else if(d==="PREFERENCE_TUNING"){const h=s(e,["adapterSize"]);t!==void 0&&h!=null&&r(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],h)}if(s(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=s(e,["labels"]);t!==void 0&&m!=null&&r(t,["labels"],m);const p=s(e,["beta"]);return t!==void 0&&p!=null&&r(t,["preferenceOptimizationSpec","hyperParameters","beta"],p),i}function OR(e,t){const n={},i=s(e,["baseModel"]);i!=null&&r(n,["baseModel"],i);const o=s(e,["preTunedModel"]);o!=null&&r(n,["preTunedModel"],o);const l=s(e,["trainingDataset"]);l!=null&&eM(l);const a=s(e,["config"]);return a!=null&&BR(a,n),n}function FR(e,t){const n={},i=s(e,["baseModel"]);i!=null&&r(n,["baseModel"],i);const o=s(e,["preTunedModel"]);o!=null&&r(n,["preTunedModel"],o);const l=s(e,["trainingDataset"]);l!=null&&tM(l,n,t);const a=s(e,["config"]);return a!=null&&kR(a,n,t),n}function YR(e,t){const n={},i=s(e,["name"]);return i!=null&&r(n,["_url","name"],i),n}function JR(e,t){const n={},i=s(e,["name"]);return i!=null&&r(n,["_url","name"],i),n}function XR(e,t,n){const i={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&r(t,["_query","pageSize"],o);const l=s(e,["pageToken"]);t!==void 0&&l!=null&&r(t,["_query","pageToken"],l);const a=s(e,["filter"]);return t!==void 0&&a!=null&&r(t,["_query","filter"],a),i}function KR(e,t,n){const i={},o=s(e,["pageSize"]);t!==void 0&&o!=null&&r(t,["_query","pageSize"],o);const l=s(e,["pageToken"]);t!==void 0&&l!=null&&r(t,["_query","pageToken"],l);const a=s(e,["filter"]);return t!==void 0&&a!=null&&r(t,["_query","filter"],a),i}function QR(e,t){const n={},i=s(e,["config"]);return i!=null&&XR(i,n),n}function ZR(e,t){const n={},i=s(e,["config"]);return i!=null&&KR(i,n),n}function $R(e,t){const n={},i=s(e,["sdkHttpResponse"]);i!=null&&r(n,["sdkHttpResponse"],i);const o=s(e,["nextPageToken"]);o!=null&&r(n,["nextPageToken"],o);const l=s(e,["tunedModels"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>jg(u))),r(n,["tuningJobs"],a)}return n}function WR(e,t){const n={},i=s(e,["sdkHttpResponse"]);i!=null&&r(n,["sdkHttpResponse"],i);const o=s(e,["nextPageToken"]);o!=null&&r(n,["nextPageToken"],o);const l=s(e,["tuningJobs"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(u=>Hr(u))),r(n,["tuningJobs"],a)}return n}function jR(e,t){const n={},i=s(e,["name"]);i!=null&&r(n,["model"],i);const o=s(e,["name"]);return o!=null&&r(n,["endpoint"],o),n}function eM(e,t){const n={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=s(e,["examples"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),r(n,["examples","examples"],o)}return n}function tM(e,t,n){const i={};let o=s(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const a=s(e,["gcsUri"]);t!==void 0&&a!=null&&r(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(o==="PREFERENCE_TUNING"){const a=s(e,["gcsUri"]);t!==void 0&&a!=null&&r(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}let l=s(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const a=s(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&r(t,["supervisedTuningSpec","trainingDatasetUri"],a)}else if(l==="PREFERENCE_TUNING"){const a=s(e,["vertexDatasetResource"]);t!==void 0&&a!=null&&r(t,["preferenceOptimizationSpec","trainingDatasetUri"],a)}if(s(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function jg(e,t){const n={},i=s(e,["sdkHttpResponse"]);i!=null&&r(n,["sdkHttpResponse"],i);const o=s(e,["name"]);o!=null&&r(n,["name"],o);const l=s(e,["state"]);l!=null&&r(n,["state"],pg(l));const a=s(e,["createTime"]);a!=null&&r(n,["createTime"],a);const u=s(e,["tuningTask","startTime"]);u!=null&&r(n,["startTime"],u);const c=s(e,["tuningTask","completeTime"]);c!=null&&r(n,["endTime"],c);const f=s(e,["updateTime"]);f!=null&&r(n,["updateTime"],f);const d=s(e,["description"]);d!=null&&r(n,["description"],d);const m=s(e,["baseModel"]);m!=null&&r(n,["baseModel"],m);const p=s(e,["_self"]);return p!=null&&r(n,["tunedModel"],jR(p)),n}function Hr(e,t){const n={},i=s(e,["sdkHttpResponse"]);i!=null&&r(n,["sdkHttpResponse"],i);const o=s(e,["name"]);o!=null&&r(n,["name"],o);const l=s(e,["state"]);l!=null&&r(n,["state"],pg(l));const a=s(e,["createTime"]);a!=null&&r(n,["createTime"],a);const u=s(e,["startTime"]);u!=null&&r(n,["startTime"],u);const c=s(e,["endTime"]);c!=null&&r(n,["endTime"],c);const f=s(e,["updateTime"]);f!=null&&r(n,["updateTime"],f);const d=s(e,["error"]);d!=null&&r(n,["error"],d);const m=s(e,["description"]);m!=null&&r(n,["description"],m);const p=s(e,["baseModel"]);p!=null&&r(n,["baseModel"],p);const h=s(e,["tunedModel"]);h!=null&&r(n,["tunedModel"],h);const T=s(e,["preTunedModel"]);T!=null&&r(n,["preTunedModel"],T);const E=s(e,["supervisedTuningSpec"]);E!=null&&r(n,["supervisedTuningSpec"],E);const _=s(e,["preferenceOptimizationSpec"]);_!=null&&r(n,["preferenceOptimizationSpec"],_);const y=s(e,["tuningDataStats"]);y!=null&&r(n,["tuningDataStats"],y);const g=s(e,["encryptionSpec"]);g!=null&&r(n,["encryptionSpec"],g);const v=s(e,["partnerModelTuningSpec"]);v!=null&&r(n,["partnerModelTuningSpec"],v);const S=s(e,["customBaseModel"]);S!=null&&r(n,["customBaseModel"],S);const A=s(e,["experiment"]);A!=null&&r(n,["experiment"],A);const I=s(e,["labels"]);I!=null&&r(n,["labels"],I);const M=s(e,["outputUri"]);M!=null&&r(n,["outputUri"],M);const D=s(e,["pipelineJob"]);D!=null&&r(n,["pipelineJob"],D);const x=s(e,["serviceAccount"]);x!=null&&r(n,["serviceAccount"],x);const N=s(e,["tunedModelDisplayName"]);N!=null&&r(n,["tunedModelDisplayName"],N);const b=s(e,["veoTuningSpec"]);return b!=null&&r(n,["veoTuningSpec"],b),n}function nM(e,t){const n={},i=s(e,["sdkHttpResponse"]);i!=null&&r(n,["sdkHttpResponse"],i);const o=s(e,["name"]);o!=null&&r(n,["name"],o);const l=s(e,["metadata"]);l!=null&&r(n,["metadata"],l);const a=s(e,["done"]);a!=null&&r(n,["done"],a);const u=s(e,["error"]);return u!=null&&r(n,["error"],u),n}function tp(e,t){const n={},i=s(e,["gcsUri"]);i!=null&&r(n,["validationDatasetUri"],i);const o=s(e,["vertexDatasetResource"]);return o!=null&&r(n,["validationDatasetUri"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class iM extends Ft{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new Fn(kt.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const o={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(o.checkpointId=n.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},n),{preTunedModel:o});return l.baseModel=void 0,await this.tuneInternal(l)}else{const o=Object.assign({},n);return await this.tuneInternal(o)}else{const o=Object.assign({},n),l=await this.tuneMldevInternal(o);let a="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?a=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(a=l.name.split("/operations/")[0]),{name:a,state:Ar.JOB_STATE_QUEUED}}}}async getInternal(t){var n,i,o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=JR(t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>Hr(d))}else{const f=YR(t);return u=U("{name}",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>jg(d))}}async listInternal(t){var n,i,o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=ZR(t);return u=U("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=WR(d),p=new Nd;return Object.assign(p,m),p})}else{const f=QR(t);return u=U("tunedModels",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=$R(d),p=new Nd;return Object.assign(p,m),p})}}async cancel(t){var n,i,o,l;let a,u="",c={};if(this.apiClient.isVertexAI()){const f=qR(t);return u=U("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=PR(d),p=new xd;return Object.assign(p,m),p})}else{const f=VR(t);return u=U("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=t.config)===null||l===void 0?void 0:l.abortSignal}).then(d=>d.json().then(m=>{const p=m;return p.sdkHttpResponse={headers:d.headers},p})),a.then(d=>{const m=zR(d),p=new xd;return Object.assign(p,m),p})}}async tuneInternal(t){var n,i;let o,l="",a={};if(this.apiClient.isVertexAI()){const u=FR(t,t);return l=U("tuningJobs",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>Hr(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,i;let o,l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=OR(t);return l=U("tunedModels",u._url),a=u._query,delete u._url,delete u._query,o=this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json().then(f=>{const d=f;return d.sdkHttpResponse={headers:c.headers},d})),o.then(c=>nM(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oM{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const lM=1024*1024*8,aM=3,sM=1e3,rM=2,da="x-goog-upload-status";async function uM(e,t,n){var i;const o=await ey(e,t,n),l=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[da])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function cM(e,t,n){var i;const o=await ey(e,t,n),l=await(o==null?void 0:o.json());if(((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[da])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const a=sg(l),u=new Bu;return Object.assign(u,a),u}async function ey(e,t,n){var i,o;let l=0,a=0,u=new Rr(new Response),c="upload";for(l=e.size;a<l;){const f=Math.min(lM,l-a),d=e.slice(a,a+f);a+f>=l&&(c+=", finalize");let m=0,p=sM;for(;m<aM&&(u=await n.request({path:"",body:d,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(a),"Content-Length":String(f)}}}),!(!((i=u==null?void 0:u.headers)===null||i===void 0)&&i[da]));)m++,await dM(p),p=p*rM;if(a+=f,((o=u==null?void 0:u.headers)===null||o===void 0?void 0:o[da])!=="active")break;if(l<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function fM(e){return{size:e.size,type:e.type}}function dM(e){return new Promise(t=>setTimeout(t,e))}class pM{async upload(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await uM(t,n,i)}async uploadToFileSearchStore(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await cM(t,n,i)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await fM(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mM{create(t,n,i){return new hM(t,n,i)}}class hM{constructor(t,n,i){this.url=t,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const np="x-goog-api-key";class gM{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(np)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(np,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yM="gl-node/";class vM{get interactions(){if(this._interactions!==void 0)return this._interactions;if(console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions."),this.vertexai)throw new Error("This version of the GenAI SDK does not support Vertex AI API for interactions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new Ce({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const i=dT(t.httpOptions,t.vertexai,void 0,void 0);i&&(t.httpOptions?t.httpOptions.baseUrl=i:t.httpOptions={baseUrl:i}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const o=new gM(this.apiKey);this.apiClient=new fA({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:yM+"web",uploader:new pM,downloader:new oM}),this.models=new DA(this.apiClient),this.live=new AA(this.apiClient,o,new mM),this.batches=new BS(this.apiClient),this.chats=new _E(this.models,this.apiClient),this.caches=new TE(this.apiClient),this.files=new UE(this.apiClient),this.operations=new wA(this.apiClient),this.authTokens=new XA(this.apiClient),this.tunings=new iM(this.apiClient),this.fileSearchStores=new tR(this.apiClient)}}function TM(e){const t=atob(e),n=t.length,i=new Uint8Array(n);for(let o=0;o<n;o++)i[o]=t.charCodeAt(o);return i}async function SM(e,t=24e3,n=1){const i=new(window.AudioContext||window.webkitAudioContext)({sampleRate:t}),o=new Int16Array(e.buffer),l=o.length/n,a=i.createBuffer(n,l,t);for(let u=0;u<n;u++){const c=a.getChannelData(u);for(let f=0;f<l;f++)c[f]=o[f*n+u]/32768}return i.state!=="closed"&&await i.close(),a}function EM(e){const t=e.numberOfChannels,n=e.length*t*2+44,i=new ArrayBuffer(n),o=new DataView(i),l=[];let a,u,c=0,f=0;const d=p=>{o.setUint16(f,p,!0),f+=2},m=p=>{o.setUint32(f,p,!0),f+=4};for(m(1179011410),m(n-8),m(1163280727),m(544501094),m(16),d(1),d(t),m(e.sampleRate),m(e.sampleRate*2*t),d(t*2),d(16),m(1635017060),m(n-f-4),a=0;a<e.numberOfChannels;a++)l.push(e.getChannelData(a));for(;f<n;){for(a=0;a<t;a++)u=Math.max(-1,Math.min(1,l[a][c])),u=(.5+u<0?u*32768:u*32767)|0,o.setInt16(f,u,!0),f+=2;c++}return new Blob([i],{type:"audio/wav"})}const za=()=>new vM({apiKey:void 0}),_M=async e=>(await za().models.generateContent({model:"gemini-2.5-flash",contents:e,config:{systemInstruction:"You are the author 'hide'. Write a warm, personal, and passionate script in Japanese. Focus on connecting with the reader's heart."}})).text||"Script generation failed.",CM=async e=>{var a,u,c,f,d,m;const i=(m=(d=(f=(c=(u=(a=(await za().models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:e}]}],config:{responseModalities:[bo.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Charon"}}}}})).candidates)==null?void 0:a[0])==null?void 0:u.content)==null?void 0:c.parts)==null?void 0:f[0])==null?void 0:d.inlineData)==null?void 0:m.data;if(!i)throw new Error("No audio data returned");const o=TM(i);return await SM(o,24e3)},AM=async e=>{const n=await za().models.generateContent({model:"gemini-2.5-flash",contents:`
        Analyze the following narration script by author 'hide'.
        Create a presentation slide deck plan. Split the script into 6 to 8 logical slides.
        For each slide, extract the key information to display as text.
        
        **Requirements:**
        1. **slideTitle**: A short, catchy headline (max 15 chars) summarizing the point.
        2. **bulletPoints**: An array of 1 to 3 short sentences (max 30 chars each) capturing the core message of this segment.
        3. **visualPrompt**: 
           - If the segment is introducing the book, the author, or the conclusion, return exactly "**USE_BOOK_COVER**".
           - Otherwise, describe a **warm, friendly, Japanese anime-style illustration**. 
           - Use terms like "Watercolor style", "Studio Ghibli inspired", "Warm lighting", "Friendly characters", "Cozy atmosphere".
           - Avoid complex text in the image itself.
        
        Script:
        ${e}
      `,config:{responseMimeType:"application/json",responseSchema:{type:Ue.ARRAY,items:{type:Ue.OBJECT,properties:{scriptSegment:{type:Ue.STRING},slideTitle:{type:Ue.STRING},bulletPoints:{type:Ue.ARRAY,items:{type:Ue.STRING}},visualPrompt:{type:Ue.STRING}}}}}});return JSON.parse(n.text||"[]").map((o,l)=>({id:l,scriptSegment:o.scriptSegment,slideTitle:o.slideTitle,bulletPoints:o.bulletPoints,summaryText:o.slideTitle,visualPrompt:o.visualPrompt,isLoading:!1}))},RM=async(e,t)=>{var a,u,c;if(e==="USE_BOOK_COVER"){if(t)return t;e="A generic book with a colorful cover on a wooden table, anime style"}const n=za(),i=[],o=`${e}. Style: Japanese Anime Style, Watercolor, Warm and Friendly, Vibrant but soft colors, High quality illustration, No text in background.`;i.push({text:o});const l=await n.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:i},config:{imageConfig:{aspectRatio:"16:9"}}});for(const f of((c=(u=(a=l.candidates)==null?void 0:a[0])==null?void 0:u.content)==null?void 0:c.parts)||[])if(f.inlineData)return`data:image/png;base64,${f.inlineData.data}`;throw new Error("No image data found in response")};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NM=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,i)=>i?i.toUpperCase():n.toLowerCase()),ip=e=>{const t=NM(e);return t.charAt(0).toUpperCase()+t.slice(1)},ty=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim(),xM=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=F.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:a,...u},c)=>F.createElement("svg",{ref:c,...IM,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:ty("lucide",o),...!l&&!xM(u)&&{"aria-hidden":"true"},...u},[...a.map(([f,d])=>F.createElement(f,d)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(e,t)=>{const n=F.forwardRef(({className:i,...o},l)=>F.createElement(DM,{ref:l,iconNode:t,className:ty(`lucide-${MM(ip(e))}`,`lucide-${e}`,i),...o}));return n.displayName=ip(e),n};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ny=Oe("arrow-left",wM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],iy=Oe("arrow-right",UM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],LM=Oe("book-open",bM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],HM=Oe("circle-alert",GM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qM=Oe("circle-check",VM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],PM=Oe("download",zM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],oy=Oe("image",BM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],vo=Oe("loader-circle",kM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],ly=Oe("pause",OM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Vr=Oe("play",FM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],JM=Oe("refresh-cw",YM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],KM=Oe("sparkles",XM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ZM=Oe("upload",QM);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],WM=Oe("wand-sparkles",$M),jM=({onScriptConfirmed:e,initialScript:t})=>{const[n,i]=F.useState(t||""),[o,l]=F.useState(!1),[a,u]=F.useState(null),c=async()=>{l(!0),u(null);try{const f=await _M(sT);i(f)}catch(f){u("API"),console.error(f)}finally{l(!1)}};return C.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 max-w-4xl mx-auto border border-[#e7e5e4]",children:[C.jsxs("h2",{className:"text-2xl font-bold text-[#292524] mb-4 flex items-center gap-2",children:[C.jsx("span",{className:"bg-[#f5f5f4] text-[#57534e] w-8 h-8 rounded-full flex items-center justify-center text-sm border border-[#e7e5e4]",children:"1"}),""]}),C.jsxs("div",{className:"mb-6",children:[C.jsx("p",{className:"text-[#57534e] mb-4",children:"3AI"}),C.jsxs("button",{onClick:c,disabled:o,className:"bg-[#78716c] hover:bg-[#57534e] text-white font-medium py-3 px-6 rounded-lg shadow-sm transition-all flex items-center gap-2 disabled:opacity-50",children:[o?C.jsx(vo,{className:"animate-spin"}):C.jsx(WM,{size:20}),n?"":""]})]}),a&&C.jsx("div",{className:"bg-red-50 text-red-600 p-4 rounded-lg mb-4 text-sm border border-red-100",children:a}),C.jsxs("div",{className:"relative",children:[C.jsx("label",{className:"block text-sm font-medium text-[#57534e] mb-2",children:""}),C.jsx("textarea",{value:n,onChange:f=>i(f.target.value),className:"w-full h-96 p-4 border border-[#d6d3d1] rounded-lg focus:ring-2 focus:ring-[#a8a29e] focus:border-transparent font-mono text-base leading-relaxed resize-none bg-[#fafaf9] text-[#44403c]",placeholder:"..."}),C.jsxs("div",{className:"absolute bottom-4 right-4 text-xs text-[#a8a29e] pointer-events-none",children:[n.length,""]})]}),C.jsx("div",{className:"mt-6 flex justify-end",children:C.jsxs("button",{onClick:()=>e(n),disabled:!n,className:"bg-[#292524] hover:bg-black text-white py-3 px-8 rounded-lg font-medium transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:[" ",C.jsx(iy,{size:18})]})})]})},eN=({script:e,onBack:t,onNext:n})=>{const[i,o]=F.useState(null),[l,a]=F.useState(!1),[u,c]=F.useState(!1),[f,d]=F.useState(null),m=F.useRef(null),p=F.useRef(null),h=F.useRef(0),T=F.useRef(0);F.useEffect(()=>(m.current=new(window.AudioContext||window.webkitAudioContext),()=>{var S,A;((S=m.current)==null?void 0:S.state)!=="closed"&&((A=m.current)==null||A.close())}),[]);const E=async()=>{a(!0),d(null);try{const A=await CM(e);o(A)}catch(S){console.error(S),d("API")}finally{a(!1)}},_=()=>{if(!i||!m.current)return;m.current.state==="suspended"&&m.current.resume();const S=m.current.createBufferSource();S.buffer=i,S.connect(m.current.destination);const A=T.current%i.duration;S.start(0,A),h.current=m.current.currentTime-A,p.current=S,c(!0),S.onended=()=>{c(!1),T.current=0}},y=()=>{p.current&&(p.current.stop(),m.current&&(T.current=m.current.currentTime-h.current),c(!1))},g=()=>{u?y():_()},v=()=>{if(!i)return;const S=EM(i),A=URL.createObjectURL(S),I=document.createElement("a");I.href=A,I.download="fortune_book_narration.wav",document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(A)};return C.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 max-w-4xl mx-auto border border-[#e7e5e4]",children:[C.jsxs("h2",{className:"text-2xl font-bold text-[#292524] mb-4 flex items-center gap-2",children:[C.jsx("span",{className:"bg-[#f5f5f4] text-[#57534e] w-8 h-8 rounded-full flex items-center justify-center text-sm border border-[#e7e5e4]",children:"2"}),"AI"]}),C.jsxs("div",{className:"mb-6 p-4 bg-[#f5f5f4] rounded-lg text-sm text-[#57534e] flex items-start gap-3 border border-[#e7e5e4]",children:[C.jsx(HM,{className:"shrink-0 mt-0.5 text-[#a8a29e]",size:18}),C.jsxs("div",{children:[C.jsx("p",{className:"font-semibold",children:"Gemini 2.5 Flash TTS Preview"}),C.jsx("p",{children:""})]})]}),i?C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:"flex flex-col items-center justify-center p-12 bg-[#fafaf9] rounded-lg border border-[#e7e5e4]",children:[C.jsx("div",{className:"w-32 h-32 bg-[#e7e5e4] rounded-full flex items-center justify-center shadow-inner mb-6",children:C.jsx("button",{onClick:g,className:"w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-lg hover:scale-105 transition-transform text-[#57534e]",children:u?C.jsx(ly,{size:32,fill:"currentColor"}):C.jsx(Vr,{size:32,fill:"currentColor",className:"ml-1"})})}),C.jsx("p",{className:"text-[#44403c] font-medium",children:""}),C.jsxs("p",{className:"text-xs text-[#a8a29e] mt-2 mb-4",children:[Math.floor(i.duration/60)," ",Math.round(i.duration%60),""]}),C.jsxs("button",{onClick:v,className:"flex items-center gap-2 text-[#78716c] hover:text-[#292524] px-4 py-2 rounded-lg border border-[#d6d3d1] hover:bg-white transition-colors text-sm",children:[C.jsx(PM,{size:16})," (.wav)"]})]}),f&&C.jsx("p",{className:"text-red-500 text-center",children:f})]}):C.jsxs("div",{className:"text-center py-12 border-2 border-dashed border-[#d6d3d1] rounded-lg bg-[#fafaf9]",children:[C.jsx("p",{className:"text-[#78716c] mb-6",children:"AI"}),C.jsx("button",{onClick:E,disabled:l,className:"bg-[#78716c] hover:bg-[#57534e] text-white font-medium py-3 px-8 rounded-full hover:shadow-lg transition-all flex items-center gap-2 mx-auto disabled:opacity-50",children:l?C.jsxs(C.Fragment,{children:[C.jsx(vo,{className:"animate-spin"})," ..."]}):""})]}),C.jsxs("div",{className:"mt-8 flex justify-between",children:[C.jsxs("button",{onClick:t,className:"text-[#78716c] hover:text-[#44403c] font-medium py-2 px-4 flex items-center gap-2",children:[C.jsx(ny,{size:18})," "]}),C.jsxs("button",{onClick:()=>i&&n(i),disabled:!i,className:"bg-[#292524] hover:bg-black text-white py-3 px-8 rounded-lg font-medium transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed shadow-md",children:[" ",C.jsx(iy,{size:18})]})]})]})},tN=({script:e,audioBuffer:t,bookCoverImage:n,onBack:i})=>{var x;const[o,l]=F.useState([]),[a,u]=F.useState(!1),[c,f]=F.useState(!1),[d,m]=F.useState(0),[p,h]=F.useState(0),T=F.useRef(null),E=F.useRef(null),_=F.useRef(0),y=F.useRef(0),g=F.useRef(0);F.useEffect(()=>((async()=>{u(!0);try{const b=await AM(e);l(b),b.forEach(J=>v(J,n))}catch(b){console.error("Planning failed",b)}finally{u(!1)}})(),T.current=new(window.AudioContext||window.webkitAudioContext),()=>{var b,J;((b=T.current)==null?void 0:b.state)!=="closed"&&((J=T.current)==null||J.close()),g.current&&cancelAnimationFrame(g.current)}),[e]);const v=async(N,b)=>{l(J=>J.map(q=>q.id===N.id?{...q,isLoading:!0}:q));try{if(N.visualPrompt==="USE_BOOK_COVER"&&b){l(q=>q.map(W=>W.id===N.id?{...W,isLoading:!1,imageData:b}:W));return}const J=await RM(N.visualPrompt,b||void 0);l(q=>q.map(W=>W.id===N.id?{...W,isLoading:!1,imageData:J}:W))}catch(J){console.error(`Image gen failed for slide ${N.id}`,J),l(b?q=>q.map(W=>W.id===N.id?{...W,isLoading:!1,imageData:b}:W):q=>q.map(W=>W.id===N.id?{...W,isLoading:!1}:W))}},S=()=>{if(!T.current)return;const N=T.current.currentTime-_.current,b=t.duration;if(N>=b){f(!1),h(100),m(o.length-1);return}h(N/b*100);const J=b/o.length,q=Math.min(Math.floor(N/J),o.length-1);m(q),g.current=requestAnimationFrame(S)},A=()=>{if(!T.current)return;T.current.state==="suspended"&&T.current.resume();const N=T.current.createBufferSource();N.buffer=t,N.connect(T.current.destination);const b=y.current%t.duration;N.start(0,b),_.current=T.current.currentTime-b,E.current=N,f(!0),S(),N.onended=()=>{}},I=()=>{E.current&&(E.current.stop(),T.current&&(y.current=T.current.currentTime-_.current),f(!1),cancelAnimationFrame(g.current))},M=()=>c?I():A(),D=o[d];return C.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 max-w-6xl mx-auto border border-[#e7e5e4]",children:[C.jsxs("h2",{className:"text-2xl font-bold text-[#292524] mb-6 flex items-center gap-2",children:[C.jsx("span",{className:"bg-[#f5f5f4] text-[#57534e] w-8 h-8 rounded-full flex items-center justify-center text-sm border border-[#e7e5e4]",children:"3"}),""]}),a&&o.length===0?C.jsxs("div",{className:"text-center py-20",children:[C.jsx(vo,{className:"animate-spin w-12 h-12 text-[#d6d3d1] mx-auto mb-4"}),C.jsx("p",{className:"text-[#57534e]",children:"..."})]}):C.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[C.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[C.jsxs("div",{className:"aspect-video bg-[#fafaf9] rounded-xl overflow-hidden relative shadow-lg border border-[#e7e5e4] group",children:[D!=null&&D.imageData?C.jsx("img",{src:D.imageData,alt:"visual",className:"absolute inset-0 w-full h-full object-cover transition-opacity duration-500"}):C.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-[#f5f5f4]",children:D!=null&&D.isLoading?C.jsx(vo,{className:"animate-spin text-[#d6d3d1]"}):C.jsx(oy,{className:"text-[#d6d3d1]",size:48})}),D&&C.jsxs("div",{className:"absolute bottom-6 left-6 right-6 bg-white/95 backdrop-blur-md p-6 rounded-lg shadow-lg border border-white/50 transition-all duration-300",children:[C.jsx("h3",{className:"text-xl md:text-2xl font-bold text-[#44403c] mb-3 leading-tight font-serif",children:D.slideTitle}),C.jsx("div",{className:"flex flex-col gap-2",children:(x=D.bulletPoints)==null?void 0:x.map((N,b)=>C.jsxs("div",{className:"flex items-start gap-2",children:[C.jsx(qM,{className:"w-4 h-4 text-pink-500 mt-1 shrink-0"}),C.jsx("span",{className:"text-sm md:text-base text-[#57534e] font-medium",children:N})]},b))}),C.jsx("p",{className:"mt-4 pt-3 border-t border-gray-100 text-xs text-[#78716c]",children:D.scriptSegment})]}),!c&&C.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/10 group-hover:bg-black/20 transition-colors cursor-pointer z-20",onClick:A,children:C.jsx("div",{className:"w-20 h-20 bg-white shadow-xl rounded-full flex items-center justify-center",children:C.jsx(Vr,{size:32,className:"text-pink-600 ml-1",fill:"currentColor"})})})]}),C.jsxs("div",{className:"bg-[#f5f5f4] p-4 rounded-lg flex items-center gap-4 border border-[#e7e5e4]",children:[C.jsx("button",{onClick:M,className:"p-2 hover:bg-white rounded-full transition-colors text-[#57534e]",children:c?C.jsx(ly,{size:24}):C.jsx(Vr,{size:24})}),C.jsx("div",{className:"flex-1 h-2 bg-[#d6d3d1] rounded-full overflow-hidden",children:C.jsx("div",{className:"h-full bg-pink-500 transition-all duration-100 ease-linear",style:{width:`${p}%`}})}),C.jsxs("div",{className:"text-xs text-[#78716c] font-mono w-12 text-right",children:[Math.round(p/100*t.duration),"s"]})]})]}),C.jsxs("div",{className:"lg:col-span-1 h-[600px] overflow-y-auto pr-2 custom-scrollbar",children:[C.jsxs("h3",{className:"font-bold text-[#44403c] mb-4 sticky top-0 bg-white py-2 z-10 border-b border-[#e7e5e4]",children:[" (",o.length,")"]}),C.jsx("div",{className:"space-y-4",children:o.map((N,b)=>{var J;return C.jsx("div",{onClick:()=>{m(b)},className:`p-3 rounded-lg border cursor-pointer transition-all ${d===b?"border-pink-300 bg-pink-50":"border-[#e7e5e4] hover:border-[#d6d3d1] bg-white"}`,children:C.jsxs("div",{className:"flex gap-3",children:[C.jsxs("div",{className:"w-24 h-16 bg-[#f5f5f4] rounded overflow-hidden flex-shrink-0 relative border border-[#e7e5e4]",children:[N.isLoading?C.jsx("div",{className:"w-full h-full flex items-center justify-center",children:C.jsx(vo,{className:"animate-spin w-4 h-4 text-[#a8a29e]"})}):N.imageData?C.jsx("img",{src:N.imageData,className:"w-full h-full object-cover",alt:""}):C.jsx("div",{className:"w-full h-full bg-[#f5f5f4]"}),C.jsxs("div",{className:"absolute top-1 left-1 bg-black/50 text-white text-[10px] px-1.5 rounded",children:["#",b+1]})]}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsx("p",{className:"font-bold text-sm text-[#44403c] truncate mb-1",children:N.slideTitle}),C.jsx("p",{className:"text-xs text-[#78716c] line-clamp-2",children:(J=N.bulletPoints)==null?void 0:J[0]})]}),C.jsx("button",{onClick:q=>{q.stopPropagation(),v(N,n)},className:"text-[#a8a29e] hover:text-pink-600 self-center",title:"",children:C.jsx(JM,{size:14})})]})},N.id)})})]})]}),C.jsx("div",{className:"mt-8 flex justify-start",children:C.jsxs("button",{onClick:i,className:"text-[#78716c] hover:text-[#44403c] font-medium py-2 px-4 flex items-center gap-2",children:[C.jsx(ny,{size:18})," "]})})]})};function nN(){const[e,t]=F.useState(Xt.GENERATE_SCRIPT),[n,i]=F.useState(""),[o,l]=F.useState(null),[a,u]=F.useState(null),c=p=>{i(p),t(Xt.GENERATE_AUDIO)},f=p=>{l(p),t(Xt.GENERATE_SLIDES)},d=()=>{t(p=>Math.max(0,p-1))},m=p=>{var T;const h=(T=p.target.files)==null?void 0:T[0];if(h){const E=new FileReader;E.onloadend=()=>{u(E.result)},E.readAsDataURL(h)}};return C.jsxs("div",{className:"min-h-screen bg-[#fafaf9] pb-20 text-[#44403c]",children:[C.jsx("header",{className:"bg-white/90 backdrop-blur-md sticky top-0 z-10 border-b border-[#e7e5e4] shadow-sm",children:C.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("div",{className:"bg-[#d6d3d1] p-2 rounded-lg text-[#57534e]",children:C.jsx(KM,{size:24})}),C.jsxs("div",{children:[C.jsx("h1",{className:"text-xl font-bold text-[#292524] tracking-tight",children:""}),C.jsx("p",{className:"text-xs text-[#78716c] font-medium",children:"hide"})]})]}),C.jsxs("div",{className:"hidden sm:flex gap-4 text-sm font-medium text-[#a8a29e]",children:[C.jsx("div",{className:`flex items-center gap-1 ${e===1?"text-[#78716c] font-bold":""}`,children:"1. "}),C.jsx("div",{className:`flex items-center gap-1 ${e===2?"text-[#78716c] font-bold":""}`,children:"2. "}),C.jsx("div",{className:`flex items-center gap-1 ${e===3?"text-[#78716c] font-bold":""}`,children:"3. "})]})]})}),C.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-8",children:[e===Xt.GENERATE_SCRIPT&&C.jsx("div",{className:"mb-8 space-y-6",children:C.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-[#e7e5e4] flex flex-col md:flex-row gap-6 items-center",children:[C.jsx("div",{className:"w-24 h-32 bg-[#f5f5f4] rounded shadow-md flex-shrink-0 flex items-center justify-center text-[#d6d3d1] overflow-hidden relative border border-[#e7e5e4]",children:a?C.jsx("img",{src:a,alt:"Cover",className:"w-full h-full object-cover"}):C.jsx(LM,{size:40})}),C.jsxs("div",{className:"flex-1",children:[C.jsx("h2",{className:"text-lg font-bold text-[#292524] mb-2",children:"3"}),C.jsx("p",{className:"text-[#57534e] text-sm leading-relaxed mb-4",children:"hide"}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsxs("label",{className:"cursor-pointer bg-white border border-[#d6d3d1] text-[#57534e] hover:bg-[#fafaf9] px-4 py-2 rounded-lg text-sm font-medium flex items-center gap-2 transition-colors",children:[C.jsx(ZM,{size:16}),a?"":"",C.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:m})]}),a&&C.jsxs("span",{className:"text-xs text-[#57534e] flex items-center gap-1",children:[C.jsx(oy,{size:12})," "]}),C.jsx("span",{className:"text-xs text-[#a8a29e]",children:""})]})]})]})}),C.jsxs("div",{className:"transition-all duration-300 ease-in-out",children:[e===Xt.GENERATE_SCRIPT&&C.jsx(jM,{onScriptConfirmed:c,initialScript:n}),e===Xt.GENERATE_AUDIO&&C.jsx(eN,{script:n,onBack:d,onNext:p=>f(p)}),e===Xt.GENERATE_SLIDES&&o&&C.jsx(tN,{script:n,audioBuffer:o,bookCoverImage:a,onBack:d})]})]})]})}const ay=document.getElementById("root");if(!ay)throw new Error("Could not find root element to mount to");const iN=lT.createRoot(ay);iN.render(C.jsx(Ry.StrictMode,{children:C.jsx(nN,{})}));
